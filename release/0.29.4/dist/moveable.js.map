{"version":3,"file":"moveable.js","sources":["../src/InnerMoveable.tsx","../../react-compat-moveable/dist/moveable.esm.js","../src/consts.ts","../src/MoveableManager.tsx","../src/Moveable.tsx","../src/utils.ts","../src/index.umd.ts"],"sourcesContent":["import * as React from \"react\";\nimport { createPortal } from \"react-dom\";\nimport Moveable, { MoveableProps } from \"react-moveable\";\nimport { ref } from \"framework-utils\";\n\nexport default class InnerMoveable extends React.Component<any> {\n    public state: any = {};\n    public moveable!: Moveable;\n    constructor(props: any) {\n        super(props);\n        this.state = this.props;\n    }\n    public render() {\n        return createPortal(<Moveable ref={ref(this, \"moveable\")} {...this.state} />, this.state.parentElement);\n    }\n}\n","/*\nCopyright (c) 2019 Daybrush\nname: react-compat-moveable\nlicense: MIT\nauthor: Daybrush\nrepository: https://github.com/daybrush/moveable/blob/master/packages/react-compat-moveable\nversion: 0.17.4\n*/\nimport getAgent from '@egjs/agent';\nimport { prefixNames, ref, withMethods, refs, prefixCSS } from 'framework-utils';\nimport { isObject, findIndex, isArray, splitSpace, getRad, throttle, hasClass, throttleArray, getShapeDirection, convertUnitSize, isString, average, calculateBoundSize, getDist as getDist$1, dot, addEvent, requestAnimationFrame, removeEvent, isUndefined, isFunction, addClass, splitBracket, splitComma, splitUnit, cancelAnimationFrame, getKeys, TINY_NUM as TINY_NUM$1, removeClass } from '@daybrush/utils';\nimport { calculate, convertPositionMatrix, minus, plus, invert, fromTranslation, multiply, convertDimension, multiplies, createOriginMatrix, createIdentityMatrix, ignoreDimension, createWarpMatrix, convertMatrixtoCSS, rotate, createRotateMatrix, createScaleMatrix, convertCSStoMatrix, getOrigin } from '@scena/matrix';\nimport { toMat, parse, calculateMatrixDist, parseMat } from 'css-to-mat';\nimport ChildrenDiffer, { diff } from '@egjs/children-differ';\nimport { fitPoints, getOverlapSize, getAreaSize, isInside, getMinMaxs } from 'overlap-area';\nimport DragScroll from '@scena/dragscroll';\nimport { createElement, PureComponent } from 'react-simple-compat';\nimport Gesto from 'gesto';\nimport styled from 'react-compat-css-styled';\n\n/*\nCopyright (c) 2019 Daybrush\nname: @scena/event-emitter\nlicense: MIT\nauthor: Daybrush\nrepository: git+https://github.com/daybrush/gesture.git\nversion: 1.0.5\n*/\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\nfunction __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n\n  return r;\n}\n\n/**\n * Implement EventEmitter on object or component.\n */\n\nvar EventEmitter =\n/*#__PURE__*/\nfunction () {\n  function EventEmitter() {\n    this._events = {};\n  }\n  /**\n   * Add a listener to the registered event.\n   * @param - Name of the event to be added\n   * @param - listener function of the event to be added\n   * @example\n   * import EventEmitter from \"@scena/event-emitter\";\n   * cosnt emitter = new EventEmitter();\n   *\n   * // Add listener in \"a\" event\n   * emitter.on(\"a\", () => {\n   * });\n   * // Add listeners\n   * emitter.on({\n   *  a: () => {},\n   *  b: () => {},\n   * });\n   */\n\n\n  var __proto = EventEmitter.prototype;\n\n  __proto.on = function (eventName, listener) {\n    if (isObject(eventName)) {\n      for (var name in eventName) {\n        this.on(name, eventName[name]);\n      }\n    } else {\n      this._addEvent(eventName, listener, {});\n    }\n\n    return this;\n  };\n  /**\n   * Remove listeners registered in the event target.\n   * @param - Name of the event to be removed\n   * @param - listener function of the event to be removed\n   * @example\n   * import EventEmitter from \"@scena/event-emitter\";\n   * cosnt emitter = new EventEmitter();\n   *\n   * // Remove all listeners.\n   * emitter.off();\n   *\n   * // Remove all listeners in \"A\" event.\n   * emitter.off(\"a\");\n   *\n   *\n   * // Remove \"listener\" listener in \"a\" event.\n   * emitter.off(\"a\", listener);\n   */\n\n\n  __proto.off = function (eventName, listener) {\n    if (!eventName) {\n      this._events = {};\n    } else if (isObject(eventName)) {\n      for (var name in eventName) {\n        this.off(name);\n      }\n    } else if (!listener) {\n      this._events[eventName] = [];\n    } else {\n      var events = this._events[eventName];\n\n      if (events) {\n        var index = findIndex(events, function (e) {\n          return e.listener === listener;\n        });\n\n        if (index > -1) {\n          events.splice(index, 1);\n        }\n      }\n    }\n\n    return this;\n  };\n  /**\n   * Add a disposable listener and Use promise to the registered event.\n   * @param - Name of the event to be added\n   * @param - disposable listener function of the event to be added\n   * @example\n   * import EventEmitter from \"@scena/event-emitter\";\n   * cosnt emitter = new EventEmitter();\n   *\n   * // Add a disposable listener in \"a\" event\n   * emitter.once(\"a\", () => {\n   * });\n   *\n   * // Use Promise\n   * emitter.once(\"a\").then(e => {\n   * });\n   */\n\n\n  __proto.once = function (eventName, listener) {\n    var _this = this;\n\n    if (listener) {\n      this._addEvent(eventName, listener, {\n        once: true\n      });\n    }\n\n    return new Promise(function (resolve) {\n      _this._addEvent(eventName, resolve, {\n        once: true\n      });\n    });\n  };\n  /**\n   * Fires an event to call listeners.\n   * @param - Event name\n   * @param - Event parameter\n   * @return If false, stop the event.\n   * @example\n   *\n   * import EventEmitter from \"@scena/event-emitter\";\n   *\n   *\n   * const emitter = new EventEmitter();\n   *\n   * emitter.on(\"a\", e => {\n   * });\n   *\n   *\n   * emitter.emit(\"a\", {\n   *   a: 1,\n   * });\n   */\n\n\n  __proto.emit = function (eventName, param) {\n    var _this = this;\n\n    if (param === void 0) {\n      param = {};\n    }\n\n    var events = this._events[eventName];\n\n    if (!eventName || !events) {\n      return true;\n    }\n\n    var isStop = false;\n    param.eventType = eventName;\n\n    param.stop = function () {\n      isStop = true;\n    };\n\n    param.currentTarget = this;\n\n    __spreadArrays(events).forEach(function (info) {\n      info.listener(param);\n\n      if (info.once) {\n        _this.off(eventName, info.listener);\n      }\n    });\n\n    return !isStop;\n  };\n  /**\n   * Fires an event to call listeners.\n   * @param - Event name\n   * @param - Event parameter\n   * @return If false, stop the event.\n   * @example\n   *\n   * import EventEmitter from \"@scena/event-emitter\";\n   *\n   *\n   * const emitter = new EventEmitter();\n   *\n   * emitter.on(\"a\", e => {\n   * });\n   *\n   *\n   * emitter.emit(\"a\", {\n   *   a: 1,\n   * });\n   */\n\n  /**\n  * Fires an event to call listeners.\n  * @param - Event name\n  * @param - Event parameter\n  * @return If false, stop the event.\n  * @example\n  *\n  * import EventEmitter from \"@scena/event-emitter\";\n  *\n  *\n  * const emitter = new EventEmitter();\n  *\n  * emitter.on(\"a\", e => {\n  * });\n  *\n  * // emit\n  * emitter.trigger(\"a\", {\n  *   a: 1,\n  * });\n  */\n\n\n  __proto.trigger = function (eventName, param) {\n    if (param === void 0) {\n      param = {};\n    }\n\n    return this.emit(eventName, param);\n  };\n\n  __proto._addEvent = function (eventName, listener, options) {\n    var events = this._events;\n    events[eventName] = events[eventName] || [];\n    var listeners = events[eventName];\n    listeners.push(__assign({\n      listener: listener\n    }, options));\n  };\n\n  return EventEmitter;\n}();\n\n/*\nCopyright (c) 2019 Daybrush\nname: react-moveable\nlicense: MIT\nauthor: Daybrush\nrepository: https://github.com/daybrush/moveable/blob/master/packages/react-moveable\nversion: 0.32.4\n*/\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\n\nvar extendStatics = function (d, b) {\n  extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n  };\n\n  return extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nvar __assign$1 = function () {\n  __assign$1 = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign$1.apply(this, arguments);\n};\n\nfunction __rest(s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n}\n\nfunction __decorate(decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nfunction __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nfunction makeAble(name, able) {\n  var _a;\n\n  return __assign$1({\n    events: {},\n    props: (_a = {}, _a[name] = Boolean, _a),\n    name: name\n  }, able);\n}\n\nfunction getSVGCursor(scale, degree) {\n  return \"data:image/svg+xml;utf8,<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"\".concat(32 * scale, \"px\\\" height=\\\"\").concat(32 * scale, \"px\\\" viewBox=\\\"0 0 32 32\\\" ><path d=\\\"M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"1.2\\\" fill=\\\"black\\\" stroke=\\\"white\\\" style=\\\"transform:rotate(\").concat(degree, \"deg);transform-origin: 16px 16px\\\"></path></svg>\");\n}\n\nfunction getCursorCSS(degree) {\n  var x1 = getSVGCursor(1, degree); // const x2 = getSVGCursor(2, degree);\n\n  var degree45 = Math.round(degree / 45) * 45 % 180;\n  var defaultCursor = \"ns-resize\";\n\n  if (degree45 === 135) {\n    defaultCursor = \"nwse-resize\";\n  } else if (degree45 === 45) {\n    defaultCursor = \"nesw-resize\";\n  } else if (degree45 === 90) {\n    defaultCursor = \"ew-resize\";\n  } // tslint:disable-next-line: max-line-length\n\n\n  return \"cursor:\".concat(defaultCursor, \";cursor: url('\").concat(x1, \"') 16 16, \").concat(defaultCursor, \";\");\n}\n\nvar agent = getAgent();\nvar IS_WEBKIT = agent.browser.webkit;\n\nvar IS_WEBKIT605 = IS_WEBKIT && function () {\n  var navi = typeof window === \"undefined\" ? {\n    userAgent: \"\"\n  } : window.navigator;\n  var res = /applewebkit\\/([^\\s]+)/g.exec(navi.userAgent.toLowerCase());\n  return res ? parseFloat(res[1]) < 605 : false;\n}();\n\nvar PREFIX = \"moveable-\";\nvar MOVEABLE_CSS = \"\\n{\\n\\tposition: absolute;\\n\\twidth: 1px;\\n\\theight: 1px;\\n\\tleft: 0;\\n\\ttop: 0;\\n    z-index: 3000;\\n    --moveable-color: #4af;\\n    --zoom: 1;\\n    --zoompx: 1px;\\n    will-change: transform;\\n}\\n.control-box {\\n    z-index: 0;\\n}\\n.line, .control {\\n    position: absolute;\\n\\tleft: 0;\\n    top: 0;\\n    will-change: transform;\\n}\\n.control {\\n\\twidth: 14px;\\n\\theight: 14px;\\n\\tborder-radius: 50%;\\n\\tborder: 2px solid #fff;\\n\\tbox-sizing: border-box;\\n    background: #4af;\\n    background: var(--moveable-color);\\n\\tmargin-top: -7px;\\n    margin-left: -7px;\\n    border: 2px solid #fff;\\n    z-index: 10;\\n}\\n.padding {\\n    position: absolute;\\n    top: 0px;\\n    left: 0px;\\n    width: 100px;\\n    height: 100px;\\n    transform-origin: 0 0;\\n}\\n.line {\\n\\twidth: 1px;\\n    height: 1px;\\n    background: #4af;\\n    background: var(--moveable-color);\\n\\ttransform-origin: 0px 50%;\\n}\\n.line.dashed {\\n    box-sizing: border-box;\\n    background: transparent;\\n}\\n.line.dashed.horizontal {\\n    border-top: 1px dashed #4af;\\n    border-top-color: #4af;\\n    border-top-color: var(--moveable-color);\\n}\\n.line.dashed.vertical {\\n    border-left: 1px dashed #4af;\\n    border-left-color: #4af;\\n    border-left-color: var(--moveable-color);\\n}\\n.line.vertical {\\n    transform: translateX(-50%);\\n}\\n.line.horizontal {\\n    transform: translateY(-50%);\\n}\\n.line.vertical.bold {\\n    width: 2px;\\n}\\n.line.horizontal.bold {\\n    height: 2px;\\n}\\n\\n.control.origin {\\n\\tborder-color: #f55;\\n\\tbackground: #fff;\\n\\twidth: 12px;\\n\\theight: 12px;\\n\\tmargin-top: -6px;\\n    margin-left: -6px;\\n\\tpointer-events: none;\\n}\\n\".concat([0, 15, 30, 45, 60, 75, 90, 105, 120, 135, 150, 165].map(function (degree) {\n  return \"\\n.direction[data-rotation=\\\"\".concat(degree, \"\\\"] {\\n\\t\").concat(getCursorCSS(degree), \"\\n}\\n\");\n}).join(\"\\n\"), \"\\n.group {\\n    z-index: -1;\\n}\\n.area {\\n    position: absolute;\\n}\\n.area-pieces {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    display: none;\\n}\\n.area.avoid, .area.pass {\\n    pointer-events: none;\\n}\\n.area.avoid+.area-pieces {\\n    display: block;\\n}\\n.area-piece {\\n    position: absolute;\\n}\\n\\n\").concat(IS_WEBKIT605 ? \":global svg *:before {\\n\\tcontent:\\\"\\\";\\n\\ttransform-origin: inherit;\\n}\" : \"\", \"\\n\");\nvar NEARBY_POS = [[0, 1, 2], [1, 0, 3], [2, 0, 3], [3, 1, 2]];\nvar FLOAT_POINT_NUM = 0.0001;\nvar TINY_NUM = 0.0000001;\nvar MIN_SCALE = 0.000000001;\nvar MAX_NUM = Math.pow(10, 10);\nvar MIN_NUM = -MAX_NUM;\nvar DIRECTIONS = [\"n\", \"w\", \"s\", \"e\", \"nw\", \"ne\", \"sw\", \"se\"];\nvar DIRECTION_INDEXES = {\n  n: [0, 1],\n  s: [2, 3],\n  w: [2, 0],\n  e: [1, 3],\n  nw: [0],\n  ne: [1],\n  sw: [2],\n  se: [3]\n};\nvar DIRECTION_ROTATIONS = {\n  n: 0,\n  s: 180,\n  w: 270,\n  e: 90,\n  nw: 315,\n  ne: 45,\n  sw: 225,\n  se: 135\n};\nvar MOVEABLE_METHODS = [\"isMoveableElement\", \"updateRect\", \"updateTarget\", \"destroy\", \"dragStart\", \"isInside\", \"hitTest\", \"setState\", \"getRect\", \"request\", \"isDragging\", \"getManager\", \"forceUpdate\"];\n\nfunction setCustomDrag(e, state, delta, isPinch, isConvert) {\n  var result = state.gesto.move(delta, e.inputEvent);\n  var datas = result.originalDatas || result.datas;\n  var draggableDatas = datas.draggable || (datas.draggable = {});\n  return __assign$1(__assign$1({}, isConvert ? convertDragDist(state, result) : result), {\n    isDrag: true,\n    isPinch: !!isPinch,\n    parentEvent: true,\n    datas: draggableDatas,\n    originalDatas: e.originalDatas\n  });\n}\n\nvar CustomGesto =\n/*#__PURE__*/\nfunction () {\n  function CustomGesto() {\n    this.prevX = 0;\n    this.prevY = 0;\n    this.startX = 0;\n    this.startY = 0;\n    this.isDrag = false;\n    this.isFlag = false;\n    this.datas = {\n      draggable: {}\n    };\n  }\n\n  var __proto = CustomGesto.prototype;\n\n  __proto.dragStart = function (client, e) {\n    this.isDrag = false;\n    this.isFlag = false;\n    var originalDatas = e.originalDatas;\n    this.datas = originalDatas;\n\n    if (!originalDatas.draggable) {\n      originalDatas.draggable = {};\n    }\n\n    return __assign$1(__assign$1({}, this.move(client, e.inputEvent)), {\n      type: \"dragstart\"\n    });\n  };\n\n  __proto.drag = function (client, inputEvent) {\n    return this.move([client[0] - this.prevX, client[1] - this.prevY], inputEvent);\n  };\n\n  __proto.move = function (delta, inputEvent) {\n    var clientX;\n    var clientY;\n\n    if (!this.isFlag) {\n      this.prevX = delta[0];\n      this.prevY = delta[1];\n      this.startX = delta[0];\n      this.startY = delta[1];\n      clientX = delta[0];\n      clientY = delta[1];\n      this.isFlag = true;\n    } else {\n      clientX = this.prevX + delta[0];\n      clientY = this.prevY + delta[1];\n      this.isDrag = true;\n    }\n\n    this.prevX = clientX;\n    this.prevY = clientY;\n    return {\n      type: \"drag\",\n      clientX: clientX,\n      clientY: clientY,\n      inputEvent: inputEvent,\n      isDrag: this.isDrag,\n      distX: clientX - this.startX,\n      distY: clientY - this.startY,\n      deltaX: delta[0],\n      deltaY: delta[1],\n      datas: this.datas.draggable,\n      originalDatas: this.datas,\n      parentEvent: true,\n      parentGesto: this\n    };\n  };\n\n  return CustomGesto;\n}();\n\nfunction fillChildEvents(moveable, name, e) {\n  var datas = e.originalDatas;\n  datas.groupable = datas.groupable || {};\n  var groupableDatas = datas.groupable;\n  groupableDatas.childDatas = groupableDatas.childDatas || [];\n  var childDatas = groupableDatas.childDatas;\n  return moveable.moveables.map(function (_, i) {\n    childDatas[i] = childDatas[i] || {};\n    childDatas[i][name] = childDatas[i][name] || {};\n    return __assign$1(__assign$1({}, e), {\n      datas: childDatas[i][name],\n      originalDatas: childDatas[i]\n    });\n  });\n}\n\nfunction triggerChildGesto(moveable, able, type, delta, e, isConvert) {\n  var isStart = !!type.match(/Start$/g);\n  var isEnd = !!type.match(/End$/g);\n  var isPinch = e.isPinch;\n  var datas = e.datas;\n  var events = fillChildEvents(moveable, able.name, e);\n  var moveables = moveable.moveables;\n  var childs = events.map(function (ev, i) {\n    var childMoveable = moveables[i];\n    var childEvent = ev;\n\n    if (isStart) {\n      childEvent = new CustomGesto().dragStart(delta, ev);\n    } else {\n      if (!childMoveable.state.gesto) {\n        childMoveable.state.gesto = datas.childGestos[i];\n      }\n\n      childEvent = setCustomDrag(ev, childMoveable.state, delta, isPinch, isConvert);\n    }\n\n    var result = able[type](childMoveable, __assign$1(__assign$1({}, childEvent), {\n      parentFlag: true\n    }));\n\n    if (isEnd) {\n      childMoveable.state.gesto = null;\n    }\n\n    return result;\n  });\n\n  if (isStart) {\n    datas.childGestos = moveables.map(function (child) {\n      return child.state.gesto;\n    });\n  }\n\n  return childs;\n}\n\nfunction triggerChildAbles(moveable, able, type, e, eachEvent, callback) {\n  if (eachEvent === void 0) {\n    eachEvent = function (_, ev) {\n      return ev;\n    };\n  }\n\n  var isEnd = !!type.match(/End$/g);\n  var events = fillChildEvents(moveable, able.name, e);\n  var moveables = moveable.moveables;\n  var childs = events.map(function (ev, i) {\n    var childMoveable = moveables[i];\n    var childEvent = ev;\n    childEvent = eachEvent(childMoveable, ev);\n    var result = able[type](childMoveable, __assign$1(__assign$1({}, childEvent), {\n      parentFlag: true\n    }));\n    result && callback && callback(childMoveable, ev, result, i);\n\n    if (isEnd) {\n      childMoveable.state.gesto = null;\n    }\n\n    return result;\n  });\n  return childs;\n}\n\nfunction renderDirectionControls(moveable, defaultDirections, React, additionalClassName) {\n  if (additionalClassName === void 0) {\n    additionalClassName = \"\";\n  }\n\n  var _a = moveable.state,\n      renderPoses = _a.renderPoses,\n      rotationRad = _a.rotation,\n      direction = _a.direction;\n  var _b = moveable.props,\n      _c = _b.renderDirections,\n      directions = _c === void 0 ? defaultDirections : _c,\n      zoom = _b.zoom;\n  var directionMap = {};\n\n  if (!directions) {\n    return [];\n  }\n\n  var sign = direction > 0 ? 1 : -1;\n  var renderDirections = directions === true ? DIRECTIONS : directions;\n  var degRotation = rotationRad / Math.PI * 180;\n  renderDirections.forEach(function (dir) {\n    directionMap[dir] = true;\n  });\n  return renderDirections.map(function (dir) {\n    var indexes = DIRECTION_INDEXES[dir];\n\n    if (!indexes || !directionMap[dir]) {\n      return null;\n    }\n\n    var directionRotation = (throttle(degRotation, 15) + sign * DIRECTION_ROTATIONS[dir] + 720) % 180;\n    return React.createElement(\"div\", {\n      className: prefix(\"control\", \"direction\", dir, additionalClassName),\n      \"data-rotation\": directionRotation,\n      \"data-direction\": dir,\n      key: \"direction-\".concat(dir),\n      style: getControlTransform.apply(void 0, __spreadArray([rotationRad, zoom], indexes.map(function (index) {\n        return renderPoses[index];\n      }), false))\n    });\n  });\n}\n\nfunction renderLine(React, direction, pos1, pos2, zoom, key) {\n  var classNames = [];\n\n  for (var _i = 6; _i < arguments.length; _i++) {\n    classNames[_i - 6] = arguments[_i];\n  }\n\n  var rad = getRad(pos1, pos2);\n  var rotation = direction ? throttle(rad / Math.PI * 180, 15) % 180 : -1;\n  return React.createElement(\"div\", {\n    key: \"line\".concat(key),\n    className: prefix.apply(void 0, __spreadArray([\"line\", \"direction\", direction], classNames, false)),\n    \"data-rotation\": rotation,\n    \"data-line-index\": key,\n    \"data-direction\": direction,\n    style: getLineStyle(pos1, pos2, zoom, rad)\n  });\n}\n\nfunction renderAllDirections(moveable, React) {\n  return renderDirectionControls(moveable, DIRECTIONS, React);\n}\n\nfunction renderDiagonalDirections(moveable, React) {\n  return renderDirectionControls(moveable, [\"nw\", \"ne\", \"sw\", \"se\"], React);\n}\n/**\n * @namespace Rotatable\n * @memberof Moveable\n * @description Rotatable indicates whether the target can be rotated.\n */\n\n\nfunction setRotateStartInfo(moveable, datas, clientX, clientY, origin, rect) {\n  var n = moveable.state.is3d ? 4 : 3;\n  var nextOrigin = calculatePosition(moveable.state.rootMatrix, origin, n);\n  var startAbsoluteOrigin = plus([rect.left, rect.top], nextOrigin);\n  datas.startAbsoluteOrigin = startAbsoluteOrigin;\n  datas.prevDeg = getRad(startAbsoluteOrigin, [clientX, clientY]) / Math.PI * 180;\n  datas.defaultDeg = datas.prevDeg;\n  datas.prevSnapDeg = 0;\n  datas.loop = 0;\n}\n\nfunction getAbsoluteDist(deg, direction, datas) {\n  var defaultDeg = datas.defaultDeg,\n      prevDeg = datas.prevDeg;\n  var normalizedPrevDeg = prevDeg % 360;\n  var loop = Math.floor(prevDeg / 360);\n\n  if (normalizedPrevDeg < 0) {\n    normalizedPrevDeg += 360;\n  }\n\n  if (normalizedPrevDeg > deg && normalizedPrevDeg > 270 && deg < 90) {\n    // 360 => 0\n    ++loop;\n  } else if (normalizedPrevDeg < deg && normalizedPrevDeg < 90 && deg > 270) {\n    // 0 => 360\n    --loop;\n  }\n\n  var dist = direction * (loop * 360 + deg - defaultDeg);\n  datas.prevDeg = defaultDeg + dist;\n  return dist;\n}\n\nfunction getAbsoluteDistByClient(clientX, clientY, direction, datas) {\n  return getAbsoluteDist(getRad(datas.startAbsoluteOrigin, [clientX, clientY]) / Math.PI * 180, direction, datas);\n}\n\nfunction getRotateInfo(moveable, moveableRect, datas, dist, startValue, isSnap) {\n  var _a = moveable.props.throttleRotate,\n      throttleRotate = _a === void 0 ? 0 : _a;\n  var nextDist = dist;\n  var prevSnapDeg = datas.prevSnapDeg;\n\n  if (isSnap) {\n    nextDist = checkSnapRotate(moveable, moveableRect, datas.origin, nextDist);\n  }\n\n  var snapRotation = throttle(startValue + nextDist, throttleRotate);\n  var snapDeg = snapRotation - startValue;\n  datas.prevSnapDeg = snapDeg;\n  return [snapDeg - prevSnapDeg, nextDist, snapRotation];\n}\n\nfunction getRotationPositions(rotationPosition, _a, direction) {\n  var pos1 = _a[0],\n      pos2 = _a[1],\n      pos3 = _a[2],\n      pos4 = _a[3];\n\n  if (rotationPosition === \"none\") {\n    return;\n  }\n\n  var _b = (rotationPosition || \"top\").split(\"-\"),\n      dir1 = _b[0],\n      dir2 = _b[1];\n\n  var radPoses = [pos1, pos2]; // if (scale[0] < 0) {\n  //     dir1 = getReversePositionX(dir1);\n  //     dir2 = getReversePositionX(dir2);\n  // }\n  // if (scale[1] < 0) {\n  //     dir1 = getReversePositionY(dir1);\n  //     dir2 = getReversePositionY(dir2);\n  // }\n\n  if (dir1 === \"left\") {\n    radPoses = [pos3, pos1];\n  } else if (dir1 === \"right\") {\n    radPoses = [pos2, pos4];\n  } else if (dir1 === \"bottom\") {\n    radPoses = [pos4, pos3];\n  }\n\n  var pos = [(radPoses[0][0] + radPoses[1][0]) / 2, (radPoses[0][1] + radPoses[1][1]) / 2];\n  var rad = getRotationRad(radPoses, direction);\n\n  if (dir2) {\n    var isStart = dir2 === \"top\" || dir2 === \"left\";\n    var isReverse = dir1 === \"bottom\" || dir1 === \"left\";\n    pos = radPoses[isStart && !isReverse || !isStart && isReverse ? 0 : 1];\n  }\n\n  return [pos, rad];\n}\n\nfunction dragControlCondition(moveable, e) {\n  if (e.isRequest) {\n    return e.requestAble === \"rotatable\";\n  }\n\n  var target = e.inputEvent.target;\n\n  if (hasClass(target, prefix(\"rotation-control\"))) {\n    return true;\n  }\n\n  var rotationTarget = moveable.props.rotationTarget;\n\n  if (rotationTarget) {\n    return getRefTargets(rotationTarget, true).some(function (element) {\n      if (!element) {\n        return false;\n      }\n\n      return target === element || target.contains(element);\n    });\n  }\n\n  return false;\n}\n\nvar Rotatable = {\n  name: \"rotatable\",\n  canPinch: true,\n  props: {\n    rotatable: Boolean,\n    rotationPosition: String,\n    throttleRotate: Number,\n    renderDirections: Object,\n    rotationTarget: Object\n  },\n  events: {\n    onRotateStart: \"rotateStart\",\n    onBeforeRotate: \"beforeRotate\",\n    onRotate: \"rotate\",\n    onRotateEnd: \"rotateEnd\",\n    onRotateGroupStart: \"rotateGroupStart\",\n    onBeforeRotateGroup: \"beforeRotateGroup\",\n    onRotateGroup: \"rotateGroup\",\n    onRotateGroupEnd: \"rotateGroupEnd\"\n  },\n  css: [\".rotation {\\n            position: absolute;\\n            height: 40px;\\n            width: 1px;\\n            transform-origin: 50% 100%;\\n            height: calc(40px * var(--zoom));\\n            top: auto;\\n            left: 0;\\n            bottom: 100%;\\n            will-change: transform;\\n        }\\n        .rotation .rotation-line {\\n            display: block;\\n            width: 100%;\\n            height: 100%;\\n            transform-origin: 50% 50%;\\n        }\\n        .rotation .rotation-control {\\n            border-color: #4af;\\n            border-color: var(--moveable-color);\\n            background:#fff;\\n            cursor: alias;\\n        }\"],\n  render: function (moveable, React) {\n    var _a = moveable.props,\n        rotatable = _a.rotatable,\n        rotationPosition = _a.rotationPosition,\n        zoom = _a.zoom,\n        renderDirections = _a.renderDirections;\n    var _b = moveable.state,\n        renderPoses = _b.renderPoses,\n        direction = _b.direction;\n\n    if (!rotatable) {\n      return null;\n    }\n\n    var positions = getRotationPositions(rotationPosition, renderPoses, direction);\n    var jsxs = [];\n\n    if (positions) {\n      var pos = positions[0],\n          rad = positions[1];\n      jsxs.push(React.createElement(\"div\", {\n        key: \"rotation\",\n        className: prefix(\"rotation\"),\n        style: {\n          // tslint:disable-next-line: max-line-length\n          transform: \"translate(-50%) translate(\".concat(pos[0], \"px, \").concat(pos[1], \"px) rotate(\").concat(rad, \"rad)\")\n        }\n      }, React.createElement(\"div\", {\n        className: prefix(\"line rotation-line\"),\n        style: {\n          transform: \"scaleX(\".concat(zoom, \")\")\n        }\n      }), React.createElement(\"div\", {\n        className: prefix(\"control rotation-control\"),\n        style: {\n          transform: \"translate(0.5px) scale(\".concat(zoom, \")\")\n        }\n      })));\n    }\n\n    if (renderDirections) {\n      jsxs.push.apply(jsxs, renderDirectionControls(moveable, [], React));\n    }\n\n    return jsxs;\n  },\n  dragControlCondition: dragControlCondition,\n  dragControlStart: function (moveable, e) {\n    var datas = e.datas,\n        clientX = e.clientX,\n        clientY = e.clientY,\n        parentRotate = e.parentRotate,\n        parentFlag = e.parentFlag,\n        isPinch = e.isPinch,\n        isRequest = e.isRequest;\n    var _a = moveable.state,\n        target = _a.target,\n        left = _a.left,\n        top = _a.top,\n        origin = _a.origin,\n        beforeOrigin = _a.beforeOrigin,\n        direction = _a.direction,\n        beforeDirection = _a.beforeDirection,\n        targetTransform = _a.targetTransform,\n        moveableClientRect = _a.moveableClientRect;\n\n    if (!isRequest && !target) {\n      return false;\n    }\n\n    var rect = moveable.getRect();\n    datas.rect = rect;\n    datas.transform = targetTransform;\n    datas.left = left;\n    datas.top = top;\n    datas.fixedPosition = getDirectionOffset(moveable, getOriginDirection(moveable));\n\n    if (isRequest || isPinch || parentFlag) {\n      var externalRotate = parentRotate || 0;\n      datas.beforeInfo = {\n        origin: rect.beforeOrigin,\n        prevDeg: externalRotate,\n        defaultDeg: externalRotate,\n        prevSnapDeg: 0\n      };\n      datas.afterInfo = __assign$1(__assign$1({}, datas.beforeInfo), {\n        origin: rect.origin\n      });\n      datas.absoluteInfo = __assign$1(__assign$1({}, datas.beforeInfo), {\n        origin: rect.origin,\n        startValue: externalRotate\n      });\n    } else {\n      datas.beforeInfo = {\n        origin: rect.beforeOrigin\n      };\n      datas.afterInfo = {\n        origin: rect.origin\n      };\n      datas.absoluteInfo = {\n        origin: rect.origin,\n        startValue: rect.rotation\n      };\n      setRotateStartInfo(moveable, datas.beforeInfo, clientX, clientY, beforeOrigin, moveableClientRect);\n      setRotateStartInfo(moveable, datas.afterInfo, clientX, clientY, origin, moveableClientRect);\n      setRotateStartInfo(moveable, datas.absoluteInfo, clientX, clientY, origin, moveableClientRect);\n    }\n\n    datas.direction = direction;\n    datas.beforeDirection = beforeDirection;\n    datas.startValue = 0;\n    datas.datas = {};\n    setDefaultTransformIndex(e, \"rotate\");\n    var params = fillParams(moveable, e, __assign$1(__assign$1({\n      set: function (rotatation) {\n        datas.startValue = rotatation * Math.PI / 180;\n      }\n    }, fillTransformStartEvent(e)), {\n      dragStart: Draggable.dragStart(moveable, new CustomGesto().dragStart([0, 0], e))\n    }));\n    var result = triggerEvent(moveable, \"onRotateStart\", params);\n    datas.isRotate = result !== false;\n    moveable.state.snapRenderInfo = {\n      request: e.isRequest\n    };\n    return datas.isRotate ? params : false;\n  },\n  dragControl: function (moveable, e) {\n    var _a, _b, _c;\n\n    var datas = e.datas,\n        clientX = e.clientX,\n        clientY = e.clientY,\n        parentRotate = e.parentRotate,\n        parentFlag = e.parentFlag,\n        isPinch = e.isPinch,\n        groupDelta = e.groupDelta;\n    var beforeDirection = datas.beforeDirection,\n        beforeInfo = datas.beforeInfo,\n        afterInfo = datas.afterInfo,\n        absoluteInfo = datas.absoluteInfo,\n        isRotate = datas.isRotate,\n        startValue = datas.startValue,\n        rect = datas.rect;\n\n    if (!isRotate) {\n      return;\n    }\n\n    resolveTransformEvent(e, \"rotate\");\n    var targetDirection = getTransformDirection(e);\n    var direction = beforeDirection * targetDirection;\n    var parentMoveable = moveable.props.parentMoveable;\n    var beforeDelta = 0;\n    var beforeDist;\n    var beforeRotation;\n    var delta = 0;\n    var dist;\n    var rotation;\n    var absoluteDelta = 0;\n    var absoluteDist;\n    var absoluteRotation;\n    var startRotation = 180 / Math.PI * startValue;\n    var absoluteStartRotation = absoluteInfo.startValue;\n    var isSnap = false;\n\n    if (!parentFlag && \"parentDist\" in e) {\n      var parentDist = e.parentDist;\n      beforeDist = parentDist;\n      dist = parentDist;\n      absoluteDist = parentDist;\n    } else if (isPinch || parentFlag) {\n      beforeDist = getAbsoluteDist(parentRotate, beforeDirection, beforeInfo);\n      dist = getAbsoluteDist(parentRotate, direction, afterInfo);\n      absoluteDist = getAbsoluteDist(parentRotate, direction, absoluteInfo);\n    } else {\n      beforeDist = getAbsoluteDistByClient(clientX, clientY, beforeDirection, beforeInfo);\n      dist = getAbsoluteDistByClient(clientX, clientY, direction, afterInfo);\n      absoluteDist = getAbsoluteDistByClient(clientX, clientY, direction, absoluteInfo);\n      isSnap = true;\n    }\n\n    beforeRotation = startRotation + beforeDist;\n    rotation = startRotation + dist;\n    absoluteRotation = absoluteStartRotation + absoluteDist;\n    triggerEvent(moveable, \"onBeforeRotate\", fillParams(moveable, e, {\n      beforeRotation: beforeRotation,\n      rotation: rotation,\n      absoluteRotation: absoluteRotation,\n      setRotation: function (nextRotation) {\n        dist = nextRotation - startRotation;\n        beforeDist = dist;\n        absoluteDist = dist;\n      }\n    }));\n    _a = getRotateInfo(moveable, rect, beforeInfo, beforeDist, startRotation, isSnap), beforeDelta = _a[0], beforeDist = _a[1], beforeRotation = _a[2];\n    _b = getRotateInfo(moveable, rect, afterInfo, dist, startRotation, isSnap), delta = _b[0], dist = _b[1], rotation = _b[2];\n    _c = getRotateInfo(moveable, rect, absoluteInfo, absoluteDist, absoluteStartRotation, isSnap), absoluteDelta = _c[0], absoluteDist = _c[1], absoluteRotation = _c[2];\n\n    if (!absoluteDelta && !delta && !beforeDelta && !parentMoveable) {\n      return;\n    }\n\n    var nextTransform = convertTransformFormat(datas, \"rotate(\".concat(rotation, \"deg)\"), \"rotate(\".concat(dist, \"deg)\"));\n    var inverseDist = getRotateDist(moveable, dist, datas.fixedPosition, datas);\n    var inverseDelta = minus(plus(groupDelta || [0, 0], inverseDist), datas.prevInverseDist || [0, 0]);\n    datas.prevInverseDist = inverseDist;\n    datas.requestValue = null;\n    var params = fillParams(moveable, e, __assign$1({\n      delta: delta,\n      dist: dist,\n      rotate: rotation,\n      rotation: rotation,\n      beforeDist: beforeDist,\n      beforeDelta: beforeDelta,\n      beforeRotate: beforeRotation,\n      beforeRotation: beforeRotation,\n      absoluteDist: absoluteDist,\n      absoluteDelta: absoluteDelta,\n      absoluteRotate: absoluteRotation,\n      absoluteRotation: absoluteRotation,\n      isPinch: !!isPinch\n    }, fillTransformEvent(moveable, nextTransform, inverseDelta, isPinch, e)));\n    triggerEvent(moveable, \"onRotate\", params);\n    return params;\n  },\n  dragControlAfter: function (moveable, e) {\n    var requestValue = e.datas.requestValue;\n  },\n  dragControlEnd: function (moveable, e) {\n    var datas = e.datas;\n\n    if (!datas.isRotate) {\n      return;\n    }\n\n    datas.isRotate = false;\n    var params = fillEndParams(moveable, e, {});\n    triggerEvent(moveable, \"onRotateEnd\", params);\n    return params;\n  },\n  dragGroupControlCondition: dragControlCondition,\n  dragGroupControlStart: function (moveable, e) {\n    var datas = e.datas;\n    var _a = moveable.state,\n        parentLeft = _a.left,\n        parentTop = _a.top,\n        parentBeforeOrigin = _a.beforeOrigin;\n    var params = this.dragControlStart(moveable, e);\n\n    if (!params) {\n      return false;\n    }\n\n    params.set(datas.beforeDirection * moveable.rotation);\n    var events = triggerChildAbles(moveable, this, \"dragControlStart\", e, function (child, ev) {\n      var _a = child.state,\n          left = _a.left,\n          top = _a.top,\n          beforeOrigin = _a.beforeOrigin;\n      var childClient = plus(minus([left, top], [parentLeft, parentTop]), minus(beforeOrigin, parentBeforeOrigin));\n      ev.datas.groupClient = childClient;\n      return __assign$1(__assign$1({}, ev), {\n        parentRotate: 0\n      });\n    });\n\n    var nextParams = __assign$1(__assign$1({}, params), {\n      targets: moveable.props.targets,\n      events: events\n    });\n\n    var result = triggerEvent(moveable, \"onRotateGroupStart\", nextParams);\n    datas.isRotate = result !== false;\n    return datas.isRotate ? params : false;\n  },\n  dragGroupControl: function (moveable, e) {\n    var datas = e.datas;\n\n    if (!datas.isRotate) {\n      return;\n    }\n\n    catchEvent(moveable, \"onBeforeRotate\", function (parentEvent) {\n      triggerEvent(moveable, \"onBeforeRotateGroup\", fillParams(moveable, e, __assign$1(__assign$1({}, parentEvent), {\n        targets: moveable.props.targets\n      })));\n    });\n    var params = this.dragControl(moveable, e);\n\n    if (!params) {\n      return;\n    }\n\n    var direction = datas.beforeDirection;\n    var parentRotate = params.beforeDist;\n    var deg = params.beforeDelta;\n    var rad = deg / 180 * Math.PI;\n    var events = triggerChildAbles(moveable, this, \"dragControl\", e, function (_, ev) {\n      var _a = ev.datas.groupClient,\n          prevX = _a[0],\n          prevY = _a[1];\n\n      var _b = rotate([prevX, prevY], rad * direction),\n          clientX = _b[0],\n          clientY = _b[1];\n\n      var delta = [clientX - prevX, clientY - prevY];\n      ev.datas.groupClient = [clientX, clientY];\n      return __assign$1(__assign$1({}, ev), {\n        parentRotate: parentRotate,\n        groupDelta: delta\n      });\n    });\n    moveable.rotation = direction * params.beforeRotation;\n\n    var nextParams = __assign$1({\n      targets: moveable.props.targets,\n      events: events,\n      set: function (rotation) {\n        moveable.rotation = rotation;\n      },\n      setGroupRotation: function (rotation) {\n        moveable.rotation = rotation;\n      }\n    }, params);\n\n    triggerEvent(moveable, \"onRotateGroup\", nextParams);\n    return nextParams;\n  },\n  dragGroupControlEnd: function (moveable, e) {\n    var isDrag = e.isDrag,\n        datas = e.datas;\n\n    if (!datas.isRotate) {\n      return;\n    }\n\n    this.dragControlEnd(moveable, e);\n    var events = triggerChildAbles(moveable, this, \"dragControlEnd\", e);\n    var nextParams = fillEndParams(moveable, e, {\n      targets: moveable.props.targets,\n      events: events\n    });\n    triggerEvent(moveable, \"onRotateGroupEnd\", nextParams);\n    return isDrag;\n  },\n\n  /**\n   * @method Moveable.Rotatable#request\n   * @param {object} [e] - the Resizable's request parameter\n   * @param {number} [e.deltaRotate=0] -  delta number of rotation\n   * @param {number} [e.rotate=0] - absolute number of moveable's rotation\n   * @return {Moveable.Requester} Moveable Requester\n   * @example\n    * // Instantly Request (requestStart - request - requestEnd)\n   * moveable.request(\"rotatable\", { deltaRotate: 10 }, true);\n   *\n   * * moveable.request(\"rotatable\", { rotate: 10 }, true);\n   *\n   * // requestStart\n   * const requester = moveable.request(\"rotatable\");\n   *\n   * // request\n   * requester.request({ deltaRotate: 10 });\n   * requester.request({ deltaRotate: 10 });\n   * requester.request({ deltaRotate: 10 });\n   *\n   * requester.request({ rotate: 10 });\n   * requester.request({ rotate: 20 });\n   * requester.request({ rotate: 30 });\n   *\n   * // requestEnd\n   * requester.requestEnd();\n   */\n  request: function (moveable) {\n    var datas = {};\n    var distRotate = 0;\n    var startRotation = moveable.getRotation();\n    return {\n      isControl: true,\n      requestStart: function () {\n        return {\n          datas: datas\n        };\n      },\n      request: function (e) {\n        if (\"deltaRotate\" in e) {\n          distRotate += e.deltaRotate;\n        } else if (\"rotate\" in e) {\n          distRotate = e.rotate - startRotation;\n        }\n\n        return {\n          datas: datas,\n          parentDist: distRotate\n        };\n      },\n      requestEnd: function () {\n        return {\n          datas: datas,\n          isDrag: true\n        };\n      }\n    };\n  }\n};\n/**\n * Whether or not target can be rotated. (default: false)\n * @name Moveable.Rotatable#rotatable\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.rotatable = true;\n */\n\n/**\n * You can specify the position of the rotation. (default: \"top\")\n * @name Moveable.Rotatable#rotationPosition\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *   rotationPosition: \"top\",\n * });\n *\n * moveable.rotationPosition = \"bottom\"\n */\n\n/**\n * throttle of angle(degree) when rotate.\n * @name Moveable.Rotatable#throttleRotate\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.throttleRotate = 1;\n */\n\n/**\n * When the rotate starts, the rotateStart event is called.\n * @memberof Moveable.Rotatable\n * @event rotateStart\n * @param {Moveable.Rotatable.OnRotateStart} - Parameters for the rotateStart event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { rotatable: true });\n * moveable.on(\"rotateStart\", ({ target }) => {\n *     console.log(target);\n * });\n */\n\n/**\n* When rotating, the rotate event is called.\n* @memberof Moveable.Rotatable\n* @event rotate\n* @param {Moveable.Rotatable.OnRotate} - Parameters for the rotate event\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, { rotatable: true });\n* moveable.on(\"rotate\", ({ target, transform, dist }) => {\n*     target.style.transform = transform;\n* });\n*/\n\n/**\n * When the rotate finishes, the rotateEnd event is called.\n * @memberof Moveable.Rotatable\n * @event rotateEnd\n * @param {Moveable.Rotatable.OnRotateEnd} - Parameters for the rotateEnd event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { rotatable: true });\n * moveable.on(\"rotateEnd\", ({ target, isDrag }) => {\n *     console.log(target, isDrag);\n * });\n */\n\n/**\n * When the group rotate starts, the `rotateGroupStart` event is called.\n * @memberof Moveable.Rotatable\n * @event rotateGroupStart\n * @param {Moveable.Rotatable.OnRotateGroupStart} - Parameters for the `rotateGroupStart` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n *     rotatable: true\n * });\n * moveable.on(\"rotateGroupStart\", ({ targets }) => {\n *     console.log(\"onRotateGroupStart\", targets);\n * });\n */\n\n/**\n* When the group rotate, the `rotateGroup` event is called.\n* @memberof Moveable.Rotatable\n* @event rotateGroup\n* @param {Moveable.Rotatable.OnRotateGroup} - Parameters for the `rotateGroup` event\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     target: [].slice.call(document.querySelectorAll(\".target\")),\n*     rotatable: true\n* });\n* moveable.on(\"rotateGroup\", ({ targets, events }) => {\n*     console.log(\"onRotateGroup\", targets);\n*     events.forEach(ev => {\n*         const target = ev.target;\n*         // ev.drag is a drag event that occurs when the group rotate.\n*         const left = ev.drag.beforeDist[0];\n*         const top = ev.drag.beforeDist[1];\n*         const deg = ev.beforeDist;\n*     });\n* });\n*/\n\n/**\n * When the group rotate finishes, the `rotateGroupEnd` event is called.\n * @memberof Moveable.Rotatable\n * @event rotateGroupEnd\n * @param {Moveable.Rotatable.OnRotateGroupEnd} - Parameters for the `rotateGroupEnd` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n *     rotatable: true\n * });\n * moveable.on(\"rotateGroupEnd\", ({ targets, isDrag }) => {\n *     console.log(\"onRotateGroupEnd\", targets, isDrag);\n * });\n */\n\nvar VERTICAL_NAMES = [\"left\", \"right\", \"center\"];\nvar HORIZONTAL_NAMES = [\"top\", \"bottom\", \"middle\"];\nvar VERTICAL_NAMES_MAP = {\n  start: \"left\",\n  end: \"right\",\n  center: \"center\"\n};\nvar HORIZONTAL_NAMES_MAP = {\n  start: \"top\",\n  end: \"bottom\",\n  center: \"middle\"\n};\n\nfunction hasGuidelines(moveable, ableName) {\n  var _a = moveable.props,\n      snappable = _a.snappable,\n      bounds = _a.bounds,\n      innerBounds = _a.innerBounds,\n      verticalGuidelines = _a.verticalGuidelines,\n      horizontalGuidelines = _a.horizontalGuidelines,\n      snapGridWidth = _a.snapGridWidth,\n      snapGridHeight = _a.snapGridHeight,\n      _b = moveable.state,\n      guidelines = _b.guidelines,\n      enableSnap = _b.enableSnap;\n\n  if (!snappable || !enableSnap || ableName && snappable !== true && snappable.indexOf(ableName) < 0) {\n    return false;\n  }\n\n  if (snapGridWidth || snapGridHeight || bounds || innerBounds || guidelines && guidelines.length || verticalGuidelines && verticalGuidelines.length || horizontalGuidelines && horizontalGuidelines.length) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction getSnapDirections(snapDirections) {\n  if (snapDirections === false) {\n    return {};\n  } else if (snapDirections === true || !snapDirections) {\n    return {\n      left: true,\n      right: true,\n      top: true,\n      bottom: true\n    };\n  }\n\n  return snapDirections;\n}\n\nfunction mapSnapDirectionPoses(snapDirections, snapPoses) {\n  var nextSnapDirections = getSnapDirections(snapDirections);\n  var nextSnapPoses = {};\n\n  for (var name in nextSnapDirections) {\n    if (name in snapPoses && nextSnapDirections[name]) {\n      nextSnapPoses[name] = snapPoses[name];\n    }\n  }\n\n  return nextSnapPoses;\n}\n\nfunction splitSnapDirectionPoses(snapDirections, snapPoses) {\n  var nextSnapPoses = mapSnapDirectionPoses(snapDirections, snapPoses);\n  var horizontalNames = HORIZONTAL_NAMES.filter(function (name) {\n    return name in nextSnapPoses;\n  });\n  var verticalNames = VERTICAL_NAMES.filter(function (name) {\n    return name in nextSnapPoses;\n  });\n  return {\n    horizontal: horizontalNames.map(function (name) {\n      return nextSnapPoses[name];\n    }),\n    vertical: verticalNames.map(function (name) {\n      return nextSnapPoses[name];\n    })\n  };\n}\n\nfunction getGapGuidelines(moveable, targetRect, snapThreshold) {\n  var elementRects = moveable.state.elementRects;\n  var gapGuidelines = [];\n  [[\"vertical\", VERTICAL_NAMES_MAP, HORIZONTAL_NAMES_MAP], [\"horizontal\", HORIZONTAL_NAMES_MAP, VERTICAL_NAMES_MAP]].forEach(function (_a) {\n    var type = _a[0],\n        mainNames = _a[1],\n        sideNames = _a[2];\n    var targetStart = targetRect[mainNames.start];\n    var targetEnd = targetRect[mainNames.end];\n    var targetCenter = targetRect[mainNames.center];\n    var targetStart2 = targetRect[sideNames.start];\n    var targetEnd2 = targetRect[sideNames.end]; // element : moveable\n\n    function getDist(elementRect) {\n      var rect = elementRect.rect;\n\n      if (rect[mainNames.end] < targetStart + snapThreshold) {\n        return targetStart - rect[mainNames.end];\n      } else if (targetEnd - snapThreshold < rect[mainNames.start]) {\n        return rect[mainNames.start] - targetEnd;\n      } else {\n        return -1;\n      }\n    }\n\n    var nextElementRects = elementRects.filter(function (elementRect) {\n      var rect = elementRect.rect;\n\n      if (rect[sideNames.start] > targetEnd2 || rect[sideNames.end] < targetStart2) {\n        return false;\n      }\n\n      return getDist(elementRect) > 0;\n    }).sort(function (a, b) {\n      return getDist(a) - getDist(b);\n    });\n    var groups = [];\n    nextElementRects.forEach(function (snapRect1) {\n      nextElementRects.forEach(function (snapRect2) {\n        if (snapRect1 === snapRect2) {\n          return;\n        }\n\n        var rect1 = snapRect1.rect;\n        var rect2 = snapRect2.rect;\n        var rect1Start = rect1[sideNames.start];\n        var rect1End = rect1[sideNames.end];\n        var rect2Start = rect2[sideNames.start];\n        var rect2End = rect2[sideNames.end];\n\n        if (rect1Start > rect2End || rect2Start > rect1End) {\n          return;\n        }\n\n        groups.push([snapRect1, snapRect2]);\n      });\n    });\n    groups.forEach(function (_a) {\n      var snapRect1 = _a[0],\n          snapRect2 = _a[1];\n      var rect1 = snapRect1.rect;\n      var rect2 = snapRect2.rect;\n      var rect1Start = rect1[mainNames.start];\n      var rect1End = rect1[mainNames.end];\n      var rect2Start = rect2[mainNames.start];\n      var rect2End = rect2[mainNames.end];\n      var gap = 0;\n      var pos = 0;\n      var isStart = false;\n      var isCenter = false;\n      var isEnd = false;\n\n      if (rect1End <= targetStart && targetEnd <= rect2Start) {\n        // (l)element1(r) : (l)target(r) : (l)element2(r)\n        isCenter = true;\n        gap = (rect2Start - rect1End - (targetEnd - targetStart)) / 2;\n        pos = rect1End + gap + (targetEnd - targetStart) / 2;\n\n        if (Math.abs(pos - targetCenter) > snapThreshold) {\n          return;\n        }\n      } else if (rect1End < rect2Start && rect2End < targetStart + snapThreshold) {\n        // (l)element1(r) : (l)element2(r) : (l)target\n        isStart = true;\n        gap = rect2Start - rect1End;\n        pos = rect2End + gap;\n\n        if (Math.abs(pos - targetStart) > snapThreshold) {\n          return;\n        }\n      } else if (rect1End < rect2Start && targetEnd - snapThreshold < rect1Start) {\n        // target(r) : (l)element1(r) : (l)element2(r)\n        isEnd = true;\n        gap = rect2Start - rect1End;\n        pos = rect1Start - gap;\n\n        if (Math.abs(pos - targetEnd) > snapThreshold) {\n          return;\n        }\n      } else {\n        return;\n      }\n\n      if (!gap) {\n        return;\n      }\n\n      gapGuidelines.push({\n        type: type,\n        pos: type === \"vertical\" ? [pos, 0] : [0, pos],\n        element: snapRect2.element,\n        size: 0,\n        className: snapRect2.className,\n        isStart: isStart,\n        isCenter: isCenter,\n        isEnd: isEnd,\n        gap: gap,\n        hide: true,\n        gapRects: [snapRect1, snapRect2]\n      });\n    });\n  });\n  return gapGuidelines;\n}\n\nfunction getDefaultGuidelines(horizontalGuidelines, verticalGuidelines, width, height, clientLeft, clientTop, snapOffset) {\n  if (clientLeft === void 0) {\n    clientLeft = 0;\n  }\n\n  if (clientTop === void 0) {\n    clientTop = 0;\n  }\n\n  if (snapOffset === void 0) {\n    snapOffset = {\n      left: 0,\n      top: 0,\n      right: 0,\n      bottom: 0\n    };\n  }\n\n  var guidelines = [];\n  var snapOffsetLeft = snapOffset.left,\n      snapOffsetTop = snapOffset.top,\n      snapOffsetBottom = snapOffset.bottom,\n      snapOffsetRight = snapOffset.right;\n  var snapWidth = width + snapOffsetRight - snapOffsetLeft;\n  var snapHeight = height + snapOffsetBottom - snapOffsetTop;\n  horizontalGuidelines && horizontalGuidelines.forEach(function (pos) {\n    guidelines.push({\n      type: \"horizontal\",\n      pos: [snapOffsetLeft, throttle(pos - clientTop + snapOffsetTop, 0.1)],\n      size: snapWidth\n    });\n  });\n  verticalGuidelines && verticalGuidelines.forEach(function (pos) {\n    guidelines.push({\n      type: \"vertical\",\n      pos: [throttle(pos - clientLeft + snapOffsetLeft, 0.1), snapOffsetTop],\n      size: snapHeight\n    });\n  });\n  return guidelines;\n}\n\nfunction calculateContainerPos(rootMatrix, containerRect, n) {\n  var clientPos = calculatePosition(rootMatrix, [containerRect.clientLeft, containerRect.clientTop], n);\n  return [containerRect.left + clientPos[0], containerRect.top + clientPos[1]];\n}\n\nfunction getSnapElementRects(moveable, values) {\n  if (!values.length) {\n    return [];\n  }\n\n  var state = moveable.state;\n  var containerClientRect = state.containerClientRect,\n      _a = state.targetClientRect,\n      clientTop = _a.top,\n      clientLeft = _a.left,\n      rootMatrix = state.rootMatrix,\n      is3d = state.is3d;\n  var n = is3d ? 4 : 3;\n\n  var _b = calculateContainerPos(rootMatrix, containerClientRect, n),\n      containerLeft = _b[0],\n      containerTop = _b[1];\n\n  var poses = getAbsolutePosesByState(state);\n\n  var _c = getMinMaxs(poses),\n      targetLeft = _c.minX,\n      targetTop = _c.minY;\n\n  var _d = minus([targetLeft, targetTop], calculateInversePosition(rootMatrix, [clientLeft - containerLeft, clientTop - containerTop], n)).map(function (pos) {\n    return roundSign(pos);\n  }),\n      distLeft = _d[0],\n      distTop = _d[1];\n\n  return values.map(function (value) {\n    var rect = value.element.getBoundingClientRect();\n    var left = rect.left - containerLeft;\n    var top = rect.top - containerTop;\n    var bottom = top + rect.height;\n    var right = left + rect.width;\n\n    var _a = calculateInversePosition(rootMatrix, [left, top], n),\n        elementLeft = _a[0],\n        elementTop = _a[1];\n\n    var _b = calculateInversePosition(rootMatrix, [right, bottom], n),\n        elementRight = _b[0],\n        elementBottom = _b[1];\n\n    return __assign$1(__assign$1({}, value), {\n      rect: {\n        left: elementLeft + distLeft,\n        right: elementRight + distLeft,\n        top: elementTop + distTop,\n        bottom: elementBottom + distTop,\n        center: (elementLeft + elementRight) / 2 + distLeft,\n        middle: (elementTop + elementBottom) / 2 + distTop\n      }\n    });\n  });\n}\n\nfunction getElementGuidelines(moveable) {\n  var state = moveable.state;\n  var _a = moveable.props.elementGuidelines,\n      elementGuidelines = _a === void 0 ? [] : _a;\n\n  if (!elementGuidelines.length) {\n    state.elementRects = [];\n    return [];\n  }\n\n  var prevValues = (state.elementRects || []).filter(function (snapRect) {\n    return !snapRect.refresh;\n  });\n  var nextElementGuidelines = elementGuidelines.map(function (el) {\n    if (isObject(el) && \"element\" in el) {\n      return el;\n    }\n\n    return {\n      element: getRefTarget(el, true)\n    };\n  }).filter(function (value) {\n    return value.element;\n  });\n\n  var _b = diff(prevValues.map(function (v) {\n    return v.element;\n  }), nextElementGuidelines.map(function (v) {\n    return v.element;\n  })),\n      maintained = _b.maintained,\n      added = _b.added;\n\n  var nextValues = [];\n  maintained.forEach(function (_a) {\n    var prevIndex = _a[0],\n        nextIndex = _a[1];\n    nextValues[nextIndex] = prevValues[prevIndex];\n  });\n  getSnapElementRects(moveable, added.map(function (index) {\n    return nextElementGuidelines[index];\n  })).map(function (rect, i) {\n    nextValues[added[i]] = rect;\n  });\n  state.elementRects = nextValues;\n  var elementSnapDirections = getSnapDirections(moveable.props.elementSnapDirections);\n  var nextGuidelines = [];\n  nextValues.forEach(function (snapRect) {\n    var element = snapRect.element,\n        _a = snapRect.top,\n        topValue = _a === void 0 ? elementSnapDirections.top : _a,\n        _b = snapRect.left,\n        leftValue = _b === void 0 ? elementSnapDirections.left : _b,\n        _c = snapRect.right,\n        rightValue = _c === void 0 ? elementSnapDirections.right : _c,\n        _d = snapRect.bottom,\n        bottomValue = _d === void 0 ? elementSnapDirections.bottom : _d,\n        _e = snapRect.center,\n        centerValue = _e === void 0 ? elementSnapDirections.center : _e,\n        _f = snapRect.middle,\n        middleValue = _f === void 0 ? elementSnapDirections.middle : _f,\n        className = snapRect.className,\n        rect = snapRect.rect;\n\n    var _g = splitSnapDirectionPoses({\n      top: topValue,\n      right: rightValue,\n      left: leftValue,\n      bottom: bottomValue,\n      center: centerValue,\n      middle: middleValue\n    }, rect),\n        horizontal = _g.horizontal,\n        vertical = _g.vertical;\n\n    var rectTop = rect.top;\n    var rectLeft = rect.left;\n    var width = rect.right - rectLeft;\n    var height = rect.bottom - rectTop;\n    var sizes = [width, height];\n    vertical.forEach(function (pos) {\n      nextGuidelines.push({\n        type: \"vertical\",\n        element: element,\n        pos: [throttle(pos, 0.1), rectTop],\n        size: height,\n        sizes: sizes,\n        className: className,\n        elementRect: snapRect\n      });\n    });\n    horizontal.forEach(function (pos) {\n      nextGuidelines.push({\n        type: \"horizontal\",\n        element: element,\n        pos: [rectLeft, throttle(pos, 0.1)],\n        size: width,\n        sizes: sizes,\n        className: className,\n        elementRect: snapRect\n      });\n    });\n  });\n  return nextGuidelines;\n}\n\nfunction getTotalGuidelines(moveable) {\n  var _a = moveable.state,\n      snapOffset = _a.snapOffset,\n      _b = _a.containerClientRect,\n      overflow = _b.overflow,\n      containerHeight = _b.scrollHeight,\n      containerWidth = _b.scrollWidth,\n      containerClientHeight = _b.clientHeight,\n      containerClientWidth = _b.clientWidth,\n      clientLeft = _b.clientLeft,\n      clientTop = _b.clientTop;\n  var _c = moveable.props,\n      _d = _c.snapGap,\n      snapGap = _d === void 0 ? true : _d,\n      verticalGuidelines = _c.verticalGuidelines,\n      horizontalGuidelines = _c.horizontalGuidelines,\n      _e = _c.snapThreshold,\n      snapThreshold = _e === void 0 ? 5 : _e,\n      _f = _c.snapGridWidth,\n      snapGridWidth = _f === void 0 ? 0 : _f,\n      _g = _c.snapGridHeight,\n      snapGridHeight = _g === void 0 ? 0 : _g;\n  var elementGuidelines = getElementGuidelines(moveable);\n\n  var totalGuidelines = __spreadArray([], elementGuidelines, true);\n\n  if (snapGap) {\n    var _h = getRect(getAbsolutePosesByState(moveable.state)),\n        top = _h.top,\n        left = _h.left,\n        bottom = _h.bottom,\n        right = _h.right;\n\n    totalGuidelines.push.apply(totalGuidelines, getGapGuidelines(moveable, {\n      top: top,\n      left: left,\n      bottom: bottom,\n      right: right,\n      center: (left + right) / 2,\n      middle: (top + bottom) / 2\n    }, snapThreshold));\n  }\n\n  totalGuidelines.push.apply(totalGuidelines, getGridGuidelines(snapGridWidth, snapGridHeight, overflow ? containerWidth : containerClientWidth, overflow ? containerHeight : containerClientHeight, clientLeft, clientTop));\n  totalGuidelines.push.apply(totalGuidelines, getDefaultGuidelines(horizontalGuidelines || false, verticalGuidelines || false, overflow ? containerWidth : containerClientWidth, overflow ? containerHeight : containerClientHeight, clientLeft, clientTop, snapOffset));\n  return totalGuidelines;\n}\n\nfunction getGridGuidelines(snapGridWidth, snapGridHeight, containerWidth, containerHeight, clientLeft, clientTop) {\n  if (clientLeft === void 0) {\n    clientLeft = 0;\n  }\n\n  if (clientTop === void 0) {\n    clientTop = 0;\n  }\n\n  var guidelines = [];\n\n  if (snapGridHeight) {\n    for (var pos = 0; pos <= containerHeight; pos += snapGridHeight) {\n      guidelines.push({\n        type: \"horizontal\",\n        pos: [0, throttle(pos - clientTop, 0.1)],\n        size: containerWidth,\n        hide: true\n      });\n    }\n  }\n\n  if (snapGridWidth) {\n    for (var pos = 0; pos <= containerWidth; pos += snapGridWidth) {\n      guidelines.push({\n        type: \"vertical\",\n        pos: [throttle(pos - clientLeft, 0.1), 0],\n        size: containerHeight,\n        hide: true\n      });\n    }\n  }\n\n  return guidelines;\n}\n\nfunction checkMoveableSnapPoses(moveable, posesX, posesY, customSnapThreshold) {\n  var props = moveable.props;\n  var snapThreshold = selectValue(customSnapThreshold, props.snapThreshold, 5);\n  return checkSnapPoses(moveable.state.guidelines, posesX, posesY, snapThreshold);\n}\n\nfunction checkSnapPoses(guidelines, posesX, posesY, snapThreshold) {\n  return {\n    vertical: checkSnap(guidelines, \"vertical\", posesX, snapThreshold),\n    horizontal: checkSnap(guidelines, \"horizontal\", posesY, snapThreshold)\n  };\n}\n\nfunction checkSnapKeepRatio(moveable, startPos, endPos) {\n  var endX = endPos[0],\n      endY = endPos[1];\n  var startX = startPos[0],\n      startY = startPos[1];\n\n  var _a = minus(endPos, startPos),\n      dx = _a[0],\n      dy = _a[1];\n\n  var isBottom = dy > 0;\n  var isRight = dx > 0;\n  dx = getTinyDist(dx);\n  dy = getTinyDist(dy);\n  var verticalInfo = {\n    isSnap: false,\n    offset: 0,\n    pos: 0\n  };\n  var horizontalInfo = {\n    isSnap: false,\n    offset: 0,\n    pos: 0\n  };\n\n  if (dx === 0 && dy === 0) {\n    return {\n      vertical: verticalInfo,\n      horizontal: horizontalInfo\n    };\n  }\n\n  var _b = checkMoveableSnapPoses(moveable, dx ? [endX] : [], dy ? [endY] : []),\n      verticalSnapInfo = _b.vertical,\n      horizontalSnapInfo = _b.horizontal;\n\n  verticalSnapInfo.posInfos.filter(function (_a) {\n    var pos = _a.pos;\n    return isRight ? pos >= startX : pos <= startX;\n  });\n  horizontalSnapInfo.posInfos.filter(function (_a) {\n    var pos = _a.pos;\n    return isBottom ? pos >= startY : pos <= startY;\n  });\n  verticalSnapInfo.isSnap = verticalSnapInfo.posInfos.length > 0;\n  horizontalSnapInfo.isSnap = horizontalSnapInfo.posInfos.length > 0;\n\n  var _c = getNearestSnapGuidelineInfo(verticalSnapInfo),\n      isVerticalSnap = _c.isSnap,\n      verticalGuideline = _c.guideline;\n\n  var _d = getNearestSnapGuidelineInfo(horizontalSnapInfo),\n      isHorizontalSnap = _d.isSnap,\n      horizontalGuideline = _d.guideline;\n\n  var horizontalPos = isHorizontalSnap ? horizontalGuideline.pos[1] : 0;\n  var verticalPos = isVerticalSnap ? verticalGuideline.pos[0] : 0;\n\n  if (dx === 0) {\n    if (isHorizontalSnap) {\n      horizontalInfo.isSnap = true;\n      horizontalInfo.pos = horizontalGuideline.pos[1];\n      horizontalInfo.offset = endY - horizontalInfo.pos;\n    }\n  } else if (dy === 0) {\n    if (isVerticalSnap) {\n      verticalInfo.isSnap = true;\n      verticalInfo.pos = verticalPos;\n      verticalInfo.offset = endX - verticalPos;\n    }\n  } else {\n    // y - y1 = a * (x - x1)\n    var a = dy / dx;\n    var b = endPos[1] - a * endX;\n    var y = 0;\n    var x = 0;\n    var isSnap = false;\n\n    if (isVerticalSnap) {\n      x = verticalPos;\n      y = a * x + b;\n      isSnap = true;\n    } else if (isHorizontalSnap) {\n      y = horizontalPos;\n      x = (y - b) / a;\n      isSnap = true;\n    }\n\n    if (isSnap) {\n      verticalInfo.isSnap = true;\n      verticalInfo.pos = x;\n      verticalInfo.offset = endX - x;\n      horizontalInfo.isSnap = true;\n      horizontalInfo.pos = y;\n      horizontalInfo.offset = endY - y;\n    }\n  }\n\n  return {\n    vertical: verticalInfo,\n    horizontal: horizontalInfo\n  };\n}\n\nfunction checkSnaps(moveable, rect, customSnapThreshold) {\n  var poses = splitSnapDirectionPoses(moveable.props.snapDirections, rect);\n  return checkMoveableSnapPoses(moveable, poses.vertical, poses.horizontal, customSnapThreshold);\n}\n\nfunction getNearestSnapGuidelineInfo(snapInfo) {\n  var isSnap = snapInfo.isSnap;\n\n  if (!isSnap) {\n    return {\n      isSnap: false,\n      offset: 0,\n      dist: -1,\n      pos: 0,\n      guideline: null\n    };\n  }\n\n  var posInfo = snapInfo.posInfos[0];\n  var guidelineInfo = posInfo.guidelineInfos[0];\n  var offset = guidelineInfo.offset;\n  var dist = guidelineInfo.dist;\n  var guideline = guidelineInfo.guideline;\n  return {\n    isSnap: isSnap,\n    offset: offset,\n    dist: dist,\n    pos: posInfo.pos,\n    guideline: guideline\n  };\n}\n\nfunction checkSnap(guidelines, targetType, targetPoses, snapThreshold) {\n  if (!guidelines || !guidelines.length) {\n    return {\n      isSnap: false,\n      index: -1,\n      posInfos: []\n    };\n  }\n\n  var isVertical = targetType === \"vertical\";\n  var posType = isVertical ? 0 : 1;\n  var snapPosInfos = targetPoses.map(function (targetPos, index) {\n    var guidelineInfos = guidelines.map(function (guideline) {\n      var pos = guideline.pos;\n      var offset = targetPos - pos[posType];\n      return {\n        offset: offset,\n        dist: Math.abs(offset),\n        guideline: guideline\n      };\n    }).filter(function (_a) {\n      var guideline = _a.guideline,\n          dist = _a.dist;\n      var type = guideline.type;\n\n      if (type !== targetType || dist > snapThreshold) {\n        return false;\n      }\n\n      return true;\n    }).sort(function (a, b) {\n      return a.dist - b.dist;\n    });\n    return {\n      pos: targetPos,\n      index: index,\n      guidelineInfos: guidelineInfos\n    };\n  }).filter(function (snapPosInfo) {\n    return snapPosInfo.guidelineInfos.length > 0;\n  }).sort(function (a, b) {\n    return a.guidelineInfos[0].dist - b.guidelineInfos[0].dist;\n  });\n  var isSnap = snapPosInfos.length > 0;\n  return {\n    isSnap: isSnap,\n    index: isSnap ? snapPosInfos[0].index : -1,\n    posInfos: snapPosInfos\n  };\n}\n\nfunction getSnapInfosByDirection(moveable, poses, snapDirection) {\n  var nextPoses = [];\n\n  if (snapDirection[0] && snapDirection[1]) {\n    nextPoses = [snapDirection, [-snapDirection[0], snapDirection[1]], [snapDirection[0], -snapDirection[1]]].map(function (direction) {\n      return getPosByDirection(poses, direction);\n    });\n  } else if (!snapDirection[0] && !snapDirection[1]) {\n    var alignPoses = [poses[0], poses[1], poses[3], poses[2], poses[0]];\n\n    for (var i = 0; i < 4; ++i) {\n      nextPoses.push(alignPoses[i]);\n      nextPoses.push([(alignPoses[i][0] + alignPoses[i + 1][0]) / 2, (alignPoses[i][1] + alignPoses[i + 1][1]) / 2]);\n    }\n  } else {\n    if (moveable.props.keepRatio) {\n      nextPoses = [[-1, -1], [-1, 1], [1, -1], [1, 1], snapDirection].map(function (dir) {\n        return getPosByDirection(poses, dir);\n      });\n    } else {\n      nextPoses = getPosesByDirection(poses, snapDirection);\n\n      if (nextPoses.length > 1) {\n        nextPoses.push([(nextPoses[0][0] + nextPoses[1][0]) / 2, (nextPoses[0][1] + nextPoses[1][1]) / 2]);\n      }\n    }\n  }\n\n  return checkMoveableSnapPoses(moveable, nextPoses.map(function (pos) {\n    return pos[0];\n  }), nextPoses.map(function (pos) {\n    return pos[1];\n  }), 1);\n}\n\nfunction checkSnapBoundPriority(a, b) {\n  var aDist = Math.abs(a.offset);\n  var bDist = Math.abs(b.offset);\n\n  if (a.isBound && b.isBound) {\n    return bDist - aDist;\n  } else if (a.isBound) {\n    return -1;\n  } else if (b.isBound) {\n    return 1;\n  } else if (a.isSnap && b.isSnap) {\n    return bDist - aDist;\n  } else if (a.isSnap) {\n    return -1;\n  } else if (b.isSnap) {\n    return 1;\n  } else if (aDist < TINY_NUM) {\n    return 1;\n  } else if (bDist < TINY_NUM) {\n    return -1;\n  }\n\n  return aDist - bDist;\n}\n\nfunction getNearOffsetInfo(offsets, index) {\n  return offsets.slice().sort(function (a, b) {\n    var aSign = a.sign[index];\n    var bSign = b.sign[index];\n    var aOffset = a.offset[index];\n    var bOffset = b.offset[index]; // -1 The positions of a and b do not change.\n    // 1 The positions of a and b are reversed.\n\n    if (!aSign) {\n      return 1;\n    } else if (!bSign) {\n      return -1;\n    }\n\n    return checkSnapBoundPriority({\n      isBound: a.isBound,\n      isSnap: a.isSnap,\n      offset: aOffset\n    }, {\n      isBound: b.isBound,\n      isSnap: b.isSnap,\n      offset: bOffset\n    });\n  })[0];\n}\n\nfunction getCheckSnapDirections(direction, fixedDirection, keepRatio) {\n  var directions = []; // const fixedDirection = [-direction[0], -direction[1]];\n\n  if (keepRatio) {\n    if (Math.abs(fixedDirection[0]) !== 1 || Math.abs(fixedDirection[1]) !== 1) {\n      directions.push([fixedDirection, [-1, -1]], [fixedDirection, [-1, 1]], [fixedDirection, [1, -1]], [fixedDirection, [1, 1]]);\n    } else {\n      directions.push([fixedDirection, [direction[0], -direction[1]]], [fixedDirection, [-direction[0], direction[1]]], [fixedDirection, direction]);\n    }\n\n    directions.push([fixedDirection, direction]);\n  } else {\n    if (direction[0] && direction[1]) {\n      directions.push([fixedDirection, [direction[0], -direction[1]]], [fixedDirection, [-direction[0], direction[1]]]);\n    } else if (direction[0]) {\n      var signs = Math.abs(fixedDirection[0]) === 1 ? [1] : [1, -1];\n      signs.forEach(function (sign) {\n        directions.push([[fixedDirection[0], -1], [sign * direction[0], -1]], [[fixedDirection[0], 0], [sign * direction[0], 0]], [[fixedDirection[0], 1], [sign * direction[0], 1]]);\n      });\n    } else if (direction[1]) {\n      var signs = Math.abs(fixedDirection[1]) === 1 ? [1] : [1, -1];\n      signs.forEach(function (sign) {\n        directions.push([[-1, fixedDirection[1]], [-1, sign * direction[1]]], [[0, fixedDirection[1]], [0, sign * direction[1]]], [[1, fixedDirection[1]], [1, sign * direction[1]]]);\n      });\n    } else {\n      // [0, 0] to all direction\n      directions.push([fixedDirection, [1, 0]], [fixedDirection, [-1, 0]], [fixedDirection, [0, -1]], [fixedDirection, [0, 1]], [[1, 0], [1, -1]], [[1, 0], [1, 1]], [[0, 1], [1, 1]], [[0, 1], [-1, 1]], [[-1, 0], [-1, -1]], [[-1, 0], [-1, 1]], [[0, -1], [1, -1]], [[0, -1], [-1, -1]]);\n    }\n  }\n\n  return directions;\n}\n\nfunction isStartLine(dot, line) {\n  // l    o     => true\n  // o    l    => false\n  var cx = average([line[0][0], line[1][0]]);\n  var cy = average([line[0][1], line[1][1]]);\n  return {\n    vertical: cx <= dot[0],\n    horizontal: cy <= dot[1]\n  };\n}\n\nfunction hitTestLine(dot, _a) {\n  var pos1 = _a[0],\n      pos2 = _a[1];\n  var dx = pos2[0] - pos1[0];\n  var dy = pos2[1] - pos1[1];\n\n  if (Math.abs(dx) < TINY_NUM) {\n    dx = 0;\n  }\n\n  if (Math.abs(dy) < TINY_NUM) {\n    dy = 0;\n  }\n\n  var test1;\n  var test2;\n\n  if (!dx) {\n    test1 = pos1[0];\n    test2 = dot[0];\n  } else if (!dy) {\n    test1 = pos1[1];\n    test2 = dot[1];\n  } else {\n    var a = dy / dx; // y = a * (x - pos1) + pos1\n\n    test1 = a * (dot[0] - pos1[0]) + pos1[1];\n    test2 = dot[1];\n  }\n\n  return test1 - test2;\n}\n\nfunction isSameStartLine(dots, line, error) {\n  if (error === void 0) {\n    error = TINY_NUM;\n  }\n\n  var centerSign = hitTestLine(dots[0], line) <= 0;\n  return dots.slice(1).every(function (dot) {\n    var value = hitTestLine(dot, line);\n    var sign = value <= 0;\n    return sign === centerSign || Math.abs(value) <= error;\n  });\n}\n\nfunction checkInnerBoundDot(pos, start, end, isStart, threshold) {\n  if (threshold === void 0) {\n    threshold = 0;\n  }\n\n  if (isStart && start - threshold <= pos || !isStart && pos <= end + threshold) {\n    // false 402 565 602 => 37 ([0, 37])\n    // true 400 524.9712603540036 600 => 124 ([124, 0])\n    // true 400 410 600 => 10 ([10, 0])\n    return {\n      isBound: true,\n      offset: isStart ? start - pos : end - pos\n    };\n  }\n\n  return {\n    isBound: false,\n    offset: 0\n  };\n}\n\nfunction checkInnerBound(moveable, line, center) {\n  var bounds = moveable.props.innerBounds;\n\n  if (!bounds) {\n    return {\n      isAllBound: false,\n      isBound: false,\n      isVerticalBound: false,\n      isHorizontalBound: false,\n      offset: [0, 0]\n    };\n  }\n\n  var left = bounds.left,\n      top = bounds.top,\n      width = bounds.width,\n      height = bounds.height;\n  var leftLine = [[left, top], [left, top + height]];\n  var topLine = [[left, top], [left + width, top]];\n  var rightLine = [[left + width, top], [left + width, top + height]];\n  var bottomLine = [[left, top + height], [left + width, top + height]];\n\n  var _a = isStartLine(center, line),\n      isHorizontalStart = _a.horizontal,\n      isVerticalStart = _a.vertical;\n\n  if (isSameStartLine([center, [left, top], [left + width, top], [left, top + height], [left + width, top + height]], line)) {\n    return {\n      isAllBound: false,\n      isBound: false,\n      isVerticalBound: false,\n      isHorizontalBound: false,\n      offset: [0, 0]\n    };\n  } // test vertical\n\n\n  var topBoundInfo = checkLineBoundCollision(line, topLine, isVerticalStart);\n  var bottomBoundInfo = checkLineBoundCollision(line, bottomLine, isVerticalStart); // test horizontal\n\n  var leftBoundInfo = checkLineBoundCollision(line, leftLine, isHorizontalStart);\n  var rightBoundInfo = checkLineBoundCollision(line, rightLine, isHorizontalStart);\n  var isAllVerticalBound = topBoundInfo.isBound && bottomBoundInfo.isBound;\n  var isVerticalBound = topBoundInfo.isBound || bottomBoundInfo.isBound;\n  var isAllHorizontalBound = leftBoundInfo.isBound && rightBoundInfo.isBound;\n  var isHorizontalBound = leftBoundInfo.isBound || rightBoundInfo.isBound;\n  var verticalOffset = maxOffset(topBoundInfo.offset, bottomBoundInfo.offset);\n  var horizontalOffset = maxOffset(leftBoundInfo.offset, rightBoundInfo.offset);\n  var offset = [0, 0];\n  var isBound = false;\n  var isAllBound = false;\n\n  if (Math.abs(horizontalOffset) < Math.abs(verticalOffset)) {\n    offset = [verticalOffset, 0];\n    isBound = isVerticalBound;\n    isAllBound = isAllVerticalBound;\n  } else {\n    offset = [0, horizontalOffset];\n    isBound = isHorizontalBound;\n    isAllBound = isAllHorizontalBound;\n  }\n\n  return {\n    isAllBound: isAllBound,\n    isVerticalBound: isVerticalBound,\n    isHorizontalBound: isHorizontalBound,\n    isBound: isBound,\n    offset: offset\n  };\n}\n\nfunction checkLineBoundCollision(line, boundLine, isStart, threshold, isRender) {\n  var dot1 = line[0];\n  var dot2 = line[1];\n  var boundDot1 = boundLine[0];\n  var boundDot2 = boundLine[1];\n  var dy1 = getTinyDist(dot2[1] - dot1[1]);\n  var dx1 = getTinyDist(dot2[0] - dot1[0]);\n  var dy2 = getTinyDist(boundDot2[1] - boundDot1[1]);\n  var dx2 = getTinyDist(boundDot2[0] - boundDot1[0]); // dx2 or dy2 is zero\n\n  if (!dx2) {\n    // vertical\n    if (isRender && !dy1) {\n      // 90deg\n      return {\n        isBound: false,\n        offset: 0\n      };\n    } else if (dx1) {\n      // const y = dy1 ? dy1 / dx1 * (boundDot1[0] - dot1[0]) + dot1[1] : dot1[1];\n      var y = dy1 / dx1 * (boundDot1[0] - dot1[0]) + dot1[1]; // boundDot1[1] <= y  <= boundDot2[1]\n\n      return checkInnerBoundDot(y, boundDot1[1], boundDot2[1], isStart, threshold);\n    } else {\n      var offset = boundDot1[0] - dot1[0];\n      var isBound = Math.abs(offset) <= (threshold || 0);\n      return {\n        isBound: isBound,\n        offset: isBound ? offset : 0\n      };\n    }\n  } else if (!dy2) {\n    // horizontal\n    if (isRender && !dx1) {\n      // 90deg\n      return {\n        isBound: false,\n        offset: 0\n      };\n    } else if (dy1) {\n      // y = a * (x - x1) + y1\n      // x = (y - y1) / a + x1\n      // const a = dy1 / dx1;\n      // const x = dx1 ? (boundDot1[1] - dot1[1]) / a + dot1[0] : dot1[0];\n      var x = (boundDot1[1] - dot1[1]) / (dy1 / dx1) + dot1[0]; // boundDot1[0] <= x && x <= boundDot2[0]\n\n      return checkInnerBoundDot(x, boundDot1[0], boundDot2[0], isStart, threshold);\n    } else {\n      var offset = boundDot1[1] - dot1[1];\n      var isBound = Math.abs(offset) <= (threshold || 0);\n      return {\n        isBound: isBound,\n        offset: isBound ? offset : 0\n      };\n    }\n  }\n\n  return {\n    isBound: false,\n    offset: 0\n  };\n}\n\nfunction getInnerBoundInfo(moveable, lines, center, datas) {\n  return lines.map(function (_a) {\n    var multiple = _a[0],\n        pos1 = _a[1],\n        pos2 = _a[2];\n\n    var _b = checkInnerBound(moveable, [pos1, pos2], center),\n        isBound = _b.isBound,\n        offset = _b.offset,\n        isVerticalBound = _b.isVerticalBound,\n        isHorizontalBound = _b.isHorizontalBound;\n\n    var sizeOffset = getDragDist({\n      datas: datas,\n      distX: offset[0],\n      distY: offset[1]\n    }).map(function (size, i) {\n      return size * (multiple[i] ? 2 / multiple[i] : 0);\n    });\n    return {\n      sign: multiple,\n      isBound: isBound,\n      isVerticalBound: isVerticalBound,\n      isHorizontalBound: isHorizontalBound,\n      isSnap: false,\n      offset: sizeOffset\n    };\n  });\n}\n\nfunction getInnerBoundDragInfo(moveable, poses, datas) {\n  var _a;\n\n  var lines = getCheckInnerBoundLines(poses, [0, 0], false).map(function (_a) {\n    var sign = _a[0],\n        pos1 = _a[1],\n        pos2 = _a[2];\n    return [sign.map(function (dir) {\n      return Math.abs(dir) * 2;\n    }), pos1, pos2];\n  });\n  var innerBoundInfo = getInnerBoundInfo(moveable, lines, getPosByDirection(poses, [0, 0]), datas);\n  var widthOffsetInfo = getNearOffsetInfo(innerBoundInfo, 0);\n  var heightOffsetInfo = getNearOffsetInfo(innerBoundInfo, 1);\n  var verticalOffset = 0;\n  var horizontalOffset = 0;\n  var isVerticalBound = widthOffsetInfo.isVerticalBound || heightOffsetInfo.isVerticalBound;\n  var isHorizontalBound = widthOffsetInfo.isHorizontalBound || heightOffsetInfo.isHorizontalBound;\n\n  if (isVerticalBound || isHorizontalBound) {\n    _a = getInverseDragDist({\n      datas: datas,\n      distX: -widthOffsetInfo.offset[0],\n      distY: -heightOffsetInfo.offset[1]\n    }), verticalOffset = _a[0], horizontalOffset = _a[1];\n  }\n\n  return {\n    vertical: {\n      isBound: isVerticalBound,\n      offset: verticalOffset\n    },\n    horizontal: {\n      isBound: isHorizontalBound,\n      offset: horizontalOffset\n    }\n  };\n}\n\nfunction getCheckSnapLineDirections(direction, keepRatio) {\n  var lineDirections = [];\n  var x = direction[0];\n  var y = direction[1];\n\n  if (x && y) {\n    lineDirections.push([[0, y * 2], direction, [-x, y]], [[x * 2, 0], direction, [x, -y]]);\n  } else if (x) {\n    // vertcal\n    lineDirections.push([[x * 2, 0], [x, 1], [x, -1]]);\n\n    if (keepRatio) {\n      lineDirections.push([[0, -1], [x, -1], [-x, -1]], [[0, 1], [x, 1], [-x, 1]]);\n    }\n  } else if (y) {\n    // horizontal\n    lineDirections.push([[0, y * 2], [1, y], [-1, y]]);\n\n    if (keepRatio) {\n      lineDirections.push([[-1, 0], [-1, y], [-1, -y]], [[1, 0], [1, y], [1, -y]]);\n    }\n  } else {\n    // [0, 0] to all direction\n    lineDirections.push([[-1, 0], [-1, -1], [-1, 1]], [[1, 0], [1, -1], [1, 1]], [[0, -1], [-1, -1], [1, -1]], [[0, 1], [-1, 1], [1, 1]]);\n  }\n\n  return lineDirections;\n}\n\nfunction getCheckInnerBoundLines(poses, direction, keepRatio) {\n  return getCheckSnapLineDirections(direction, keepRatio).map(function (_a) {\n    var sign = _a[0],\n        dir1 = _a[1],\n        dir2 = _a[2];\n    return [sign, getPosByDirection(poses, dir1), getPosByDirection(poses, dir2)];\n  });\n}\n\nfunction isBoundRotate(relativePoses, boundDots, center, rad) {\n  var nextPoses = rad ? relativePoses.map(function (pos) {\n    return rotate(pos, rad);\n  }) : relativePoses;\n\n  var dots = __spreadArray([center], boundDots, true);\n\n  return [[nextPoses[0], nextPoses[1]], [nextPoses[1], nextPoses[3]], [nextPoses[3], nextPoses[2]], [nextPoses[2], nextPoses[0]]].some(function (line) {\n    return !isSameStartLine(dots, line);\n  });\n}\n\nfunction getDistPointLine(_a) {\n  // x = 0, y = 0\n  // d = (ax + by + c) / root(a2 + b2)\n  var pos1 = _a[0],\n      pos2 = _a[1];\n  var dx = pos2[0] - pos1[0];\n  var dy = pos2[1] - pos1[1];\n\n  if (!dx) {\n    return Math.abs(pos1[0]);\n  }\n\n  if (!dy) {\n    return Math.abs(pos1[1]);\n  } // y - y1 = a(x - x1)\n  // 0 = ax -y + -a * x1 + y1\n\n\n  var a = dy / dx;\n  return Math.abs((-a * pos1[0] + pos1[1]) / Math.sqrt(Math.pow(a, 2) + 1));\n}\n\nfunction solveReverseLine(_a) {\n  var pos1 = _a[0],\n      pos2 = _a[1];\n  var dx = pos2[0] - pos1[0];\n  var dy = pos2[1] - pos1[1];\n\n  if (!dx) {\n    return [pos1[0], 0];\n  }\n\n  if (!dy) {\n    return [0, pos1[1]];\n  }\n\n  var a = dy / dx; // y - y1 = a (x  - x1)\n  // y = ax - a * x1 + y1\n\n  var b = -a * pos1[0] + pos1[1]; // y = ax + b = -1/a x\n  // x = -b / (a + 1 / a)\n  // y = b / (1 + 1 / a^2)\n\n  return [-b / (a + 1 / a), b / (a * a + 1)];\n}\n\nfunction checkRotateInnerBounds(moveable, prevPoses, nextPoses, origin, rotation) {\n  var bounds = moveable.props.innerBounds;\n  var rad = rotation * Math.PI / 180;\n\n  if (!bounds) {\n    return [];\n  }\n\n  var left = bounds.left,\n      top = bounds.top,\n      width = bounds.width,\n      height = bounds.height;\n  var relativeLeft = left - origin[0];\n  var relativeRight = left + width - origin[0];\n  var relativeTop = top - origin[1];\n  var relativeBottom = top + height - origin[1];\n  var dots = [[relativeLeft, relativeTop], [relativeRight, relativeTop], [relativeLeft, relativeBottom], [relativeRight, relativeBottom]];\n  var center = getPosByDirection(nextPoses, [0, 0]);\n\n  if (!isBoundRotate(nextPoses, dots, center, 0)) {\n    return [];\n  }\n\n  var result = [];\n  var dotInfos = dots.map(function (dot) {\n    return [getDistSize(dot), getRad([0, 0], dot)];\n  });\n  [[nextPoses[0], nextPoses[1]], [nextPoses[1], nextPoses[3]], [nextPoses[3], nextPoses[2]], [nextPoses[2], nextPoses[0]]].forEach(function (line) {\n    var lineRad = getRad([0, 0], solveReverseLine(line));\n    var lineDist = getDistPointLine(line);\n    result.push.apply(result, dotInfos.filter(function (_a) {\n      var dotDist = _a[0];\n      return dotDist && lineDist <= dotDist;\n    }).map(function (_a) {\n      var dotDist = _a[0],\n          dotRad = _a[1];\n      var distRad = Math.acos(dotDist ? lineDist / dotDist : 0);\n      var nextRad1 = dotRad + distRad;\n      var nextRad2 = dotRad - distRad;\n      return [rad + nextRad1 - lineRad, rad + nextRad2 - lineRad];\n    }).reduce(function (prev, cur) {\n      prev.push.apply(prev, cur);\n      return prev;\n    }, []).filter(function (nextRad) {\n      return !isBoundRotate(prevPoses, dots, center, nextRad);\n    }).map(function (nextRad) {\n      return throttle(nextRad * 180 / Math.PI, TINY_NUM);\n    }));\n  });\n  return result;\n}\n\nfunction checkInnerBoundPoses(moveable) {\n  var innerBounds = moveable.props.innerBounds;\n\n  if (!innerBounds) {\n    return {\n      vertical: [],\n      horizontal: []\n    };\n  }\n\n  var _a = moveable.getRect(),\n      pos1 = _a.pos1,\n      pos2 = _a.pos2,\n      pos3 = _a.pos3,\n      pos4 = _a.pos4;\n\n  var poses = [pos1, pos2, pos3, pos4];\n  var center = getPosByDirection(poses, [0, 0]);\n  var left = innerBounds.left,\n      top = innerBounds.top,\n      width = innerBounds.width,\n      height = innerBounds.height;\n  var leftLine = [[left, top], [left, top + height]];\n  var topLine = [[left, top], [left + width, top]];\n  var rightLine = [[left + width, top], [left + width, top + height]];\n  var bottomLine = [[left, top + height], [left + width, top + height]];\n  var lines = [[pos1, pos2], [pos2, pos4], [pos4, pos3], [pos3, pos1]];\n  var horizontalPoses = [];\n  var verticalPoses = [];\n  var boundMap = {\n    top: false,\n    bottom: false,\n    left: false,\n    right: false\n  };\n  lines.forEach(function (line) {\n    var _a = isStartLine(center, line),\n        isHorizontalStart = _a.horizontal,\n        isVerticalStart = _a.vertical; // test vertical\n\n\n    var topBoundInfo = checkLineBoundCollision(line, topLine, isVerticalStart, 1, true);\n    var bottomBoundInfo = checkLineBoundCollision(line, bottomLine, isVerticalStart, 1, true); // test horizontal\n\n    var leftBoundInfo = checkLineBoundCollision(line, leftLine, isHorizontalStart, 1, true);\n    var rightBoundInfo = checkLineBoundCollision(line, rightLine, isHorizontalStart, 1, true);\n\n    if (topBoundInfo.isBound && !boundMap.top) {\n      horizontalPoses.push(top);\n      boundMap.top = true;\n    }\n\n    if (bottomBoundInfo.isBound && !boundMap.bottom) {\n      horizontalPoses.push(top + height);\n      boundMap.bottom = true;\n    }\n\n    if (leftBoundInfo.isBound && !boundMap.left) {\n      verticalPoses.push(left);\n      boundMap.left = true;\n    }\n\n    if (rightBoundInfo.isBound && !boundMap.right) {\n      verticalPoses.push(left + width);\n      boundMap.right = true;\n    }\n  });\n  return {\n    horizontal: horizontalPoses,\n    vertical: verticalPoses\n  };\n}\n\nfunction checkBoundPoses(bounds, verticalPoses, horizontalPoses) {\n  var _a = bounds || {},\n      _b = _a.position,\n      position = _b === void 0 ? \"client\" : _b,\n      _c = _a.left,\n      left = _c === void 0 ? -Infinity : _c,\n      _d = _a.top,\n      top = _d === void 0 ? -Infinity : _d,\n      _e = _a.right,\n      right = _e === void 0 ? Infinity : _e,\n      _f = _a.bottom,\n      bottom = _f === void 0 ? Infinity : _f;\n\n  var nextBounds = {\n    position: position,\n    left: left,\n    top: top,\n    right: right,\n    bottom: bottom\n  };\n  return {\n    vertical: checkBounds(nextBounds, verticalPoses, true),\n    horizontal: checkBounds(nextBounds, horizontalPoses, false)\n  };\n}\n\nfunction getBounds(moveable, externalBounds) {\n  var _a = moveable.state,\n      _b = _a.containerClientRect,\n      containerHeight = _b.clientHeight,\n      containerWidth = _b.clientWidth,\n      clientLeft = _b.clientLeft,\n      clientTop = _b.clientTop,\n      _c = _a.snapOffset,\n      snapOffsetLeft = _c.left,\n      snapOffsetTop = _c.top,\n      snapOffsetRight = _c.right,\n      snapOffsetBottom = _c.bottom;\n  var bounds = externalBounds || moveable.props.bounds || {};\n  var position = bounds.position || \"client\";\n  var isCSS = position === \"css\";\n  var _d = bounds.left,\n      left = _d === void 0 ? -Infinity : _d,\n      _e = bounds.top,\n      top = _e === void 0 ? -Infinity : _e;\n  var _f = bounds.right,\n      right = _f === void 0 ? isCSS ? -Infinity : Infinity : _f,\n      _g = bounds.bottom,\n      bottom = _g === void 0 ? isCSS ? -Infinity : Infinity : _g;\n\n  if (isCSS) {\n    right = containerWidth + snapOffsetRight - snapOffsetLeft - right;\n    bottom = containerHeight + snapOffsetBottom - snapOffsetTop - bottom;\n  }\n\n  return {\n    left: left + snapOffsetLeft - clientLeft,\n    right: right + snapOffsetLeft - clientLeft,\n    top: top + snapOffsetTop - clientTop,\n    bottom: bottom + snapOffsetTop - clientTop\n  };\n}\n\nfunction checkBoundKeepRatio(moveable, startPos, endPos) {\n  var _a = getBounds(moveable),\n      left = _a.left,\n      top = _a.top,\n      right = _a.right,\n      bottom = _a.bottom;\n\n  var endX = endPos[0],\n      endY = endPos[1];\n\n  var _b = minus(endPos, startPos),\n      dx = _b[0],\n      dy = _b[1];\n\n  if (Math.abs(dx) < TINY_NUM) {\n    dx = 0;\n  }\n\n  if (Math.abs(dy) < TINY_NUM) {\n    dy = 0;\n  }\n\n  var isBottom = dy > 0;\n  var isRight = dx > 0;\n  var verticalInfo = {\n    isBound: false,\n    offset: 0,\n    pos: 0\n  };\n  var horizontalInfo = {\n    isBound: false,\n    offset: 0,\n    pos: 0\n  };\n\n  if (dx === 0 && dy === 0) {\n    return {\n      vertical: verticalInfo,\n      horizontal: horizontalInfo\n    };\n  } else if (dx === 0) {\n    if (isBottom) {\n      if (bottom < endY) {\n        horizontalInfo.pos = bottom;\n        horizontalInfo.offset = endY - bottom;\n      }\n    } else {\n      if (top > endY) {\n        horizontalInfo.pos = top;\n        horizontalInfo.offset = endY - top;\n      }\n    }\n  } else if (dy === 0) {\n    if (isRight) {\n      if (right < endX) {\n        verticalInfo.pos = right;\n        verticalInfo.offset = endX - right;\n      }\n    } else {\n      if (left > endX) {\n        verticalInfo.pos = left;\n        verticalInfo.offset = endX - left;\n      }\n    }\n  } else {\n    // y - y1 = a * (x - x1)\n    var a = dy / dx;\n    var b = endPos[1] - a * endX;\n    var y = 0;\n    var x = 0;\n    var isBound = false;\n\n    if (isRight && right <= endX) {\n      y = a * right + b;\n      x = right;\n      isBound = true;\n    } else if (!isRight && endX <= left) {\n      y = a * left + b;\n      x = left;\n      isBound = true;\n    }\n\n    if (isBound) {\n      if (y < top || y > bottom) {\n        isBound = false;\n      }\n    }\n\n    if (!isBound) {\n      if (isBottom && bottom <= endY) {\n        y = bottom;\n        x = (y - b) / a;\n        isBound = true;\n      } else if (!isBottom && endY <= top) {\n        y = top;\n        x = (y - b) / a;\n        isBound = true;\n      }\n    }\n\n    if (isBound) {\n      verticalInfo.isBound = true;\n      verticalInfo.pos = x;\n      verticalInfo.offset = endX - x;\n      horizontalInfo.isBound = true;\n      horizontalInfo.pos = y;\n      horizontalInfo.offset = endY - y;\n    }\n  }\n\n  return {\n    vertical: verticalInfo,\n    horizontal: horizontalInfo\n  };\n}\n\nfunction checkBounds(bounds, poses, isVertical) {\n  // 0   [100 - 200]  300\n  var startBoundPos = bounds[isVertical ? \"left\" : \"top\"];\n  var endBoundPos = bounds[isVertical ? \"right\" : \"bottom\"]; // 450\n\n  var minPos = Math.min.apply(Math, poses);\n  var maxPos = Math.max.apply(Math, poses);\n  var boundInfos = [];\n\n  if (startBoundPos + 1 > minPos) {\n    boundInfos.push({\n      isBound: true,\n      offset: minPos - startBoundPos,\n      pos: startBoundPos\n    });\n  }\n\n  if (endBoundPos - 1 < maxPos) {\n    boundInfos.push({\n      isBound: true,\n      offset: maxPos - endBoundPos,\n      pos: endBoundPos\n    });\n  }\n\n  if (!boundInfos.length) {\n    boundInfos.push({\n      isBound: false,\n      offset: 0,\n      pos: 0\n    });\n  }\n\n  return boundInfos.sort(function (a, b) {\n    return Math.abs(b.offset) - Math.abs(a.offset);\n  });\n}\n\nfunction isBoundRotate$1(relativePoses, boundRect, rad) {\n  var nextPoses = rad ? relativePoses.map(function (pos) {\n    return rotate(pos, rad);\n  }) : relativePoses;\n  return nextPoses.some(function (pos) {\n    return pos[0] < boundRect.left && Math.abs(pos[0] - boundRect.left) > 0.1 || pos[0] > boundRect.right && Math.abs(pos[0] - boundRect.right) > 0.1 || pos[1] < boundRect.top && Math.abs(pos[1] - boundRect.top) > 0.1 || pos[1] > boundRect.bottom && Math.abs(pos[1] - boundRect.bottom) > 0.1;\n  });\n}\n\nfunction boundRotate(vec, boundPos, index) {\n  var r = getDistSize(vec);\n  var nextPos = Math.sqrt(r * r - boundPos * boundPos) || 0;\n  return [nextPos, -nextPos].sort(function (a, b) {\n    return Math.abs(a - vec[index ? 0 : 1]) - Math.abs(b - vec[index ? 0 : 1]);\n  }).map(function (pos) {\n    return getRad([0, 0], index ? [pos, boundPos] : [boundPos, pos]);\n  });\n}\n\nfunction checkRotateBounds(moveable, prevPoses, nextPoses, origin, rotation) {\n  if (!moveable.props.bounds) {\n    return [];\n  }\n\n  var rad = rotation * Math.PI / 180;\n\n  var _a = getBounds(moveable),\n      left = _a.left,\n      top = _a.top,\n      right = _a.right,\n      bottom = _a.bottom;\n\n  var relativeLeft = left - origin[0];\n  var relativeRight = right - origin[0];\n  var relativeTop = top - origin[1];\n  var relativeBottom = bottom - origin[1];\n  var boundRect = {\n    left: relativeLeft,\n    top: relativeTop,\n    right: relativeRight,\n    bottom: relativeBottom\n  };\n\n  if (!isBoundRotate$1(nextPoses, boundRect, 0)) {\n    return [];\n  }\n\n  var result = [];\n  [[relativeLeft, 0], [relativeRight, 0], [relativeTop, 1], [relativeBottom, 1]].forEach(function (_a) {\n    var boundPos = _a[0],\n        index = _a[1];\n    nextPoses.forEach(function (nextPos) {\n      var relativeRad1 = getRad([0, 0], nextPos);\n      result.push.apply(result, boundRotate(nextPos, boundPos, index).map(function (relativeRad2) {\n        return rad + relativeRad2 - relativeRad1;\n      }).filter(function (nextRad) {\n        return !isBoundRotate$1(prevPoses, boundRect, nextRad);\n      }).map(function (nextRad) {\n        return throttle(nextRad * 180 / Math.PI, TINY_NUM);\n      }));\n    });\n  });\n  return result;\n}\n\nfunction renderGuideline(info, React) {\n  var _a;\n\n  var direction = info.direction,\n      classNames = info.classNames,\n      size = info.size,\n      pos = info.pos,\n      zoom = info.zoom,\n      key = info.key;\n  var isHorizontal = direction === \"horizontal\";\n  var scaleType = isHorizontal ? \"Y\" : \"X\"; // const scaleType2 = isHorizontal ? \"Y\" : \"X\";\n\n  return React.createElement(\"div\", {\n    key: key,\n    className: classNames.join(\" \"),\n    style: (_a = {}, _a[isHorizontal ? \"width\" : \"height\"] = \"\".concat(size), _a.transform = \"translate(\".concat(pos[0], \", \").concat(pos[1], \") translate\").concat(scaleType, \"(-50%) scale\").concat(scaleType, \"(\").concat(zoom, \")\"), _a)\n  });\n}\n\nfunction renderInnerGuideline(info, React) {\n  return renderGuideline(__assign$1(__assign$1({}, info), {\n    classNames: __spreadArray([prefix(\"line\", \"guideline\", info.direction)], info.classNames, true).filter(function (className) {\n      return className;\n    }),\n    size: info.size || \"\".concat(info.sizeValue, \"px\"),\n    pos: info.pos || info.posValue.map(function (v) {\n      return \"\".concat(throttle(v, 0.1), \"px\");\n    })\n  }), React);\n}\n\nfunction renderSnapPoses(moveable, direction, snapPoses, minPos, targetPos, size, index, React) {\n  var zoom = moveable.props.zoom;\n  return snapPoses.map(function (_a, i) {\n    var type = _a.type,\n        pos = _a.pos;\n    var renderPos = [0, 0];\n    renderPos[index] = minPos;\n    renderPos[index ? 0 : 1] = -targetPos + pos;\n    return renderInnerGuideline({\n      key: \"\".concat(direction, \"TargetGuideline\").concat(i),\n      classNames: [prefix(\"target\", \"bold\", type)],\n      posValue: renderPos,\n      sizeValue: size,\n      zoom: zoom,\n      direction: direction\n    }, React);\n  });\n}\n\nfunction renderGuidelines(moveable, type, guidelines, targetPos, targetRect, React) {\n  var _a = moveable.props,\n      zoom = _a.zoom,\n      isDisplayInnerSnapDigit = _a.isDisplayInnerSnapDigit;\n  var mainNames = type === \"horizontal\" ? VERTICAL_NAMES_MAP : HORIZONTAL_NAMES_MAP;\n  var targetStart = targetRect[mainNames.start];\n  var targetEnd = targetRect[mainNames.end];\n  return guidelines.filter(function (_a) {\n    var hide = _a.hide,\n        elementRect = _a.elementRect;\n\n    if (hide) {\n      return false;\n    }\n\n    if (isDisplayInnerSnapDigit && elementRect) {\n      // inner\n      var rect = elementRect.rect;\n\n      if (rect[mainNames.start] <= targetStart && targetEnd <= rect[mainNames.end]) {\n        return false;\n      }\n    }\n\n    return true;\n  }).map(function (guideline, i) {\n    var pos = guideline.pos,\n        size = guideline.size,\n        element = guideline.element;\n    var renderPos = [-targetPos[0] + pos[0], -targetPos[1] + pos[1]];\n    return renderInnerGuideline({\n      key: \"\".concat(type, \"-default-guideline-\").concat(i),\n      classNames: element ? [prefix(\"bold\")] : [],\n      direction: type,\n      posValue: renderPos,\n      sizeValue: size,\n      zoom: zoom\n    }, React);\n  });\n}\n\nfunction renderDigitLine(moveable, type, lineType, index, gap, renderPos, className, React) {\n  var _a;\n\n  var _b = moveable.props,\n      _c = _b.snapDigit,\n      snapDigit = _c === void 0 ? 0 : _c,\n      _d = _b.isDisplaySnapDigit,\n      isDisplaySnapDigit = _d === void 0 ? true : _d,\n      _e = _b.snapDistFormat,\n      snapDistFormat = _e === void 0 ? function (v) {\n    return v;\n  } : _e,\n      zoom = _b.zoom;\n  var scaleType = type === \"horizontal\" ? \"X\" : \"Y\";\n  var sizeName = type === \"vertical\" ? \"height\" : \"width\";\n  var absGap = Math.abs(gap);\n  var snapSize = isDisplaySnapDigit ? parseFloat(absGap.toFixed(snapDigit)) : 0;\n  return React.createElement(\"div\", {\n    key: \"\".concat(type, \"-\").concat(lineType, \"-guideline-\").concat(index),\n    className: prefix(\"guideline-group\", type),\n    style: (_a = {\n      left: \"\".concat(renderPos[0], \"px\"),\n      top: \"\".concat(renderPos[1], \"px\")\n    }, _a[sizeName] = \"\".concat(absGap, \"px\"), _a)\n  }, renderInnerGuideline({\n    direction: type,\n    classNames: [prefix(lineType), className],\n    size: \"100%\",\n    posValue: [0, 0],\n    sizeValue: absGap,\n    zoom: zoom\n  }, React), React.createElement(\"div\", {\n    className: prefix(\"size-value\", \"gap\"),\n    style: {\n      transform: \"translate\".concat(scaleType, \"(-50%) scale(\").concat(zoom, \")\")\n    }\n  }, snapSize > 0 ? snapDistFormat(snapSize) : \"\"));\n}\n\nfunction groupByElementGuidelines(type, guidelines, targetRect, isDisplayInnerSnapDigit) {\n  var index = type === \"vertical\" ? 0 : 1;\n  var otherIndex = type === \"vertical\" ? 1 : 0;\n  var names = index ? VERTICAL_NAMES_MAP : HORIZONTAL_NAMES_MAP;\n  var targetStart = targetRect[names.start];\n  var targetEnd = targetRect[names.end];\n  return groupBy(guidelines, function (guideline) {\n    return guideline.pos[index];\n  }).map(function (nextGuidelines) {\n    var start = [];\n    var end = [];\n    var inner = [];\n    nextGuidelines.forEach(function (guideline) {\n      var _a, _b;\n\n      var element = guideline.element;\n      var rect = guideline.elementRect.rect;\n\n      if (rect[names.end] < targetStart) {\n        start.push(guideline);\n      } else if (targetEnd < rect[names.start]) {\n        end.push(guideline);\n      } else if (rect[names.start] <= targetStart && targetEnd <= rect[names.end] && isDisplayInnerSnapDigit) {\n        var pos = guideline.pos;\n        var elementRect1 = {\n          element: element,\n          rect: __assign$1(__assign$1({}, rect), (_a = {}, _a[names.end] = rect[names.start], _a))\n        };\n        var elementRect2 = {\n          element: element,\n          rect: __assign$1(__assign$1({}, rect), (_b = {}, _b[names.start] = rect[names.end], _b))\n        };\n        var nextPos1 = [0, 0];\n        var nextPos2 = [0, 0];\n        nextPos1[index] = pos[index];\n        nextPos1[otherIndex] = pos[otherIndex];\n        nextPos2[index] = pos[index];\n        nextPos2[otherIndex] = pos[otherIndex] + guideline.size;\n        start.push({\n          type: type,\n          pos: nextPos1,\n          size: 0,\n          elementRect: elementRect1\n        });\n        end.push({\n          type: type,\n          pos: nextPos2,\n          size: 0,\n          elementRect: elementRect2\n        }); // inner.push(guideline);\n      }\n    });\n    start.sort(function (a, b) {\n      return b.pos[otherIndex] - a.pos[otherIndex];\n    });\n    end.sort(function (a, b) {\n      return a.pos[otherIndex] - b.pos[otherIndex];\n    });\n    return {\n      total: nextGuidelines,\n      start: start,\n      end: end,\n      inner: inner\n    };\n  });\n}\n\nfunction renderDashedGuidelines(moveable, guidelines, targetPos, targetRect, React) {\n  var isDisplayInnerSnapDigit = moveable.props.isDisplayInnerSnapDigit;\n  var rendered = [];\n  [\"vertical\", \"horizontal\"].forEach(function (type) {\n    var nextGuidelines = guidelines.filter(function (guideline) {\n      return guideline.type === type;\n    });\n    var index = type === \"vertical\" ? 1 : 0;\n    var otherIndex = index ? 0 : 1;\n    var groups = groupByElementGuidelines(type, nextGuidelines, targetRect, isDisplayInnerSnapDigit);\n    var mainNames = index ? HORIZONTAL_NAMES_MAP : VERTICAL_NAMES_MAP;\n    var sideNames = index ? VERTICAL_NAMES_MAP : HORIZONTAL_NAMES_MAP;\n    var targetStart = targetRect[mainNames.start];\n    var targetEnd = targetRect[mainNames.end];\n    groups.forEach(function (_a) {\n      var total = _a.total,\n          start = _a.start,\n          end = _a.end,\n          inner = _a.inner;\n      var sidePos = targetPos[otherIndex] + total[0].pos[otherIndex] - targetRect[sideNames.start];\n      var prevRect = targetRect;\n      start.forEach(function (guideline) {\n        var nextRect = guideline.elementRect.rect;\n        var size = prevRect[mainNames.start] - nextRect[mainNames.end];\n\n        if (size > 0) {\n          var renderPos = [0, 0];\n          renderPos[index] = targetPos[index] + prevRect[mainNames.start] - targetStart - size;\n          renderPos[otherIndex] = sidePos;\n          rendered.push(renderDigitLine(moveable, type, \"dashed\", rendered.length, size, renderPos, guideline.className, React));\n        }\n\n        prevRect = nextRect;\n      });\n      prevRect = targetRect;\n      end.forEach(function (guideline) {\n        var nextRect = guideline.elementRect.rect;\n        var size = nextRect[mainNames.start] - prevRect[mainNames.end];\n\n        if (size > 0) {\n          var renderPos = [0, 0];\n          renderPos[index] = targetPos[index] + prevRect[mainNames.end] - targetStart;\n          renderPos[otherIndex] = sidePos;\n          rendered.push(renderDigitLine(moveable, type, \"dashed\", rendered.length, size, renderPos, guideline.className, React));\n        }\n\n        prevRect = nextRect;\n      });\n      inner.forEach(function (guideline) {\n        var nextRect = guideline.elementRect.rect;\n        var size1 = targetStart - nextRect[mainNames.start];\n        var size2 = nextRect[mainNames.end] - targetEnd;\n        var renderPos1 = [0, 0];\n        var renderPos2 = [0, 0];\n        renderPos1[index] = targetPos[index] - size1;\n        renderPos1[otherIndex] = sidePos;\n        renderPos2[index] = targetPos[index] + targetEnd - targetStart;\n        renderPos2[otherIndex] = sidePos;\n        rendered.push(renderDigitLine(moveable, type, \"dashed\", rendered.length, size1, renderPos1, guideline.className, React));\n        rendered.push(renderDigitLine(moveable, type, \"dashed\", rendered.length, size2, renderPos2, guideline.className, React));\n      });\n    });\n  });\n  return rendered;\n}\n\nfunction renderGapGuidelines(moveable, guidelines, targetPos, targetRect, React) {\n  var rendered = [];\n  [\"horizontal\", \"vertical\"].forEach(function (type) {\n    var nextGuidelines = guidelines.filter(function (guideline) {\n      return guideline.type === type;\n    });\n    var index = type === \"vertical\" ? 0 : 1;\n    var otherIndex = index ? 0 : 1;\n    var mainNames = index ? HORIZONTAL_NAMES_MAP : VERTICAL_NAMES_MAP;\n    var sideNames = index ? VERTICAL_NAMES_MAP : HORIZONTAL_NAMES_MAP;\n    var targetStart = targetRect[mainNames.start];\n    var targetEnd = targetRect[mainNames.end];\n    var targetSideStart = targetRect[sideNames.start];\n    var targetSideEnd = targetRect[sideNames.end];\n    nextGuidelines.forEach(function (_a) {\n      var gap = _a.gap,\n          gapRects = _a.gapRects,\n          className = _a.className;\n      var sideStartPos = Math.max.apply(Math, __spreadArray([targetSideStart], gapRects.map(function (_a) {\n        var rect = _a.rect;\n        return rect[sideNames.start];\n      }), false));\n      var sideEndPos = Math.min.apply(Math, __spreadArray([targetSideEnd], gapRects.map(function (_a) {\n        var rect = _a.rect;\n        return rect[sideNames.end];\n      }), false));\n      var sideCenterPos = (sideStartPos + sideEndPos) / 2;\n\n      if (sideStartPos === sideEndPos || sideCenterPos === (targetSideStart + targetSideEnd) / 2) {\n        return;\n      }\n\n      gapRects.forEach(function (_a) {\n        var rect = _a.rect;\n        var renderPos = [targetPos[0], targetPos[1]];\n\n        if (rect[mainNames.end] < targetStart) {\n          renderPos[index] += rect[mainNames.end] - targetStart;\n        } else if (targetEnd < rect[mainNames.start]) {\n          renderPos[index] += rect[mainNames.start] - targetStart - gap;\n        } else {\n          return;\n        }\n\n        renderPos[otherIndex] += sideCenterPos - targetSideStart;\n        rendered.push(renderDigitLine(moveable, index ? \"vertical\" : \"horizontal\", \"gap\", rendered.length, gap, renderPos, className, React));\n      });\n    });\n  });\n  return rendered;\n}\n\nfunction solveEquation(pos1, pos2, snapOffset, isVertical) {\n  var dx = pos2[0] - pos1[0];\n  var dy = pos2[1] - pos1[1];\n\n  if (Math.abs(dx) < TINY_NUM$1) {\n    dx = 0;\n  }\n\n  if (Math.abs(dy) < TINY_NUM$1) {\n    dy = 0;\n  }\n\n  if (!dx) {\n    // y = 0 * x + b\n    // only horizontal\n    if (!isVertical) {\n      return [0, snapOffset];\n    }\n\n    return [0, 0];\n  }\n\n  if (!dy) {\n    // only vertical\n    if (isVertical) {\n      return [snapOffset, 0];\n    }\n\n    return [0, 0];\n  } // y = ax + b\n\n\n  var a = dy / dx;\n  var b = pos1[1] - a * pos1[0];\n\n  if (isVertical) {\n    // y = a * x + b\n    var y = a * (pos2[0] + snapOffset) + b;\n    return [snapOffset, y - pos2[1]];\n  } else {\n    // x = (y - b) / a\n    var x = (pos2[1] + snapOffset - b) / a;\n    return [x - pos2[0], snapOffset];\n  }\n}\n\nfunction solveNextOffset(pos1, pos2, offset, isVertical, datas) {\n  var sizeOffset = solveEquation(pos1, pos2, offset, isVertical);\n\n  if (!sizeOffset) {\n    return {\n      isOutside: false,\n      offset: [0, 0]\n    };\n  }\n\n  var size = getDist$1(pos1, pos2);\n  var dist1 = getDist$1(sizeOffset, pos1);\n  var dist2 = getDist$1(sizeOffset, pos2);\n  var isOutside = dist1 > size || dist2 > size;\n\n  var _a = getDragDist({\n    datas: datas,\n    distX: sizeOffset[0],\n    distY: sizeOffset[1]\n  }),\n      widthOffset = _a[0],\n      heightOffset = _a[1];\n\n  return {\n    offset: [widthOffset, heightOffset],\n    isOutside: isOutside\n  };\n}\n\nfunction getSnapBound(boundInfo, snapInfo) {\n  if (boundInfo.isBound) {\n    return boundInfo.offset;\n  } else if (snapInfo.isSnap) {\n    return getNearestSnapGuidelineInfo(snapInfo).offset;\n  }\n\n  return 0;\n}\n\nfunction checkThrottleDragRotate(throttleDragRotate, _a, _b, _c, _d) {\n  var distX = _a[0],\n      distY = _a[1];\n  var isVerticalBound = _b[0],\n      isHorizontalBound = _b[1];\n  var isVerticalSnap = _c[0],\n      isHorizontalSnap = _c[1];\n  var verticalOffset = _d[0],\n      horizontalOffset = _d[1];\n  var offsetX = -verticalOffset;\n  var offsetY = -horizontalOffset;\n\n  if (throttleDragRotate && distX && distY) {\n    offsetX = 0;\n    offsetY = 0;\n    var adjustPoses = [];\n\n    if (isVerticalBound && isHorizontalBound) {\n      adjustPoses.push([0, horizontalOffset], [verticalOffset, 0]);\n    } else if (isVerticalBound) {\n      adjustPoses.push([verticalOffset, 0]);\n    } else if (isHorizontalBound) {\n      adjustPoses.push([0, horizontalOffset]);\n    } else if (isVerticalSnap && isHorizontalSnap) {\n      adjustPoses.push([0, horizontalOffset], [verticalOffset, 0]);\n    } else if (isVerticalSnap) {\n      adjustPoses.push([verticalOffset, 0]);\n    } else if (isHorizontalSnap) {\n      adjustPoses.push([0, horizontalOffset]);\n    }\n\n    if (adjustPoses.length) {\n      adjustPoses.sort(function (a, b) {\n        return getDistSize(minus([distX, distY], a)) - getDistSize(minus([distX, distY], b));\n      });\n      var adjustPos = adjustPoses[0];\n\n      if (adjustPos[0] && Math.abs(distX) > TINY_NUM$1) {\n        offsetX = -adjustPos[0];\n        offsetY = distY * Math.abs(distX + offsetX) / Math.abs(distX) - distY;\n      } else if (adjustPos[1] && Math.abs(distY) > TINY_NUM$1) {\n        var prevDistY = distY;\n        offsetY = -adjustPos[1];\n        offsetX = distX * Math.abs(distY + offsetY) / Math.abs(prevDistY) - distX;\n      }\n\n      if (throttleDragRotate && isHorizontalBound && isVerticalBound) {\n        if (Math.abs(offsetX) > TINY_NUM$1 && Math.abs(offsetX) < Math.abs(verticalOffset)) {\n          var scale = Math.abs(verticalOffset) / Math.abs(offsetX);\n          offsetX *= scale;\n          offsetY *= scale;\n        } else if (Math.abs(offsetY) > TINY_NUM$1 && Math.abs(offsetY) < Math.abs(horizontalOffset)) {\n          var scale = Math.abs(horizontalOffset) / Math.abs(offsetY);\n          offsetX *= scale;\n          offsetY *= scale;\n        } else {\n          offsetX = maxOffset(-verticalOffset, offsetX);\n          offsetY = maxOffset(-horizontalOffset, offsetY);\n        }\n      }\n    }\n  } else {\n    offsetX = distX || isVerticalBound ? -verticalOffset : 0;\n    offsetY = distY || isHorizontalBound ? -horizontalOffset : 0;\n  }\n\n  return [offsetX, offsetY];\n}\n\nfunction checkSnapBoundsDrag(moveable, distX, distY, throttleDragRotate, isRequest, datas) {\n  if (!hasGuidelines(moveable, \"draggable\")) {\n    return [{\n      isSnap: false,\n      isBound: false,\n      offset: 0\n    }, {\n      isSnap: false,\n      isBound: false,\n      offset: 0\n    }];\n  }\n\n  var poses = getAbsolutePoses(datas.absolutePoses, [distX, distY]);\n\n  var _a = getRect(poses),\n      left = _a.left,\n      right = _a.right,\n      top = _a.top,\n      bottom = _a.bottom;\n\n  var boundPoses = {\n    horizontal: poses.map(function (pos) {\n      return pos[1];\n    }),\n    vertical: poses.map(function (pos) {\n      return pos[0];\n    })\n  };\n  var snapDirections = getSnapDirections(moveable.props.snapDirections);\n  var snapPoses = splitSnapDirectionPoses(snapDirections, {\n    left: left,\n    right: right,\n    top: top,\n    bottom: bottom,\n    center: (left + right) / 2,\n    middle: (top + bottom) / 2\n  });\n\n  var _b = checkMoveableSnapBounds(moveable, isRequest, snapPoses, boundPoses),\n      verticalSnapBoundInfo = _b.vertical,\n      horizontalSnapBoundInfo = _b.horizontal;\n\n  var _c = getInnerBoundDragInfo(moveable, poses, datas),\n      verticalInnerBoundInfo = _c.vertical,\n      horizontalInnerBoundInfo = _c.horizontal;\n\n  var isVerticalSnap = verticalSnapBoundInfo.isSnap;\n  var isHorizontalSnap = horizontalSnapBoundInfo.isSnap;\n  var isVerticalBound = verticalSnapBoundInfo.isBound || verticalInnerBoundInfo.isBound;\n  var isHorizontalBound = horizontalSnapBoundInfo.isBound || horizontalInnerBoundInfo.isBound;\n  var verticalOffset = maxOffset(verticalSnapBoundInfo.offset, verticalInnerBoundInfo.offset);\n  var horizontalOffset = maxOffset(horizontalSnapBoundInfo.offset, horizontalInnerBoundInfo.offset);\n\n  var _d = checkThrottleDragRotate(throttleDragRotate, [distX, distY], [isVerticalBound, isHorizontalBound], [isVerticalSnap, isHorizontalSnap], [verticalOffset, horizontalOffset]),\n      offsetX = _d[0],\n      offsetY = _d[1];\n\n  return [{\n    isBound: isVerticalBound,\n    isSnap: isVerticalSnap,\n    offset: offsetX\n  }, {\n    isBound: isHorizontalBound,\n    isSnap: isHorizontalSnap,\n    offset: offsetY\n  }];\n}\n\nfunction checkMoveableSnapBounds(moveable, isRequest, poses, boundPoses) {\n  if (boundPoses === void 0) {\n    boundPoses = poses;\n  }\n\n  var _a = checkBoundPoses(getBounds(moveable), boundPoses.vertical, boundPoses.horizontal),\n      horizontalBoundInfos = _a.horizontal,\n      verticalBoundInfos = _a.vertical;\n\n  var _b = isRequest ? {\n    horizontal: {\n      isSnap: false,\n      index: -1\n    },\n    vertical: {\n      isSnap: false,\n      index: -1\n    }\n  } : checkMoveableSnapPoses(moveable, poses.vertical, poses.horizontal),\n      horizontalSnapInfo = _b.horizontal,\n      verticalSnapInfo = _b.vertical;\n\n  var horizontalOffset = getSnapBound(horizontalBoundInfos[0], horizontalSnapInfo);\n  var verticalOffset = getSnapBound(verticalBoundInfos[0], verticalSnapInfo);\n  var horizontalDist = Math.abs(horizontalOffset);\n  var verticalDist = Math.abs(verticalOffset);\n  return {\n    horizontal: {\n      isBound: horizontalBoundInfos[0].isBound,\n      isSnap: horizontalSnapInfo.isSnap,\n      snapIndex: horizontalSnapInfo.index,\n      offset: horizontalOffset,\n      dist: horizontalDist,\n      bounds: horizontalBoundInfos,\n      snap: horizontalSnapInfo\n    },\n    vertical: {\n      isBound: verticalBoundInfos[0].isBound,\n      isSnap: verticalSnapInfo.isSnap,\n      snapIndex: verticalSnapInfo.index,\n      offset: verticalOffset,\n      dist: verticalDist,\n      bounds: verticalBoundInfos,\n      snap: verticalSnapInfo\n    }\n  };\n}\n\nfunction checkSnapBounds(guideines, bounds, posesX, posesY, snapThreshold) {\n  var _a = checkBoundPoses(bounds, posesX, posesY),\n      horizontalBoundInfos = _a.horizontal,\n      verticalBoundInfos = _a.vertical; // options.isRequest ? {\n  //     horizontal: { isSnap: false, index: -1 } as SnapInfo,\n  //     vertical: { isSnap: false, index: -1 } as SnapInfo,\n  // } :\n\n\n  var _b = checkSnapPoses(guideines, posesX, posesY, snapThreshold),\n      horizontalSnapInfo = _b.horizontal,\n      verticalSnapInfo = _b.vertical;\n\n  var horizontalOffset = getSnapBound(horizontalBoundInfos[0], horizontalSnapInfo);\n  var verticalOffset = getSnapBound(verticalBoundInfos[0], verticalSnapInfo);\n  var horizontalDist = Math.abs(horizontalOffset);\n  var verticalDist = Math.abs(verticalOffset);\n  return {\n    horizontal: {\n      isBound: horizontalBoundInfos[0].isBound,\n      isSnap: horizontalSnapInfo.isSnap,\n      snapIndex: horizontalSnapInfo.index,\n      offset: horizontalOffset,\n      dist: horizontalDist,\n      bounds: horizontalBoundInfos,\n      snap: horizontalSnapInfo\n    },\n    vertical: {\n      isBound: verticalBoundInfos[0].isBound,\n      isSnap: verticalSnapInfo.isSnap,\n      snapIndex: verticalSnapInfo.index,\n      offset: verticalOffset,\n      dist: verticalDist,\n      bounds: verticalBoundInfos,\n      snap: verticalSnapInfo\n    }\n  };\n}\n\nfunction checkSnapRightLine(startPos, endPos, snapBoundInfo, keepRatio) {\n  var rad = getRad(startPos, endPos) / Math.PI * 180;\n  var _a = snapBoundInfo.vertical,\n      isVerticalBound = _a.isBound,\n      isVerticalSnap = _a.isSnap,\n      verticalDist = _a.dist,\n      _b = snapBoundInfo.horizontal,\n      isHorizontalBound = _b.isBound,\n      isHorizontalSnap = _b.isSnap,\n      horizontalDist = _b.dist;\n  var rad180 = rad % 180;\n  var isHorizontalLine = rad180 < 3 || rad180 > 177;\n  var isVerticalLine = rad180 > 87 && rad180 < 93;\n\n  if (horizontalDist < verticalDist) {\n    if (isVerticalBound || isVerticalSnap && !isVerticalLine && (!keepRatio || !isHorizontalLine)) {\n      return \"vertical\";\n    }\n  }\n\n  if (isHorizontalBound || isHorizontalSnap && !isHorizontalLine && (!keepRatio || !isVerticalLine)) {\n    return \"horizontal\";\n  }\n\n  return \"\";\n}\n\nfunction getSnapBoundInfo(moveable, poses, directions, keepRatio, isRequest, datas) {\n  return directions.map(function (_a) {\n    var startDirection = _a[0],\n        endDirection = _a[1];\n    var otherStartPos = getPosByDirection(poses, startDirection);\n    var otherEndPos = getPosByDirection(poses, endDirection);\n    var snapBoundInfo = keepRatio ? checkSnapBoundsKeepRatio(moveable, otherStartPos, otherEndPos, isRequest) : checkMoveableSnapBounds(moveable, isRequest, {\n      vertical: [otherEndPos[0]],\n      horizontal: [otherEndPos[1]]\n    });\n    var _b = snapBoundInfo.horizontal,\n        // dist: otherHorizontalDist,\n    otherHorizontalOffset = _b.offset,\n        isOtherHorizontalBound = _b.isBound,\n        isOtherHorizontalSnap = _b.isSnap,\n        _c = snapBoundInfo.vertical,\n        // dist: otherVerticalDist,\n    otherVerticalOffset = _c.offset,\n        isOtherVerticalBound = _c.isBound,\n        isOtherVerticalSnap = _c.isSnap;\n    var multiple = minus(endDirection, startDirection);\n\n    if (!otherVerticalOffset && !otherHorizontalOffset) {\n      return {\n        isBound: isOtherVerticalBound || isOtherHorizontalBound,\n        isSnap: isOtherVerticalSnap || isOtherHorizontalSnap,\n        sign: multiple,\n        offset: [0, 0]\n      };\n    }\n\n    var snapLine = checkSnapRightLine(otherStartPos, otherEndPos, snapBoundInfo, keepRatio);\n\n    if (!snapLine) {\n      return {\n        sign: multiple,\n        isBound: false,\n        isSnap: false,\n        offset: [0, 0]\n      };\n    }\n\n    var isVertical = snapLine === \"vertical\";\n    var sizeOffset = solveNextOffset(otherStartPos, otherEndPos, -(isVertical ? otherVerticalOffset : otherHorizontalOffset), isVertical, datas).offset.map(function (size, i) {\n      return size * (multiple[i] ? 2 / multiple[i] : 0);\n    });\n    return {\n      sign: multiple,\n      isBound: isVertical ? isOtherVerticalBound : isOtherHorizontalBound,\n      isSnap: isVertical ? isOtherVerticalSnap : isOtherHorizontalSnap,\n      offset: sizeOffset\n    };\n  });\n}\n\nfunction getSnapBoundOffset(boundInfo, snapInfo) {\n  if (boundInfo.isBound) {\n    return boundInfo.offset;\n  } else if (snapInfo.isSnap) {\n    return snapInfo.offset;\n  }\n\n  return 0;\n}\n\nfunction checkSnapBoundsKeepRatio(moveable, startPos, endPos, isRequest) {\n  var _a = checkBoundKeepRatio(moveable, startPos, endPos),\n      horizontalBoundInfo = _a.horizontal,\n      verticalBoundInfo = _a.vertical;\n\n  var _b = isRequest ? {\n    horizontal: {\n      isSnap: false\n    },\n    vertical: {\n      isSnap: false\n    }\n  } : checkSnapKeepRatio(moveable, startPos, endPos),\n      horizontalSnapInfo = _b.horizontal,\n      verticalSnapInfo = _b.vertical;\n\n  var horizontalOffset = getSnapBoundOffset(horizontalBoundInfo, horizontalSnapInfo);\n  var verticalOffset = getSnapBoundOffset(verticalBoundInfo, verticalSnapInfo);\n  var horizontalDist = Math.abs(horizontalOffset);\n  var verticalDist = Math.abs(verticalOffset);\n  return {\n    horizontal: {\n      isBound: horizontalBoundInfo.isBound,\n      isSnap: horizontalSnapInfo.isSnap,\n      offset: horizontalOffset,\n      dist: horizontalDist\n    },\n    vertical: {\n      isBound: verticalBoundInfo.isBound,\n      isSnap: verticalSnapInfo.isSnap,\n      offset: verticalOffset,\n      dist: verticalDist\n    }\n  };\n}\n\nfunction checkMaxBounds(moveable, poses, direction, fixedPosition, datas) {\n  var fixedDirection = [-direction[0], -direction[1]];\n  var _a = moveable.state,\n      width = _a.width,\n      height = _a.height;\n  var bounds = moveable.props.bounds;\n  var maxWidth = Infinity;\n  var maxHeight = Infinity;\n\n  if (bounds) {\n    var directions = [[direction[0], -direction[1]], [-direction[0], direction[1]]];\n    var _b = bounds.left,\n        left_1 = _b === void 0 ? -Infinity : _b,\n        _c = bounds.top,\n        top_1 = _c === void 0 ? -Infinity : _c,\n        _d = bounds.right,\n        right_1 = _d === void 0 ? Infinity : _d,\n        _e = bounds.bottom,\n        bottom_1 = _e === void 0 ? Infinity : _e;\n    directions.forEach(function (otherDirection) {\n      var isCheckVertical = otherDirection[0] !== fixedDirection[0];\n      var isCheckHorizontal = otherDirection[1] !== fixedDirection[1];\n      var otherPos = getPosByDirection(poses, otherDirection);\n      var deg = getRad(fixedPosition, otherPos) * 360 / Math.PI;\n\n      if (isCheckHorizontal) {\n        var nextOtherPos = otherPos.slice();\n\n        if (Math.abs(deg - 360) < 2 || Math.abs(deg - 180) < 2) {\n          nextOtherPos[1] = fixedPosition[1];\n        }\n\n        var _a = solveNextOffset(fixedPosition, nextOtherPos, (fixedPosition[1] < otherPos[1] ? bottom_1 : top_1) - otherPos[1], false, datas),\n            _b = _a.offset,\n            heightOffset = _b[1],\n            isHeightOutside = _a.isOutside;\n\n        if (!isNaN(heightOffset)) {\n          maxHeight = height + (isHeightOutside ? 1 : -1) * Math.abs(heightOffset);\n        }\n      }\n\n      if (isCheckVertical) {\n        var nextOtherPos = otherPos.slice();\n\n        if (Math.abs(deg - 90) < 2 || Math.abs(deg - 270) < 2) {\n          nextOtherPos[0] = fixedPosition[0];\n        }\n\n        var _c = solveNextOffset(fixedPosition, nextOtherPos, (fixedPosition[0] < otherPos[0] ? right_1 : left_1) - otherPos[0], true, datas),\n            widthOffset = _c.offset[0],\n            isWidthOutside = _c.isOutside;\n\n        if (!isNaN(widthOffset)) {\n          maxWidth = width + (isWidthOutside ? 1 : -1) * Math.abs(widthOffset);\n        }\n      }\n    });\n  }\n\n  return {\n    maxWidth: maxWidth,\n    maxHeight: maxHeight\n  };\n}\n\nfunction snapStart(moveable) {\n  var state = moveable.state;\n\n  if (state.guidelines && state.guidelines.length) {\n    return;\n  }\n\n  var container = moveable.state.container;\n  var snapContainer = moveable.props.snapContainer || container;\n  var containerClientRect = state.containerClientRect;\n  var snapOffset = {\n    left: 0,\n    top: 0,\n    bottom: 0,\n    right: 0\n  };\n\n  if (container !== snapContainer) {\n    var snapContainerTarget = getRefTarget(snapContainer, true);\n\n    if (snapContainerTarget) {\n      var snapContainerRect = getClientRect(snapContainerTarget);\n      var offset1 = getDragDistByState(state, [snapContainerRect.left - containerClientRect.left, snapContainerRect.top - containerClientRect.top]);\n      var offset2 = getDragDistByState(state, [snapContainerRect.right - containerClientRect.right, snapContainerRect.bottom - containerClientRect.bottom]);\n      snapOffset.left = throttle(offset1[0], 0.1);\n      snapOffset.top = throttle(offset1[1], 0.1);\n      snapOffset.right = throttle(offset2[0], 0.1);\n      snapOffset.bottom = throttle(offset2[1], 0.1);\n    }\n  }\n\n  state.snapOffset = snapOffset;\n  state.guidelines = getTotalGuidelines(moveable);\n  state.enableSnap = true;\n}\n\nfunction getNextFixedPoses(matrix, width, height, fixedDirection, fixedPos, is3d) {\n  var nextPoses = calculatePoses(matrix, width, height, is3d ? 4 : 3);\n  var nextFixedPos = getPosByDirection(nextPoses, fixedDirection);\n  return getAbsolutePoses(nextPoses, minus(fixedPos, nextFixedPos));\n}\n\nfunction getSizeOffsetInfo(moveable, poses, direction, keepRatio, isRequest, datas) {\n  var fixedDirection = datas.fixedDirection;\n  var directions = getCheckSnapDirections(direction, fixedDirection, keepRatio);\n  var lines = getCheckInnerBoundLines(poses, direction, keepRatio);\n\n  var offsets = __spreadArray(__spreadArray([], getSnapBoundInfo(moveable, poses, directions, keepRatio, isRequest, datas), true), getInnerBoundInfo(moveable, lines, getPosByDirection(poses, [0, 0]), datas), true);\n\n  var widthOffsetInfo = getNearOffsetInfo(offsets, 0);\n  var heightOffsetInfo = getNearOffsetInfo(offsets, 1);\n  return {\n    width: {\n      isBound: widthOffsetInfo.isBound,\n      offset: widthOffsetInfo.offset[0]\n    },\n    height: {\n      isBound: heightOffsetInfo.isBound,\n      offset: heightOffsetInfo.offset[1]\n    }\n  };\n}\n\nfunction recheckSizeByTwoDirection(moveable, poses, width, height, maxWidth, maxHeight, direction, isRequest, datas) {\n  var snapPos = getPosByDirection(poses, direction);\n\n  var _a = checkMoveableSnapBounds(moveable, isRequest, {\n    vertical: [snapPos[0]],\n    horizontal: [snapPos[1]]\n  }),\n      horizontalOffset = _a.horizontal.offset,\n      verticalOffset = _a.vertical.offset;\n\n  if (verticalOffset || horizontalOffset) {\n    var _b = getDragDist({\n      datas: datas,\n      distX: -verticalOffset,\n      distY: -horizontalOffset\n    }),\n        nextWidthOffset = _b[0],\n        nextHeightOffset = _b[1];\n\n    var nextWidth = Math.min(maxWidth || Infinity, width + direction[0] * nextWidthOffset);\n    var nextHeight = Math.min(maxHeight || Infinity, height + direction[1] * nextHeightOffset);\n    return [nextWidth - width, nextHeight - height];\n  }\n\n  return [0, 0];\n}\n\nfunction checkSizeDist(moveable, getNextPoses, width, height, direction, fixedPosition, isRequest, datas) {\n  var poses = getAbsolutePosesByState(moveable.state);\n  var keepRatio = moveable.props.keepRatio;\n  var widthOffset = 0;\n  var heightOffset = 0;\n\n  for (var i = 0; i < 2; ++i) {\n    var nextPoses = getNextPoses(widthOffset, heightOffset);\n\n    var _a = getSizeOffsetInfo(moveable, nextPoses, direction, keepRatio, isRequest, datas),\n        widthOffsetInfo = _a.width,\n        heightOffsetInfo = _a.height;\n\n    var isWidthBound = widthOffsetInfo.isBound;\n    var isHeightBound = heightOffsetInfo.isBound;\n    var nextWidthOffset = widthOffsetInfo.offset;\n    var nextHeightOffset = heightOffsetInfo.offset;\n\n    if (i === 1) {\n      if (!isWidthBound) {\n        nextWidthOffset = 0;\n      }\n\n      if (!isHeightBound) {\n        nextHeightOffset = 0;\n      }\n    }\n\n    if (i === 0 && isRequest && !isWidthBound && !isHeightBound) {\n      return [0, 0];\n    }\n\n    if (keepRatio) {\n      var widthDist = Math.abs(nextWidthOffset) * (width ? 1 / width : 1);\n      var heightDist = Math.abs(nextHeightOffset) * (height ? 1 / height : 1);\n      var isGetWidthOffset = isWidthBound && isHeightBound ? widthDist < heightDist : isHeightBound || !isWidthBound && widthDist < heightDist;\n\n      if (isGetWidthOffset) {\n        // width : height = ? : heightOffset\n        nextWidthOffset = width * nextHeightOffset / height;\n      } else {\n        // width : height = widthOffset : ?\n        nextHeightOffset = height * nextWidthOffset / width;\n      }\n    }\n\n    widthOffset += nextWidthOffset;\n    heightOffset += nextHeightOffset;\n  }\n\n  if (direction[0] && direction[1]) {\n    var _b = checkMaxBounds(moveable, poses, direction, fixedPosition, datas),\n        maxWidth = _b.maxWidth,\n        maxHeight = _b.maxHeight;\n\n    var _c = recheckSizeByTwoDirection(moveable, getNextPoses(widthOffset, heightOffset).map(function (pos) {\n      return pos.map(function (p) {\n        return throttle(p, FLOAT_POINT_NUM);\n      });\n    }), width + widthOffset, height + heightOffset, maxWidth, maxHeight, direction, isRequest, datas),\n        nextWidthOffset = _c[0],\n        nextHeightOffset = _c[1];\n\n    widthOffset += nextWidthOffset;\n    heightOffset += nextHeightOffset;\n  }\n\n  return [widthOffset, heightOffset];\n}\n\nfunction checkSnapRotate(moveable, rect, origin, rotation) {\n  if (!hasGuidelines(moveable, \"rotatable\")) {\n    return rotation;\n  }\n\n  var pos1 = rect.pos1,\n      pos2 = rect.pos2,\n      pos3 = rect.pos3,\n      pos4 = rect.pos4;\n  var rad = rotation * Math.PI / 180;\n  var prevPoses = [pos1, pos2, pos3, pos4].map(function (pos) {\n    return minus(pos, origin);\n  });\n  var nextPoses = prevPoses.map(function (pos) {\n    return rotate(pos, rad);\n  });\n\n  var result = __spreadArray(__spreadArray([], checkRotateBounds(moveable, prevPoses, nextPoses, origin, rotation), true), checkRotateInnerBounds(moveable, prevPoses, nextPoses, origin, rotation), true);\n\n  result.sort(function (a, b) {\n    return Math.abs(a - rotation) - Math.abs(b - rotation);\n  });\n\n  if (result.length) {\n    return result[0];\n  } else {\n    return rotation;\n  }\n}\n\nfunction checkSnapResize(moveable, width, height, direction, fixedPosition, isRequest, datas) {\n  if (!hasGuidelines(moveable, \"resizable\")) {\n    return [0, 0];\n  }\n\n  var fixedDirection = datas.fixedDirection;\n  var _a = moveable.state,\n      allMatrix = _a.allMatrix,\n      is3d = _a.is3d;\n  return checkSizeDist(moveable, function (widthOffset, heightOffset) {\n    return getNextFixedPoses(allMatrix, width + widthOffset, height + heightOffset, fixedDirection, fixedPosition, is3d);\n  }, width, height, direction, fixedPosition, isRequest, datas);\n}\n\nfunction checkSnapScale(moveable, scale, direction, isRequest, datas) {\n  if (!hasGuidelines(moveable, \"scalable\")) {\n    return [0, 0];\n  }\n\n  var startOffsetWidth = datas.startOffsetWidth,\n      startOffsetHeight = datas.startOffsetHeight,\n      fixedPosition = datas.fixedPosition,\n      fixedDirection = datas.fixedDirection,\n      is3d = datas.is3d;\n  var sizeDist = checkSizeDist(moveable, function (widthOffset, heightOffset) {\n    return getNextFixedPoses(scaleMatrix(datas, plus(scale, [widthOffset / startOffsetWidth, heightOffset / startOffsetHeight])), startOffsetWidth, startOffsetHeight, fixedDirection, fixedPosition, is3d);\n  }, startOffsetWidth, startOffsetHeight, direction, fixedPosition, isRequest, datas);\n  return [sizeDist[0] / startOffsetWidth, sizeDist[1] / startOffsetHeight];\n}\n\nfunction startCheckSnapDrag(moveable, datas) {\n  datas.absolutePoses = getAbsolutePosesByState(moveable.state);\n}\n\nfunction getSnapGuidelines(posInfos) {\n  var guidelines = [];\n  posInfos.forEach(function (posInfo) {\n    posInfo.guidelineInfos.forEach(function (_a) {\n      var guideline = _a.guideline;\n\n      if (guidelines.indexOf(guideline) > -1) {\n        return;\n      }\n\n      guidelines.push(guideline);\n    });\n  });\n  return guidelines;\n}\n\nfunction addBoundGuidelines(moveable, verticalPoses, horizontalPoses, verticalSnapPoses, horizontalSnapPoses, externalBounds) {\n  var _a = checkBoundPoses(getBounds(moveable, externalBounds), verticalPoses, horizontalPoses),\n      verticalBoundInfos = _a.vertical,\n      horizontalBoundInfos = _a.horizontal;\n\n  verticalBoundInfos.forEach(function (info) {\n    if (info.isBound) {\n      verticalSnapPoses.push({\n        type: \"bounds\",\n        pos: info.pos\n      });\n    }\n  });\n  horizontalBoundInfos.forEach(function (info) {\n    if (info.isBound) {\n      horizontalSnapPoses.push({\n        type: \"bounds\",\n        pos: info.pos\n      });\n    }\n  });\n\n  var _b = checkInnerBoundPoses(moveable),\n      verticalInnerBoundPoses = _b.vertical,\n      horizontalInnerBoundPoses = _b.horizontal;\n\n  verticalInnerBoundPoses.forEach(function (innerPos) {\n    if (findIndex(verticalSnapPoses, function (_a) {\n      var type = _a.type,\n          pos = _a.pos;\n      return type === \"bounds\" && pos === innerPos;\n    }) >= 0) {\n      return;\n    }\n\n    verticalSnapPoses.push({\n      type: \"bounds\",\n      pos: innerPos\n    });\n  });\n  horizontalInnerBoundPoses.forEach(function (innerPos) {\n    if (findIndex(horizontalSnapPoses, function (_a) {\n      var type = _a.type,\n          pos = _a.pos;\n      return type === \"bounds\" && pos === innerPos;\n    }) >= 0) {\n      return;\n    }\n\n    horizontalSnapPoses.push({\n      type: \"bounds\",\n      pos: innerPos\n    });\n  });\n}\n/**\n * @namespace Moveable.Snappable\n * @description Whether or not target can be snapped to the guideline. (default: false)\n * @sort 2\n */\n\n\nvar Snappable = {\n  name: \"snappable\",\n  dragRelation: \"strong\",\n  props: {\n    snappable: [Boolean, Array],\n    snapContainer: Object,\n    snapDirections: [Boolean, Object],\n    elementSnapDirections: [Boolean, Object],\n    snapGap: Boolean,\n    snapGridWidth: Number,\n    snapGridHeight: Number,\n    isDisplaySnapDigit: Boolean,\n    isDisplayInnerSnapDigit: Boolean,\n    snapDigit: Number,\n    snapThreshold: Number,\n    horizontalGuidelines: Array,\n    verticalGuidelines: Array,\n    elementGuidelines: Array,\n    bounds: Object,\n    innerBounds: Object,\n    snapDistFormat: Function\n  },\n  events: {\n    onSnap: \"snap\"\n  },\n  css: [\":host {\\n    --bounds-color: #d66;\\n}\\n.guideline {\\n    pointer-events: none;\\n    z-index: 2;\\n}\\n.guideline.bounds {\\n    background: #d66;\\n    background: var(--bounds-color);\\n}\\n.guideline-group {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n}\\n.guideline-group .size-value {\\n    position: absolute;\\n    color: #f55;\\n    font-size: 12px;\\n    font-weight: bold;\\n}\\n.guideline-group.horizontal .size-value {\\n    transform-origin: 50% 100%;\\n    transform: translateX(-50%);\\n    left: 50%;\\n    bottom: 5px;\\n}\\n.guideline-group.vertical .size-value {\\n    transform-origin: 0% 50%;\\n    top: 50%;\\n    transform: translateY(-50%);\\n    left: 5px;\\n}\\n.guideline.gap {\\n    background: #f55;\\n}\\n.size-value.gap {\\n    color: #f55;\\n}\\n\"],\n  render: function (moveable, React) {\n    var state = moveable.state;\n    var targetTop = state.top,\n        targetLeft = state.left,\n        pos1 = state.pos1,\n        pos2 = state.pos2,\n        pos3 = state.pos3,\n        pos4 = state.pos4,\n        snapRenderInfo = state.snapRenderInfo;\n\n    if (!snapRenderInfo || !hasGuidelines(moveable, \"\")) {\n      return [];\n    }\n\n    state.guidelines = getTotalGuidelines(moveable);\n    var minLeft = Math.min(pos1[0], pos2[0], pos3[0], pos4[0]);\n    var minTop = Math.min(pos1[1], pos2[1], pos3[1], pos4[1]);\n    var externalPoses = snapRenderInfo.externalPoses || [];\n    var poses = getAbsolutePosesByState(moveable.state);\n    var verticalSnapPoses = [];\n    var horizontalSnapPoses = [];\n    var verticalGuidelines = [];\n    var horizontalGuidelines = [];\n    var snapInfos = [];\n\n    var _a = getRect(poses),\n        width = _a.width,\n        height = _a.height,\n        top = _a.top,\n        left = _a.left,\n        bottom = _a.bottom,\n        right = _a.right;\n\n    var targetRect = {\n      left: left,\n      right: right,\n      top: top,\n      bottom: bottom,\n      center: (left + right) / 2,\n      middle: (top + bottom) / 2\n    };\n    var hasExternalPoses = externalPoses.length > 0;\n    var externalRect = hasExternalPoses ? getRect(externalPoses) : {};\n\n    if (!snapRenderInfo.request) {\n      if (snapRenderInfo.direction) {\n        snapInfos.push(getSnapInfosByDirection(moveable, poses, snapRenderInfo.direction));\n      }\n\n      if (snapRenderInfo.snap) {\n        var rect = getRect(poses);\n\n        if (snapRenderInfo.center) {\n          rect.middle = (rect.top + rect.bottom) / 2;\n          rect.center = (rect.left + rect.right) / 2;\n        }\n\n        snapInfos.push(checkSnaps(moveable, rect, 1));\n      }\n\n      if (hasExternalPoses) {\n        if (snapRenderInfo.center) {\n          externalRect.middle = (externalRect.top + externalRect.bottom) / 2;\n          externalRect.center = (externalRect.left + externalRect.right) / 2;\n        }\n\n        snapInfos.push(checkSnaps(moveable, externalRect, 1));\n      }\n\n      snapInfos.forEach(function (snapInfo) {\n        var verticalPosInfos = snapInfo.vertical.posInfos,\n            horizontalPosInfos = snapInfo.horizontal.posInfos;\n        verticalSnapPoses.push.apply(verticalSnapPoses, verticalPosInfos.filter(function (_a) {\n          var guidelineInfos = _a.guidelineInfos;\n          return guidelineInfos.some(function (_a) {\n            var guideline = _a.guideline;\n            return !guideline.hide;\n          });\n        }).map(function (posInfo) {\n          return {\n            type: \"snap\",\n            pos: posInfo.pos\n          };\n        }));\n        horizontalSnapPoses.push.apply(horizontalSnapPoses, horizontalPosInfos.filter(function (_a) {\n          var guidelineInfos = _a.guidelineInfos;\n          return guidelineInfos.some(function (_a) {\n            var guideline = _a.guideline;\n            return !guideline.hide;\n          });\n        }).map(function (posInfo) {\n          return {\n            type: \"snap\",\n            pos: posInfo.pos\n          };\n        }));\n        verticalGuidelines.push.apply(verticalGuidelines, getSnapGuidelines(verticalPosInfos));\n        horizontalGuidelines.push.apply(horizontalGuidelines, getSnapGuidelines(horizontalPosInfos));\n      });\n    }\n\n    addBoundGuidelines(moveable, [left, right], [top, bottom], verticalSnapPoses, horizontalSnapPoses);\n\n    if (hasExternalPoses) {\n      addBoundGuidelines(moveable, [externalRect.left, externalRect.right], [externalRect.top, externalRect.bottom], verticalSnapPoses, horizontalSnapPoses, snapRenderInfo.externalBounds);\n    }\n\n    var allGuidelines = __spreadArray(__spreadArray([], verticalGuidelines, true), horizontalGuidelines, true);\n\n    var elementGuidelines = allGuidelines.filter(function (guideline) {\n      return guideline.element && !guideline.gapRects;\n    });\n    var gapGuidelines = allGuidelines.filter(function (guideline) {\n      return guideline.gapRects;\n    });\n    triggerEvent(moveable, \"onSnap\", {\n      guidelines: allGuidelines.filter(function (_a) {\n        var element = _a.element;\n        return !element;\n      }),\n      elements: elementGuidelines,\n      gaps: gapGuidelines\n    }, true);\n    return __spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([], renderDashedGuidelines(moveable, elementGuidelines, [minLeft, minTop], targetRect, React), true), renderGapGuidelines(moveable, gapGuidelines, [minLeft, minTop], targetRect, React), true), renderGuidelines(moveable, \"horizontal\", horizontalGuidelines, [targetLeft, targetTop], targetRect, React), true), renderGuidelines(moveable, \"vertical\", verticalGuidelines, [targetLeft, targetTop], targetRect, React), true), renderSnapPoses(moveable, \"horizontal\", horizontalSnapPoses, minLeft, targetTop, width, 0, React), true), renderSnapPoses(moveable, \"vertical\", verticalSnapPoses, minTop, targetLeft, height, 1, React), true);\n  },\n  dragStart: function (moveable, e) {\n    moveable.state.snapRenderInfo = {\n      request: e.isRequest,\n      snap: true,\n      center: true\n    };\n    snapStart(moveable);\n  },\n  drag: function (moveable) {\n    var state = moveable.state;\n    state.guidelines = getTotalGuidelines(moveable);\n  },\n  pinchStart: function (moveable) {\n    this.unset(moveable);\n  },\n  dragEnd: function (moveable) {\n    this.unset(moveable);\n  },\n  dragControlCondition: function (moveable, e) {\n    if (directionCondition(moveable, e) || dragControlCondition(moveable, e)) {\n      return true;\n    }\n\n    if (!e.isRequest && e.inputEvent) {\n      return hasClass(e.inputEvent.target, prefix(\"snap-control\"));\n    }\n  },\n  dragControlStart: function (moveable) {\n    moveable.state.snapRenderInfo = null;\n    snapStart(moveable);\n  },\n  dragControl: function (moveable) {\n    this.drag(moveable);\n  },\n  dragControlEnd: function (moveable) {\n    this.unset(moveable);\n  },\n  dragGroupStart: function (moveable, e) {\n    this.dragStart(moveable, e);\n  },\n  dragGroup: function (moveable) {\n    this.drag(moveable);\n  },\n  dragGroupEnd: function (moveable) {\n    this.unset(moveable);\n  },\n  dragGroupControlStart: function (moveable) {\n    moveable.state.snapRenderInfo = null;\n    snapStart(moveable);\n  },\n  dragGroupControl: function (moveable) {\n    this.drag(moveable);\n  },\n  dragGroupControlEnd: function (moveable) {\n    this.unset(moveable);\n  },\n  unset: function (moveable) {\n    var state = moveable.state;\n    state.enableSnap = false;\n    state.guidelines = [];\n    state.snapRenderInfo = null;\n    state.elementRects = [];\n  }\n};\n/**\n * Whether or not target can be snapped to the guideline. (default: false)\n * @name Moveable.Snappable#snappable\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.snappable = true;\n */\n\n/**\n *  A snap container that is the basis for snap, bounds, and innerBounds. (default: null = container)\n * @name Moveable.Snappable#snapContainer\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.querySelector(\".container\"));\n *\n * moveable.snapContainer = document.body;\n */\n\n/**\n * You can specify the directions to snap to the target. (default: { left: true, top: true, right: true, bottom: true })\n * @name Moveable.Snappable#snapDirections\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *   snappable: true,\n *   snapDirections: true,\n * });\n * // snap center\n * moveable.snapDirections = { left: true, top: true, right: true, bottom: true, center: true, middle: true };\n */\n\n/**\n * You can specify the snap directions of elements. (default: { left: true, top: true, right: true, bottom: true })\n * @name Moveable.Snappable#elementSnapDirections\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *   snappable: true,\n *   elementSnapDirections: true,\n * });\n * // snap center\n * moveable.elementSnapDirections = { left: true, top: true, right: true, bottom: true, center: true, middle: true };\n */\n\n/**\n * When you drag, make the gap snap in the element guidelines. (default: true)\n * @name Moveable.Snappable#snapGap\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *   snappable: true,\n *   snapElement: true,\n *   snapGap: true,\n * });\n *\n * moveable.snapGap = false;\n */\n\n/**\n * Distance value that can snap to guidelines. (default: 5)\n * @name Moveable.Snappable#snapThreshold\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.snapThreshold = 5;\n */\n\n/**\n * Add guidelines in the horizontal direction. (default: [])\n * @name Moveable.Snappable#horizontalGuidelines\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.horizontalGuidelines = [100, 200, 500];\n */\n\n/**\n * Add guidelines in the vertical direction. (default: [])\n * @name Moveable.Snappable#verticalGuidelines\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.verticalGuidelines = [100, 200, 500];\n */\n\n/**\n * Add guidelines for the element. (default: [])\n * @name Moveable.Snappable#elementGuidelines\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.elementGuidelines = [\n *   document.querySelector(\".element\"),\n * ];\n */\n\n/**\n * You can set up boundaries.\n * @name Moveable.Snappable#bounds\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @default null\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.bounds = { left: 0, right: 1000, top: 0, bottom: 1000};\n */\n\n/**\n * You can set up inner boundaries.\n * @name Moveable.Snappable#innerBounds\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @default null\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.innerBounds = { left: 500, top: 500, width: 100, height: 100};\n */\n\n/**\n * snap distance digits (default: 0)\n * @name Moveable.Snappable#snapDigit\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.snapDigit = 0\n */\n\n/**\n * If width size is greater than 0, you can vertical snap to the grid. (default: 0)\n * @name Moveable.Snappable#snapGridWidth\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.snapGridWidth = 5;\n */\n\n/**\n * If height size is greater than 0, you can horizontal snap to the grid. (default: 0)\n * @name Moveable.Snappable#snapGridHeight\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.snapGridHeight = 5;\n */\n\n/**\n * Whether to show snap distance (default: true)\n * @name Moveable.Snappable#isDisplaySnapDigit\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.isDisplaySnapDigit = true;\n */\n\n/**\n * Whether to show element inner snap distance (default: false)\n * @name Moveable.Snappable#isDisplayInnerSnapDigit\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.isDisplayInnerSnapDigit = true;\n */\n\n/**\n * You can set the text format of the distance shown in the guidelines. (default: self)\n * @name Moveable.Snappable#snapDistFormat\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *  snappable: true,\n *  snapDistFormat: v => v,\n * });\n * moveable.snapDistFormat = v => `${v}px`;\n */\n\n/**\n * When you drag or dragControl, the `snap` event is called.\n * @memberof Moveable.Snappable\n * @event snap\n * @param {Moveable.Snappable.OnSnap} - Parameters for the `snap` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     snappable: true\n * });\n * moveable.on(\"snap\", e => {\n *     console.log(\"onSnap\", e);\n * });\n */\n\n/**\n * @namespace Draggable\n * @memberof Moveable\n * @description Draggable refers to the ability to drag and move targets.\n */\n\nvar Draggable = {\n  name: \"draggable\",\n  props: {\n    draggable: Boolean,\n    throttleDrag: Number,\n    throttleDragRotate: Number,\n    startDragRotate: Number,\n    edgeDraggable: Boolean\n  },\n  events: {\n    onDragStart: \"dragStart\",\n    onDrag: \"drag\",\n    onDragEnd: \"dragEnd\",\n    onDragGroupStart: \"dragGroupStart\",\n    onDragGroup: \"dragGroup\",\n    onDragGroupEnd: \"dragGroupEnd\"\n  },\n  render: function (moveable, React) {\n    var _a = moveable.props,\n        throttleDragRotate = _a.throttleDragRotate,\n        zoom = _a.zoom;\n    var _b = moveable.state,\n        dragInfo = _b.dragInfo,\n        beforeOrigin = _b.beforeOrigin;\n\n    if (!throttleDragRotate || !dragInfo) {\n      return [];\n    }\n\n    var dist = dragInfo.dist;\n\n    if (!dist[0] && !dist[1]) {\n      return [];\n    }\n\n    var width = getDistSize(dist);\n    var rad = getRad(dist, [0, 0]);\n    return [React.createElement(\"div\", {\n      className: prefix(\"line\", \"horizontal\", \"dragline\", \"dashed\"),\n      key: \"dragRotateGuideline\",\n      style: {\n        width: \"\".concat(width, \"px\"),\n        transform: \"translate(\".concat(beforeOrigin[0], \"px, \").concat(beforeOrigin[1], \"px) rotate(\").concat(rad, \"rad) scaleY(\").concat(zoom, \")\")\n      }\n    })];\n  },\n  dragStart: function (moveable, e) {\n    var datas = e.datas,\n        parentEvent = e.parentEvent,\n        parentGesto = e.parentGesto;\n    var state = moveable.state;\n    var target = state.target,\n        gesto = state.gesto;\n\n    if (gesto) {\n      return false;\n    }\n\n    state.gesto = parentGesto || moveable.targetGesto;\n    var style = getComputedStyle(target);\n    datas.datas = {};\n    datas.left = parseFloat(style.left || \"\") || 0;\n    datas.top = parseFloat(style.top || \"\") || 0;\n    datas.bottom = parseFloat(style.bottom || \"\") || 0;\n    datas.right = parseFloat(style.right || \"\") || 0;\n    datas.startValue = [0, 0];\n    setDragStart(moveable, e);\n    setDefaultTransformIndex(e, \"translate\");\n    startCheckSnapDrag(moveable, datas);\n    datas.prevDist = [0, 0];\n    datas.prevBeforeDist = [0, 0];\n    datas.isDrag = false;\n    datas.deltaOffset = [0, 0];\n    datas.distOffset = [0, 0];\n    var params = fillParams(moveable, e, __assign$1({\n      set: function (translate) {\n        datas.startValue = translate;\n      }\n    }, fillTransformStartEvent(e)));\n    var result = parentEvent || triggerEvent(moveable, \"onDragStart\", params);\n\n    if (result !== false) {\n      datas.isDrag = true;\n      moveable.state.dragInfo = {\n        startRect: moveable.getRect(),\n        dist: [0, 0]\n      };\n    } else {\n      state.gesto = null;\n      datas.isPinch = false;\n    }\n\n    return datas.isDrag ? params : false;\n  },\n  drag: function (moveable, e) {\n    if (!e) {\n      return;\n    }\n\n    resolveTransformEvent(e, \"translate\");\n    var datas = e.datas,\n        parentEvent = e.parentEvent,\n        parentFlag = e.parentFlag,\n        isPinch = e.isPinch,\n        isRequest = e.isRequest;\n    var distX = e.distX,\n        distY = e.distY;\n    var isDrag = datas.isDrag,\n        prevDist = datas.prevDist,\n        prevBeforeDist = datas.prevBeforeDist,\n        startValue = datas.startValue,\n        distOffset = datas.distOffset;\n\n    if (!isDrag) {\n      return;\n    }\n\n    distX += distOffset[0];\n    distY += distOffset[1];\n    var props = moveable.props;\n    var parentMoveable = props.parentMoveable;\n    var throttleDrag = parentEvent ? 0 : props.throttleDrag || 0;\n    var throttleDragRotate = parentEvent ? 0 : props.throttleDragRotate || 0;\n    var isSnap = false;\n    var dragRotateRad = 0;\n\n    if (!parentEvent && throttleDragRotate > 0 && (distX || distY)) {\n      var startDragRotate = props.startDragRotate || 0;\n      var deg = throttle(startDragRotate + getRad([0, 0], [distX, distY]) * 180 / Math.PI, throttleDragRotate) - startDragRotate;\n      var ry = distY * Math.abs(Math.cos((deg - 90) / 180 * Math.PI));\n      var rx = distX * Math.abs(Math.cos(deg / 180 * Math.PI));\n      var r = getDistSize([rx, ry]);\n      dragRotateRad = deg * Math.PI / 180;\n      distX = r * Math.cos(dragRotateRad);\n      distY = r * Math.sin(dragRotateRad);\n    }\n\n    if (!isPinch && !parentEvent && !parentFlag && (!throttleDragRotate || distX || distY)) {\n      var _a = checkSnapBoundsDrag(moveable, distX, distY, throttleDragRotate, isRequest, datas),\n          verticalInfo = _a[0],\n          horizontalInfo = _a[1];\n\n      var isVerticalSnap = verticalInfo.isSnap,\n          isVerticalBound = verticalInfo.isBound,\n          verticalOffset = verticalInfo.offset;\n      var isHorizontalSnap = horizontalInfo.isSnap,\n          isHorizontalBound = horizontalInfo.isBound,\n          horizontalOffset = horizontalInfo.offset;\n      isSnap = isVerticalSnap || isHorizontalSnap || isVerticalBound || isHorizontalBound;\n      distX += verticalOffset;\n      distY += horizontalOffset;\n    }\n\n    var beforeTranslate = plus(getBeforeDragDist({\n      datas: datas,\n      distX: distX,\n      distY: distY\n    }), startValue);\n    var translate = plus(getTransformDist({\n      datas: datas,\n      distX: distX,\n      distY: distY\n    }), startValue);\n\n    if (!throttleDragRotate && !isSnap) {\n      throttleArray(translate, throttleDrag);\n      throttleArray(beforeTranslate, throttleDrag);\n    }\n\n    var beforeDist = minus(beforeTranslate, startValue);\n    var dist = minus(translate, startValue);\n    var delta = minus(dist, prevDist);\n    var beforeDelta = minus(beforeDist, prevBeforeDist);\n    datas.prevDist = dist;\n    datas.prevBeforeDist = beforeDist;\n    datas.passDelta = delta; //distX - (datas.passDistX || 0);\n    // datas.passDeltaY = distY - (datas.passDistY || 0);\n\n    datas.passDist = dist; //distX;\n    // datas.passDistY = distY;\n\n    var left = datas.left + beforeDist[0];\n    var top = datas.top + beforeDist[1];\n    var right = datas.right - beforeDist[0];\n    var bottom = datas.bottom - beforeDist[1];\n    var nextTransform = convertTransformFormat(datas, \"translate(\".concat(translate[0], \"px, \").concat(translate[1], \"px)\"), \"translate(\".concat(dist[0], \"px, \").concat(dist[1], \"px)\"));\n    fillOriginalTransform(e, nextTransform);\n    moveable.state.dragInfo.dist = parentEvent ? [0, 0] : dist;\n\n    if (!parentEvent && !parentMoveable && delta.every(function (num) {\n      return !num;\n    }) && beforeDelta.some(function (num) {\n      return !num;\n    })) {\n      return;\n    }\n\n    var _b = moveable.state,\n        width = _b.width,\n        height = _b.height;\n    var params = fillParams(moveable, e, {\n      transform: nextTransform,\n      dist: dist,\n      delta: delta,\n      translate: translate,\n      beforeDist: beforeDist,\n      beforeDelta: beforeDelta,\n      beforeTranslate: beforeTranslate,\n      left: left,\n      top: top,\n      right: right,\n      bottom: bottom,\n      width: width,\n      height: height,\n      isPinch: isPinch\n    });\n    !parentEvent && triggerEvent(moveable, \"onDrag\", params);\n    return params;\n  },\n  dragAfter: function (moveable, e) {\n    var datas = e.datas;\n    var _a = e.datas,\n        deltaOffset = _a.deltaOffset,\n        distOffset = _a.distOffset;\n\n    if (deltaOffset[0] || deltaOffset[1]) {\n      datas.deltaOffset = [0, 0];\n      distOffset[0] = deltaOffset[0];\n      distOffset[1] = deltaOffset[1];\n      return this.drag(moveable, e);\n    }\n\n    return false;\n  },\n  dragEnd: function (moveable, e) {\n    var parentEvent = e.parentEvent,\n        datas = e.datas;\n    moveable.state.gesto = null;\n    moveable.state.dragInfo = null;\n\n    if (!datas.isDrag) {\n      return;\n    }\n\n    datas.isDrag = false;\n    var param = fillEndParams(moveable, e, {});\n    !parentEvent && triggerEvent(moveable, \"onDragEnd\", param);\n    return param;\n  },\n  dragGroupStart: function (moveable, e) {\n    var datas = e.datas,\n        clientX = e.clientX,\n        clientY = e.clientY;\n    var params = this.dragStart(moveable, e);\n\n    if (!params) {\n      return false;\n    }\n\n    var events = triggerChildGesto(moveable, this, \"dragStart\", [clientX || 0, clientY || 0], e, false);\n\n    var nextParams = __assign$1(__assign$1({}, params), {\n      targets: moveable.props.targets,\n      events: events\n    });\n\n    var result = triggerEvent(moveable, \"onDragGroupStart\", nextParams);\n    datas.isDrag = result !== false;\n    return datas.isDrag ? params : false;\n  },\n  dragGroup: function (moveable, e) {\n    var datas = e.datas;\n\n    if (!datas.isDrag) {\n      return;\n    }\n\n    var params = this.drag(moveable, e);\n    var passDelta = e.datas.passDelta;\n    var events = triggerChildGesto(moveable, this, \"drag\", passDelta, e, false);\n\n    if (!params) {\n      return;\n    }\n\n    var nextParams = __assign$1({\n      targets: moveable.props.targets,\n      events: events\n    }, params);\n\n    triggerEvent(moveable, \"onDragGroup\", nextParams);\n    return nextParams;\n  },\n  dragGroupEnd: function (moveable, e) {\n    var isDrag = e.isDrag,\n        datas = e.datas;\n\n    if (!datas.isDrag) {\n      return;\n    }\n\n    this.dragEnd(moveable, e);\n    var events = triggerChildGesto(moveable, this, \"dragEnd\", [0, 0], e, false);\n    triggerEvent(moveable, \"onDragGroupEnd\", fillEndParams(moveable, e, {\n      targets: moveable.props.targets,\n      events: events\n    }));\n    return isDrag;\n  },\n\n  /**\n   * @method Moveable.Draggable#request\n   * @param {object} [e] - the draggable's request parameter\n   * @param {number} [e.x] - x position\n   * @param {number} [e.y] - y position\n   * @param {number} [e.deltaX] - X number to move\n   * @param {number} [e.deltaY] - Y number to move\n   * @return {Moveable.Requester} Moveable Requester\n   * @example\n    * // Instantly Request (requestStart - request - requestEnd)\n   * // Use Relative Value\n   * moveable.request(\"draggable\", { deltaX: 10, deltaY: 10 }, true);\n   * // Use Absolute Value\n   * moveable.request(\"draggable\", { x: 200, y: 100 }, true);\n   *\n   * // requestStart\n   * const requester = moveable.request(\"draggable\");\n   *\n   * // request\n   * // Use Relative Value\n   * requester.request({ deltaX: 10, deltaY: 10 });\n   * requester.request({ deltaX: 10, deltaY: 10 });\n   * requester.request({ deltaX: 10, deltaY: 10 });\n   * // Use Absolute Value\n   * moveable.request(\"draggable\", { x: 200, y: 100 });\n   * moveable.request(\"draggable\", { x: 220, y: 100 });\n   * moveable.request(\"draggable\", { x: 240, y: 100 });\n   *\n   * // requestEnd\n   * requester.requestEnd();\n   */\n  request: function (moveable) {\n    var datas = {};\n    var rect = moveable.getRect();\n    var distX = 0;\n    var distY = 0;\n    return {\n      isControl: false,\n      requestStart: function () {\n        return {\n          datas: datas\n        };\n      },\n      request: function (e) {\n        if (\"x\" in e) {\n          distX = e.x - rect.left;\n        } else if (\"deltaX\" in e) {\n          distX += e.deltaX;\n        }\n\n        if (\"y\" in e) {\n          distY = e.y - rect.top;\n        } else if (\"deltaY\" in e) {\n          distY += e.deltaY;\n        }\n\n        return {\n          datas: datas,\n          distX: distX,\n          distY: distY\n        };\n      },\n      requestEnd: function () {\n        return {\n          datas: datas,\n          isDrag: true\n        };\n      }\n    };\n  },\n  unset: function (moveable) {\n    moveable.state.dragInfo = null;\n  }\n};\n/**\n * Whether or not target can be dragged. (default: false)\n * @name Moveable.Draggable#draggable\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.draggable = true;\n */\n\n/**\n * throttle of x, y when drag.\n * @name Moveable.Draggable#throttleDrag\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.throttleDrag = 1;\n */\n\n/**\n* throttle of angle of x, y when drag.\n* @name Moveable.Draggable#throttleDragRotate\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body);\n*\n* moveable.throttleDragRotate = 45;\n*/\n\n/**\n* start angle of throttleDragRotate of x, y when drag.\n* @name Moveable.Draggable#startDragRotate\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body);\n*\n* // 45, 135, 225, 315\n* moveable.throttleDragRotate = 90;\n* moveable.startDragRotate = 45;\n*/\n\n/**\n * When the drag starts, the dragStart event is called.\n * @memberof Moveable.Draggable\n * @event dragStart\n * @param {Moveable.Draggable.OnDragStart} - Parameters for the dragStart event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { draggable: true });\n * moveable.on(\"dragStart\", ({ target }) => {\n *     console.log(target);\n * });\n */\n\n/**\n * When dragging, the drag event is called.\n * @memberof Moveable.Draggable\n * @event drag\n * @param {Moveable.Draggable.OnDrag} - Parameters for the drag event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { draggable: true });\n * moveable.on(\"drag\", ({ target, transform }) => {\n *     target.style.transform = transform;\n * });\n */\n\n/**\n * When the drag finishes, the dragEnd event is called.\n * @memberof Moveable.Draggable\n * @event dragEnd\n * @param {Moveable.Draggable.OnDragEnd} - Parameters for the dragEnd event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { draggable: true });\n * moveable.on(\"dragEnd\", ({ target, isDrag }) => {\n *     console.log(target, isDrag);\n * });\n */\n\n/**\n* When the group drag starts, the `dragGroupStart` event is called.\n* @memberof Moveable.Draggable\n* @event dragGroupStart\n* @param {Moveable.Draggable.OnDragGroupStart} - Parameters for the `dragGroupStart` event\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     target: [].slice.call(document.querySelectorAll(\".target\")),\n*     draggable: true\n* });\n* moveable.on(\"dragGroupStart\", ({ targets }) => {\n*     console.log(\"onDragGroupStart\", targets);\n* });\n*/\n\n/**\n* When the group drag, the `dragGroup` event is called.\n* @memberof Moveable.Draggable\n* @event dragGroup\n* @param {Moveable.Draggable.OnDragGroup} - Parameters for the `dragGroup` event\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     target: [].slice.call(document.querySelectorAll(\".target\")),\n*     draggable: true\n* });\n* moveable.on(\"dragGroup\", ({ targets, events }) => {\n*     console.log(\"onDragGroup\", targets);\n*     events.forEach(ev => {\n*          // drag event\n*          console.log(\"onDrag left, top\", ev.left, ev.top);\n*          // ev.target!.style.left = `${ev.left}px`;\n*          // ev.target!.style.top = `${ev.top}px`;\n*          console.log(\"onDrag translate\", ev.dist);\n*          ev.target!.style.transform = ev.transform;)\n*     });\n* });\n*/\n\n/**\n * When the group drag finishes, the `dragGroupEnd` event is called.\n * @memberof Moveable.Draggable\n * @event dragGroupEnd\n * @param {Moveable.Draggable.OnDragGroupEnd} - Parameters for the `dragGroupEnd` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n *     draggable: true\n * });\n * moveable.on(\"dragGroupEnd\", ({ targets, isDrag }) => {\n *     console.log(\"onDragGroupEnd\", targets, isDrag);\n * });\n */\n\nfunction calculatePointerDist(moveable, e) {\n  var clientX = e.clientX,\n      clientY = e.clientY,\n      datas = e.datas;\n  var _a = moveable.state,\n      moveableClientRect = _a.moveableClientRect,\n      rootMatrix = _a.rootMatrix,\n      is3d = _a.is3d,\n      pos1 = _a.pos1;\n  var left = moveableClientRect.left,\n      top = moveableClientRect.top;\n  var n = is3d ? 4 : 3;\n\n  var _b = minus(calculateInversePosition(rootMatrix, [clientX - left, clientY - top], n), pos1),\n      posX = _b[0],\n      posY = _b[1];\n\n  var _c = getDragDist({\n    datas: datas,\n    distX: posX,\n    distY: posY\n  }),\n      distX = _c[0],\n      distY = _c[1];\n\n  return [distX, distY];\n}\n\nfunction setDragStart(moveable, _a) {\n  var datas = _a.datas;\n  var _b = moveable.state,\n      allMatrix = _b.allMatrix,\n      beforeMatrix = _b.beforeMatrix,\n      is3d = _b.is3d,\n      left = _b.left,\n      top = _b.top,\n      origin = _b.origin,\n      offsetMatrix = _b.offsetMatrix,\n      targetMatrix = _b.targetMatrix,\n      transformOrigin = _b.transformOrigin;\n  var n = is3d ? 4 : 3;\n  datas.is3d = is3d;\n  datas.matrix = allMatrix;\n  datas.targetMatrix = targetMatrix;\n  datas.beforeMatrix = beforeMatrix;\n  datas.offsetMatrix = offsetMatrix;\n  datas.transformOrigin = transformOrigin;\n  datas.inverseMatrix = invert(allMatrix, n);\n  datas.inverseBeforeMatrix = invert(beforeMatrix, n);\n  datas.absoluteOrigin = convertPositionMatrix(plus([left, top], origin), n);\n  datas.startDragBeforeDist = calculate(datas.inverseBeforeMatrix, datas.absoluteOrigin, n);\n  datas.startDragDist = calculate(datas.inverseMatrix, datas.absoluteOrigin, n);\n}\n\nfunction getTransformDirection(e) {\n  return calculateMoveablePosition(e.datas.beforeTransform, [50, 50], 100, 100).direction;\n}\n\nfunction resolveTransformEvent(event, functionName) {\n  var datas = event.datas,\n      originalDatas = event.originalDatas.beforeRenderable;\n  var index = datas.transformIndex;\n  var nextTransforms = originalDatas.nextTransforms;\n  var nextTransformAppendedIndexes = originalDatas.nextTransformAppendedIndexes;\n  var nextIndex = 0;\n\n  if (index === -1) {\n    nextIndex = nextTransforms.length;\n    datas.transformIndex = nextIndex;\n  } else {\n    nextIndex = index + nextTransformAppendedIndexes.filter(function (i) {\n      return i < index;\n    }).length;\n  }\n\n  var result = convertTransformInfo(nextTransforms, nextIndex);\n  var targetFunction = result.targetFunction;\n  var matFunctionName = functionName === \"rotate\" ? \"rotateZ\" : functionName;\n  datas.beforeFunctionTexts = result.beforeFunctionTexts;\n  datas.afterFunctionTexts = result.afterFunctionTexts;\n  datas.beforeTransform = result.beforeFunctionMatrix;\n  datas.beforeTransform2 = result.beforeFunctionMatrix2;\n  datas.targetTansform = result.targetFunctionMatrix;\n  datas.afterTransform = result.afterFunctionMatrix;\n  datas.afterTransform2 = result.afterFunctionMatrix2;\n  datas.targetAllTransform = result.allFunctionMatrix;\n\n  if (targetFunction.functionName === matFunctionName) {\n    datas.afterFunctionTexts.splice(0, 1);\n    datas.isAppendTransform = false;\n  } else {\n    datas.isAppendTransform = true;\n    originalDatas.nextTransformAppendedIndexes = __spreadArray(__spreadArray([], nextTransformAppendedIndexes, true), [nextIndex], false);\n  }\n}\n\nfunction convertTransformFormat(datas, value, dist) {\n  return \"\".concat(datas.beforeFunctionTexts.join(\" \"), \" \").concat(datas.isAppendTransform ? dist : value, \" \").concat(datas.afterFunctionTexts.join(\" \"));\n}\n\nfunction getTransformDist(_a) {\n  var datas = _a.datas,\n      distX = _a.distX,\n      distY = _a.distY;\n\n  var _b = getBeforeDragDist({\n    datas: datas,\n    distX: distX,\n    distY: distY\n  }),\n      bx = _b[0],\n      by = _b[1]; // B * [tx, ty] * A = [bx, by] * targetMatrix;\n  // [tx, ty] = B-1 * [bx, by] * targetMatrix * A-1 * [0, 0];\n\n\n  var res = getTransfromMatrix(datas, fromTranslation([bx, by], 4));\n  return calculate(res, convertPositionMatrix([0, 0, 0], 4), 4);\n}\n\nfunction getTransfromMatrix(datas, targetMatrix, isAfter) {\n  var beforeTransform = datas.beforeTransform,\n      afterTransform = datas.afterTransform,\n      beforeTransform2 = datas.beforeTransform2,\n      afterTransform2 = datas.afterTransform2,\n      targetAllTransform = datas.targetAllTransform; // B * afterTargetMatrix * A = (targetMatrix * targetAllTransform)\n  // afterTargetMatrix = B-1 * targetMatrix * targetAllTransform * A-1\n  // nextTargetMatrix = (targetMatrix * targetAllTransform)\n\n  var nextTargetMatrix = isAfter ? multiply(targetAllTransform, targetMatrix, 4) : multiply(targetMatrix, targetAllTransform, 4); // res1 = B-1 * nextTargetMatrix\n\n  var res1 = multiply(invert(isAfter ? beforeTransform2 : beforeTransform, 4), nextTargetMatrix, 4); // res3 = res2 * A-1\n\n  var afterTargetMatrix = multiply(res1, invert(isAfter ? afterTransform2 : afterTransform, 4), 4);\n  return afterTargetMatrix;\n}\n\nfunction getBeforeDragDist(_a) {\n  var datas = _a.datas,\n      distX = _a.distX,\n      distY = _a.distY; // TT = BT\n\n  var inverseBeforeMatrix = datas.inverseBeforeMatrix,\n      is3d = datas.is3d,\n      startDragBeforeDist = datas.startDragBeforeDist,\n      absoluteOrigin = datas.absoluteOrigin;\n  var n = is3d ? 4 : 3; // ABS_ORIGIN * [distX, distY] = BM * (ORIGIN + [tx, ty])\n  // BM -1 * ABS_ORIGIN * [distX, distY] - ORIGIN = [tx, ty]\n\n  return minus(calculate(inverseBeforeMatrix, plus(absoluteOrigin, [distX, distY]), n), startDragBeforeDist);\n}\n\nfunction getDragDist(_a, isBefore) {\n  var datas = _a.datas,\n      distX = _a.distX,\n      distY = _a.distY;\n  var inverseBeforeMatrix = datas.inverseBeforeMatrix,\n      inverseMatrix = datas.inverseMatrix,\n      is3d = datas.is3d,\n      startDragBeforeDist = datas.startDragBeforeDist,\n      startDragDist = datas.startDragDist,\n      absoluteOrigin = datas.absoluteOrigin;\n  var n = is3d ? 4 : 3;\n  return minus(calculate(isBefore ? inverseBeforeMatrix : inverseMatrix, plus(absoluteOrigin, [distX, distY]), n), isBefore ? startDragBeforeDist : startDragDist);\n}\n\nfunction getInverseDragDist(_a, isBefore) {\n  var datas = _a.datas,\n      distX = _a.distX,\n      distY = _a.distY;\n  var beforeMatrix = datas.beforeMatrix,\n      matrix = datas.matrix,\n      is3d = datas.is3d,\n      startDragBeforeDist = datas.startDragBeforeDist,\n      startDragDist = datas.startDragDist,\n      absoluteOrigin = datas.absoluteOrigin;\n  var n = is3d ? 4 : 3;\n  return minus(calculate(isBefore ? beforeMatrix : matrix, plus(isBefore ? startDragBeforeDist : startDragDist, [distX, distY]), n), absoluteOrigin);\n}\n\nfunction calculateTransformOrigin(transformOrigin, width, height, prevWidth, prevHeight, prevOrigin) {\n  if (prevWidth === void 0) {\n    prevWidth = width;\n  }\n\n  if (prevHeight === void 0) {\n    prevHeight = height;\n  }\n\n  if (prevOrigin === void 0) {\n    prevOrigin = [0, 0];\n  }\n\n  if (!transformOrigin) {\n    return prevOrigin;\n  }\n\n  return transformOrigin.map(function (pos, i) {\n    var _a = splitUnit(pos),\n        value = _a.value,\n        unit = _a.unit;\n\n    var prevSize = i ? prevHeight : prevWidth;\n    var size = i ? height : width;\n\n    if (pos === \"%\" || isNaN(value)) {\n      // no value but %\n      var measureRatio = prevSize ? prevOrigin[i] / prevSize : 0;\n      return size * measureRatio;\n    } else if (unit !== \"%\") {\n      return value;\n    }\n\n    return size * value / 100;\n  });\n}\n\nfunction getPosIndexesByDirection(direction) {\n  var indexes = [];\n\n  if (direction[1] >= 0) {\n    if (direction[0] >= 0) {\n      indexes.push(3);\n    }\n\n    if (direction[0] <= 0) {\n      indexes.push(2);\n    }\n  }\n\n  if (direction[1] <= 0) {\n    if (direction[0] >= 0) {\n      indexes.push(1);\n    }\n\n    if (direction[0] <= 0) {\n      indexes.push(0);\n    }\n  }\n\n  return indexes;\n}\n\nfunction getPosesByDirection(poses, direction) {\n  /*\n  [-1, -1](pos1)       [0, -1](pos1,pos2)       [1, -1](pos2)\n  [-1, 0](pos1, pos3)                           [1, 0](pos2, pos4)\n  [-1, 1](pos3)        [0, 1](pos3, pos4)       [1, 1](pos4)\n  */\n  return getPosIndexesByDirection(direction).map(function (index) {\n    return poses[index];\n  });\n}\n\nfunction getPosByDirection(poses, direction) {\n  /*\n  [-1, -1](pos1)       [0, -1](pos1,pos2)       [1, -1](pos2)\n  [-1, 0](pos1, pos3)                           [1, 0](pos2, pos4)\n  [-1, 1](pos3)        [0, 1](pos3, pos4)       [1, 1](pos4)\n  */\n  var nextPoses = getPosesByDirection(poses, direction);\n  return [average(nextPoses.map(function (pos) {\n    return pos[0];\n  })), average(nextPoses.map(function (pos) {\n    return pos[1];\n  }))];\n}\n\nfunction getDist(startPos, matrix, width, height, n, fixedDirection) {\n  var poses = calculatePoses(matrix, width, height, n);\n  var fixedPos = getPosByDirection(poses, fixedDirection);\n  var distX = startPos[0] - fixedPos[0];\n  var distY = startPos[1] - fixedPos[1];\n  return [distX, distY];\n}\n\nfunction getNextMatrix(offsetMatrix, targetMatrix, origin, n) {\n  return multiply(offsetMatrix, getAbsoluteMatrix(targetMatrix, n, origin), n);\n}\n\nfunction getNextTransformMatrix(state, datas, transform) {\n  var transformOrigin = state.transformOrigin,\n      offsetMatrix = state.offsetMatrix,\n      is3d = state.is3d;\n  var beforeTransform = datas.beforeTransform,\n      afterTransform = datas.afterTransform;\n  var n = is3d ? 4 : 3;\n  var targetTransform = parseMat([transform]);\n  return getNextMatrix(offsetMatrix, convertDimension(multiply(multiply(beforeTransform, targetTransform, 4), afterTransform, 4), 4, n), transformOrigin, n);\n}\n\nfunction scaleMatrix(state, scale) {\n  var transformOrigin = state.transformOrigin,\n      offsetMatrix = state.offsetMatrix,\n      is3d = state.is3d,\n      targetMatrix = state.targetMatrix;\n  var n = is3d ? 4 : 3;\n  return getNextMatrix(offsetMatrix, multiply(targetMatrix, createScaleMatrix(scale, n), n), transformOrigin, n);\n}\n\nfunction fillTransformStartEvent(e) {\n  var originalDatas = e.originalDatas.beforeRenderable;\n  return {\n    setTransform: function (transform, index) {\n      if (index === void 0) {\n        index = -1;\n      }\n\n      originalDatas.startTransforms = isArray(transform) ? transform : splitSpace(transform);\n      setTransformIndex(e, index);\n    },\n    setTransformIndex: function (index) {\n      setTransformIndex(e, index);\n    }\n  };\n}\n\nfunction setDefaultTransformIndex(e, property) {\n  var originalDatas = e.originalDatas.beforeRenderable;\n  var startTransforms = originalDatas.startTransforms;\n  setTransformIndex(e, findIndex(startTransforms, function (func) {\n    return func.indexOf(\"\".concat(property, \"(\")) === 0;\n  }));\n}\n\nfunction setTransformIndex(e, index) {\n  var originalDatas = e.originalDatas.beforeRenderable;\n  var datas = e.datas;\n  datas.transformIndex = index;\n\n  if (index === -1) {\n    return;\n  }\n\n  var transform = originalDatas.startTransforms[index];\n\n  if (!transform) {\n    return;\n  }\n\n  var info = parse([transform]);\n  datas.startValue = info[0].functionValue;\n}\n\nfunction fillOriginalTransform(e, transform) {\n  var originalDatas = e.originalDatas.beforeRenderable;\n  originalDatas.nextTransforms = splitSpace(transform);\n}\n\nfunction getNextTransformText(e) {\n  var originalDatas = e.originalDatas.beforeRenderable;\n  return originalDatas.nextTransforms.join(\" \");\n}\n\nfunction fillTransformEvent(moveable, nextTransform, delta, isPinch, e) {\n  fillOriginalTransform(e, nextTransform);\n  return {\n    transform: nextTransform,\n    drag: Draggable.drag(moveable, setCustomDrag(e, moveable.state, delta, isPinch, false))\n  };\n}\n\nfunction getTranslateDist(moveable, transform, fixedDirection, fixedPosition, datas) {\n  var state = moveable.state;\n  var left = state.left,\n      top = state.top;\n  var groupable = moveable.props.groupable;\n  var nextMatrix = getNextTransformMatrix(moveable.state, datas, transform);\n  var groupLeft = groupable ? left : 0;\n  var groupTop = groupable ? top : 0;\n  var nextFixedPosition = getDirectionOffset(moveable, fixedDirection, nextMatrix);\n  var dist = minus(fixedPosition, nextFixedPosition);\n  return minus(dist, [groupLeft, groupTop]);\n}\n\nfunction getScaleDist(moveable, scaleDist, fixedDirection, fixedPosition, datas) {\n  var dist = getTranslateDist(moveable, \"scale(\".concat(scaleDist.join(\", \"), \")\"), fixedDirection, fixedPosition, datas);\n  return dist;\n}\n\nfunction getOriginDirection(moveable) {\n  var _a = moveable.state,\n      width = _a.width,\n      height = _a.height,\n      transformOrigin = _a.transformOrigin;\n  return [-1 + transformOrigin[0] / (width / 2), -1 + transformOrigin[1] / (height / 2)];\n}\n\nfunction getDirectionOffset(moveable, direction, nextMatrix) {\n  if (nextMatrix === void 0) {\n    nextMatrix = moveable.state.allMatrix;\n  }\n\n  var _a = moveable.state,\n      width = _a.width,\n      height = _a.height,\n      is3d = _a.is3d;\n  var n = is3d ? 4 : 3;\n  var nextFixedOffset = [width / 2 * (1 + direction[0]), height / 2 * (1 + direction[1])];\n  return calculatePosition(nextMatrix, nextFixedOffset, n);\n}\n\nfunction getRotateDist(moveable, rotateDist, fixedPosition, datas) {\n  var fixedDirection = getOriginDirection(moveable);\n  return getTranslateDist(moveable, \"rotate(\".concat(rotateDist, \"deg)\"), fixedDirection, fixedPosition, datas);\n}\n\nfunction getResizeDist(moveable, width, height, fixedDirection, fixedPosition, transformOrigin) {\n  var groupable = moveable.props.groupable;\n  var _a = moveable.state,\n      prevOrigin = _a.transformOrigin,\n      targetMatrix = _a.targetMatrix,\n      offsetMatrix = _a.offsetMatrix,\n      is3d = _a.is3d,\n      prevWidth = _a.width,\n      prevHeight = _a.height,\n      left = _a.left,\n      top = _a.top;\n  var n = is3d ? 4 : 3;\n  var nextOrigin = calculateTransformOrigin(transformOrigin, width, height, prevWidth, prevHeight, prevOrigin);\n  var groupLeft = groupable ? left : 0;\n  var groupTop = groupable ? top : 0;\n  var nextMatrix = getNextMatrix(offsetMatrix, targetMatrix, nextOrigin, n);\n  var dist = getDist(fixedPosition, nextMatrix, width, height, n, fixedDirection);\n  return minus(dist, [groupLeft, groupTop]);\n}\n\nfunction getAbsolutePosition(moveable, direction) {\n  return getPosByDirection(getAbsolutePosesByState(moveable.state), direction);\n}\n\nfunction multiply2(pos1, pos2) {\n  return [pos1[0] * pos2[0], pos1[1] * pos2[1]];\n}\n\nfunction prefix() {\n  var classNames = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    classNames[_i] = arguments[_i];\n  }\n\n  return prefixNames.apply(void 0, __spreadArray([PREFIX], classNames, false));\n}\n\nfunction getTransformMatrix(transform) {\n  if (!transform || transform === \"none\") {\n    return [1, 0, 0, 1, 0, 0];\n  }\n\n  if (isObject(transform)) {\n    return transform;\n  }\n\n  return parseMat(transform);\n}\n\nfunction getAbsoluteMatrix(matrix, n, origin) {\n  return multiplies(n, createOriginMatrix(origin, n), matrix, createOriginMatrix(origin.map(function (a) {\n    return -a;\n  }), n));\n}\n\nfunction measureSVGSize(el, unit, isHorizontal) {\n  if (unit === \"%\") {\n    var viewBox = getSVGViewBox(el.ownerSVGElement);\n    return viewBox[isHorizontal ? \"width\" : \"height\"] / 100;\n  }\n\n  return 1;\n}\n\nfunction getBeforeTransformOrigin(el) {\n  var relativeOrigin = getTransformOrigin(getComputedStyle(el, \":before\"));\n  return relativeOrigin.map(function (o, i) {\n    var _a = splitUnit(o),\n        value = _a.value,\n        unit = _a.unit;\n\n    return value * measureSVGSize(el, unit, i === 0);\n  });\n}\n\nfunction getTransformOrigin(style) {\n  var transformOrigin = style.transformOrigin;\n  return transformOrigin ? transformOrigin.split(\" \") : [\"0\", \"0\"];\n}\n\nfunction getElementTransform(target, computedStyle) {\n  if (computedStyle === void 0) {\n    computedStyle = getComputedStyle(target);\n  }\n\n  var computedTransform = computedStyle.transform;\n\n  if (computedTransform && computedTransform !== \"none\") {\n    return computedStyle.transform;\n  }\n\n  if (\"transform\" in target) {\n    var list = target.transform;\n    var baseVal = list.baseVal;\n\n    if (!baseVal) {\n      return \"\";\n    }\n\n    var length = baseVal.length;\n\n    if (!length) {\n      return \"\";\n    }\n\n    var matrixs = [];\n\n    var _loop_1 = function (i) {\n      var matrix = baseVal[0].matrix;\n      matrixs.push(\"matrix(\".concat([\"a\", \"b\", \"c\", \"d\", \"e\", \"f\"].map(function (chr) {\n        return matrix[chr];\n      }).join(\", \"), \")\"));\n    };\n\n    for (var i = 0; i < length; ++i) {\n      _loop_1(i);\n    }\n\n    return matrixs.join(\" \");\n  }\n\n  return \"\";\n}\n\nfunction getOffsetInfo(el, lastParent, isParent) {\n  var body = document.body;\n  var target = !el || isParent ? el : el.parentElement;\n  var isEnd = el === lastParent || target === lastParent;\n  var position = \"relative\";\n\n  while (target && target !== body) {\n    if (lastParent === target) {\n      isEnd = true;\n    }\n\n    var style = getComputedStyle(target);\n    var tagName = target.tagName.toLowerCase();\n    var transform = getElementTransform(target, style);\n    position = style.position;\n\n    if (tagName === \"svg\" || position !== \"static\" || transform && transform !== \"none\") {\n      break;\n    }\n\n    target = target.parentElement;\n    position = \"relative\";\n  }\n\n  return {\n    isStatic: position === \"static\",\n    isEnd: isEnd || !target || target === body,\n    offsetParent: target || body\n  };\n}\n\nfunction getOffsetPosInfo(el, container, style, isFixed) {\n  var _a;\n\n  var tagName = el.tagName.toLowerCase();\n  var offsetLeft = el.offsetLeft;\n  var offsetTop = el.offsetTop;\n\n  if (isFixed) {\n    var containerClientRect = (container || document.documentElement).getBoundingClientRect();\n    offsetLeft -= containerClientRect.left;\n    offsetTop -= containerClientRect.top;\n  } // svg\n\n\n  var isSVG = isUndefined(offsetLeft);\n  var hasOffset = !isSVG;\n  var origin;\n  var targetOrigin; // inner svg element\n\n  if (!hasOffset && tagName !== \"svg\") {\n    origin = IS_WEBKIT605 ? getBeforeTransformOrigin(el) : getTransformOrigin(style).map(function (pos) {\n      return parseFloat(pos);\n    });\n    targetOrigin = origin.slice();\n    hasOffset = true;\n    _a = getSVGGraphicsOffset(el, origin), offsetLeft = _a[0], offsetTop = _a[1], origin[0] = _a[2], origin[1] = _a[3];\n  } else {\n    origin = getTransformOrigin(style).map(function (pos) {\n      return parseFloat(pos);\n    });\n    targetOrigin = origin.slice();\n  }\n\n  return {\n    tagName: tagName,\n    isSVG: isSVG,\n    hasOffset: hasOffset,\n    offset: [offsetLeft || 0, offsetTop || 0],\n    origin: origin,\n    targetOrigin: targetOrigin\n  };\n}\n\nfunction getBodyOffset(el, isSVG, style) {\n  if (style === void 0) {\n    style = getComputedStyle(el);\n  }\n\n  var bodyStyle = getComputedStyle(document.body);\n  var bodyPosition = bodyStyle.position;\n\n  if (!isSVG && (!bodyPosition || bodyPosition === \"static\")) {\n    return [0, 0];\n  }\n\n  var marginLeft = parseInt(bodyStyle.marginLeft, 10);\n  var marginTop = parseInt(bodyStyle.marginTop, 10);\n\n  if (style.position === \"absolute\") {\n    if (style.top !== \"auto\" || style.bottom !== \"auto\") {\n      marginTop = 0;\n    }\n\n    if (style.left !== \"auto\" || style.right !== \"auto\") {\n      marginLeft = 0;\n    }\n  }\n\n  return [marginLeft, marginTop];\n}\n\nfunction convert3DMatrixes(matrixes) {\n  matrixes.forEach(function (info) {\n    var matrix = info.matrix;\n\n    if (matrix) {\n      info.matrix = convertDimension(matrix, 3, 4);\n    }\n  });\n}\n\nfunction getMatrixStackInfo(target, container, checkContainer) {\n  var el = target;\n  var matrixes = [];\n  var requestEnd = !checkContainer && target === container;\n  var isEnd = requestEnd;\n  var is3d = false;\n  var n = 3;\n  var transformOrigin;\n  var targetTransformOrigin;\n  var targetMatrix;\n  var offsetContainer = getOffsetInfo(container, container, true).offsetParent;\n\n  while (el && !isEnd) {\n    isEnd = requestEnd;\n    var style = getComputedStyle(el);\n    var position = style.position;\n    var isFixed = position === \"fixed\";\n    var transform = getElementTransform(el, style);\n    var matrix = convertCSStoMatrix(getTransformMatrix(transform)); // convert 3 to 4\n\n    var length = matrix.length;\n\n    if (!is3d && length === 16) {\n      is3d = true;\n      n = 4;\n      convert3DMatrixes(matrixes);\n\n      if (targetMatrix) {\n        targetMatrix = convertDimension(targetMatrix, 3, 4);\n      }\n    }\n\n    if (is3d && length === 9) {\n      matrix = convertDimension(matrix, 3, 4);\n    }\n\n    var _a = getOffsetPosInfo(el, container, style, isFixed),\n        tagName = _a.tagName,\n        hasOffset = _a.hasOffset,\n        isSVG = _a.isSVG,\n        origin = _a.origin,\n        targetOrigin = _a.targetOrigin,\n        offsetPos = _a.offset;\n\n    var offsetLeft = offsetPos[0],\n        offsetTop = offsetPos[1];\n\n    if (tagName === \"svg\" && targetMatrix) {\n      // scale matrix for svg's SVGElements.\n      matrixes.push({\n        type: \"target\",\n        target: el,\n        matrix: getSVGMatrix(el, n)\n      });\n      matrixes.push({\n        type: \"offset\",\n        target: el,\n        matrix: createIdentityMatrix(n)\n      });\n    } else if (tagName === \"g\" && target !== el) {\n      offsetLeft = 0;\n      offsetTop = 0;\n    }\n\n    var _b = getOffsetInfo(el, container),\n        offsetParent = _b.offsetParent,\n        isOffsetEnd = _b.isEnd,\n        isStatic = _b.isStatic;\n\n    if (IS_WEBKIT && hasOffset && !isSVG && isStatic && (position === \"relative\" || position === \"static\")) {\n      offsetLeft -= offsetParent.offsetLeft;\n      offsetTop -= offsetParent.offsetTop;\n      requestEnd = requestEnd || isOffsetEnd;\n    }\n\n    var parentClientLeft = 0;\n    var parentClientTop = 0;\n\n    if (hasOffset && offsetContainer !== offsetParent) {\n      // border\n      parentClientLeft = offsetParent.clientLeft;\n      parentClientTop = offsetParent.clientTop;\n    }\n\n    if (hasOffset && offsetParent === document.body) {\n      var margin = getBodyOffset(el, false, style);\n      offsetLeft += margin[0];\n      offsetTop += margin[1];\n    }\n\n    matrixes.push({\n      type: \"target\",\n      target: el,\n      matrix: getAbsoluteMatrix(matrix, n, origin)\n    });\n\n    if (hasOffset) {\n      matrixes.push({\n        type: \"offset\",\n        target: el,\n        matrix: createOriginMatrix([offsetLeft - el.scrollLeft + parentClientLeft, offsetTop - el.scrollTop + parentClientTop], n)\n      });\n    } else {\n      // svg\n      matrixes.push({\n        type: \"offset\",\n        target: el,\n        origin: origin\n      });\n    }\n\n    if (!targetMatrix) {\n      targetMatrix = matrix;\n    }\n\n    if (!transformOrigin) {\n      transformOrigin = origin;\n    }\n\n    if (!targetTransformOrigin) {\n      targetTransformOrigin = targetOrigin;\n    }\n\n    if (isEnd || isFixed) {\n      break;\n    } else {\n      el = offsetParent;\n      requestEnd = isOffsetEnd;\n    }\n\n    if (!checkContainer || el === document.body) {\n      isEnd = requestEnd;\n    }\n  }\n\n  if (!targetMatrix) {\n    targetMatrix = createIdentityMatrix(n);\n  }\n\n  if (!transformOrigin) {\n    transformOrigin = [0, 0];\n  }\n\n  if (!targetTransformOrigin) {\n    targetTransformOrigin = [0, 0];\n  }\n\n  return {\n    offsetContainer: offsetContainer,\n    matrixes: matrixes,\n    targetMatrix: targetMatrix,\n    transformOrigin: transformOrigin,\n    targetOrigin: targetTransformOrigin,\n    is3d: is3d\n  };\n}\n\nfunction calculateElementInfo(target, container, rootContainer, isAbsolute3d) {\n  if (rootContainer === void 0) {\n    rootContainer = container;\n  }\n\n  var width = 0;\n  var height = 0;\n  var rotation = 0;\n  var allResult = {};\n\n  if (target) {\n    var _a = getSize(target),\n        offsetWidth = _a.offsetWidth,\n        offsetHeight = _a.offsetHeight;\n\n    width = offsetWidth;\n    height = offsetHeight;\n  }\n\n  if (target) {\n    var result = calculateMatrixStack(target, container, rootContainer, isAbsolute3d);\n    var position = calculateMoveablePosition(result.allMatrix, result.transformOrigin, width, height);\n    allResult = __assign$1(__assign$1({}, result), position);\n    var rotationPosition = calculateMoveablePosition(result.allMatrix, [50, 50], 100, 100);\n    rotation = getRotationRad([rotationPosition.pos1, rotationPosition.pos2], rotationPosition.direction);\n  }\n\n  var n = isAbsolute3d ? 4 : 3;\n  return __assign$1({\n    width: width,\n    height: height,\n    rotation: rotation,\n    // rootMatrix: number[];\n    // beforeMatrix: number[];\n    // offsetMatrix: number[];\n    // allMatrix: number[];\n    // targetMatrix: number[];\n    // targetTransform: string;\n    // transformOrigin: number[];\n    // targetOrigin: number[];\n    // is3d: boolean;\n    rootMatrix: createIdentityMatrix(n),\n    beforeMatrix: createIdentityMatrix(n),\n    offsetMatrix: createIdentityMatrix(n),\n    allMatrix: createIdentityMatrix(n),\n    targetMatrix: createIdentityMatrix(n),\n    targetTransform: \"\",\n    transformOrigin: [0, 0],\n    targetOrigin: [0, 0],\n    is3d: !!isAbsolute3d,\n    // left: number;\n    // top: number;\n    // right: number;\n    // bottom: number;\n    // origin: number[];\n    // pos1: number[];\n    // pos2: number[];\n    // pos3: number[];\n    // pos4: number[];\n    // direction: 1 | -1;\n    left: 0,\n    top: 0,\n    right: 0,\n    bottom: 0,\n    origin: [0, 0],\n    pos1: [0, 0],\n    pos2: [0, 0],\n    pos3: [0, 0],\n    pos4: [0, 0],\n    direction: 1\n  }, allResult);\n}\n\nfunction getElementInfo(target, container, rootContainer) {\n  if (rootContainer === void 0) {\n    rootContainer = container;\n  }\n\n  return calculateElementInfo(target, container, rootContainer, true);\n}\n\nfunction calculateMatrixStack(target, container, rootContainer, isAbsolute3d) {\n  var _a;\n\n  if (rootContainer === void 0) {\n    rootContainer = container;\n  }\n\n  var _b = getMatrixStackInfo(target, container),\n      matrixes = _b.matrixes,\n      is3d = _b.is3d,\n      prevTargetMatrix = _b.targetMatrix,\n      transformOrigin = _b.transformOrigin,\n      targetOrigin = _b.targetOrigin,\n      offsetContainer = _b.offsetContainer; // prevMatrix\n\n\n  var _c = getMatrixStackInfo(offsetContainer, rootContainer, true),\n      rootMatrixes = _c.matrixes,\n      isRoot3d = _c.is3d; // prevRootMatrix\n  // if (rootContainer === document.body) {\n  //     console.log(offsetContainer, rootContainer, rootMatrixes);\n  // }\n\n\n  var isNext3d = isAbsolute3d || isRoot3d || is3d;\n  var n = isNext3d ? 4 : 3;\n  var isSVGGraphicElement = target.tagName.toLowerCase() !== \"svg\" && \"ownerSVGElement\" in target;\n  var targetMatrix = prevTargetMatrix; // let allMatrix = prevMatrix ? convertDimension(prevMatrix, prevN!, n) : createIdentityMatrix(n);\n  // let rootMatrix = prevRootMatrix ? convertDimension(prevRootMatrix, prevN!, n) : createIdentityMatrix(n);\n  // let beforeMatrix = prevMatrix ? convertDimension(prevMatrix, prevN!, n) : createIdentityMatrix(n);\n\n  var allMatrix = createIdentityMatrix(n);\n  var rootMatrix = createIdentityMatrix(n);\n  var beforeMatrix = createIdentityMatrix(n);\n  var offsetMatrix = createIdentityMatrix(n);\n  var length = matrixes.length;\n  rootMatrixes.reverse();\n  matrixes.reverse();\n\n  if (!is3d && isNext3d) {\n    targetMatrix = convertDimension(targetMatrix, 3, 4);\n    convert3DMatrixes(matrixes);\n  }\n\n  if (!isRoot3d && isNext3d) {\n    convert3DMatrixes(rootMatrixes);\n  } // rootMatrix = (...) -> container -> offset -> absolute -> offset -> absolute(targetMatrix)\n  // rootMatrixBeforeOffset = lastOffsetMatrix -> (...) -> container\n  // beforeMatrix = (... -> container -> offset -> absolute) -> offset -> absolute(targetMatrix)\n  // offsetMatrix = (... -> container -> offset -> absolute -> offset) -> absolute(targetMatrix)\n\n\n  rootMatrixes.forEach(function (info) {\n    rootMatrix = multiply(rootMatrix, info.matrix, n);\n  });\n  var originalRootContainer = rootContainer || document.body;\n  var endContainer = ((_a = rootMatrixes[0]) === null || _a === void 0 ? void 0 : _a.target) || getOffsetInfo(originalRootContainer, originalRootContainer, true).offsetParent;\n  var rootMatrixBeforeOffset = rootMatrixes.slice(1).reduce(function (matrix, info) {\n    return multiply(matrix, info.matrix, n);\n  }, createIdentityMatrix(n));\n  matrixes.forEach(function (info, i) {\n    if (length - 2 === i) {\n      // length - 3\n      beforeMatrix = allMatrix.slice();\n    }\n\n    if (length - 1 === i) {\n      // length - 2\n      offsetMatrix = allMatrix.slice();\n    } // calculate for SVGElement\n\n\n    if (!info.matrix) {\n      var nextInfo = matrixes[i + 1];\n      var offset = getSVGOffset(info, nextInfo, endContainer, n, multiply(rootMatrixBeforeOffset, allMatrix, n));\n      info.matrix = createOriginMatrix(offset, n);\n    }\n\n    allMatrix = multiply(allMatrix, info.matrix, n);\n  });\n  var isMatrix3d = !isSVGGraphicElement && is3d;\n\n  if (!targetMatrix) {\n    targetMatrix = createIdentityMatrix(isMatrix3d ? 4 : 3);\n  }\n\n  var targetTransform = makeMatrixCSS(isSVGGraphicElement && targetMatrix.length === 16 ? convertDimension(targetMatrix, 4, 3) : targetMatrix, isMatrix3d);\n  rootMatrix = ignoreDimension(rootMatrix, n, n);\n  return {\n    rootMatrix: rootMatrix,\n    beforeMatrix: beforeMatrix,\n    offsetMatrix: offsetMatrix,\n    allMatrix: allMatrix,\n    targetMatrix: targetMatrix,\n    targetTransform: targetTransform,\n    transformOrigin: transformOrigin,\n    targetOrigin: targetOrigin,\n    is3d: isNext3d\n  };\n}\n\nfunction makeMatrixCSS(matrix, is3d) {\n  if (is3d === void 0) {\n    is3d = matrix.length > 9;\n  }\n\n  return \"\".concat(is3d ? \"matrix3d\" : \"matrix\", \"(\").concat(convertMatrixtoCSS(matrix, !is3d).join(\",\"), \")\");\n}\n\nfunction getSVGViewBox(el) {\n  var clientWidth = el.clientWidth;\n  var clientHeight = el.clientHeight;\n\n  if (!el) {\n    return {\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0,\n      clientWidth: clientWidth,\n      clientHeight: clientHeight\n    };\n  }\n\n  var viewBox = el.viewBox;\n  var baseVal = viewBox && viewBox.baseVal || {\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  };\n  return {\n    x: baseVal.x,\n    y: baseVal.y,\n    width: baseVal.width || clientWidth,\n    height: baseVal.height || clientHeight,\n    clientWidth: clientWidth,\n    clientHeight: clientHeight\n  };\n}\n\nfunction getSVGMatrix(el, n) {\n  var _a = getSVGViewBox(el),\n      viewBoxWidth = _a.width,\n      viewBoxHeight = _a.height,\n      clientWidth = _a.clientWidth,\n      clientHeight = _a.clientHeight;\n\n  var scaleX = clientWidth / viewBoxWidth;\n  var scaleY = clientHeight / viewBoxHeight;\n  var preserveAspectRatio = el.preserveAspectRatio.baseVal; // https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/preserveAspectRatio\n\n  var align = preserveAspectRatio.align; // 1 : meet 2: slice\n\n  var meetOrSlice = preserveAspectRatio.meetOrSlice;\n  var svgOrigin = [0, 0];\n  var scale = [scaleX, scaleY];\n  var translate = [0, 0];\n\n  if (align !== 1) {\n    var xAlign = (align - 2) % 3;\n    var yAlign = Math.floor((align - 2) / 3);\n    svgOrigin[0] = viewBoxWidth * xAlign / 2;\n    svgOrigin[1] = viewBoxHeight * yAlign / 2;\n    var scaleDimension = meetOrSlice === 2 ? Math.max(scaleY, scaleX) : Math.min(scaleX, scaleY);\n    scale[0] = scaleDimension;\n    scale[1] = scaleDimension;\n    translate[0] = (clientWidth - viewBoxWidth) / 2 * xAlign;\n    translate[1] = (clientHeight - viewBoxHeight) / 2 * yAlign;\n  }\n\n  var scaleMatrix = createScaleMatrix(scale, n);\n  scaleMatrix[n * (n - 1)] = translate[0], scaleMatrix[n * (n - 1) + 1] = translate[1];\n  return getAbsoluteMatrix(scaleMatrix, n, svgOrigin);\n}\n\nfunction getSVGGraphicsOffset(el, origin) {\n  if (!el.getBBox) {\n    return [0, 0];\n  }\n\n  var bbox = el.getBBox();\n  var viewBox = getSVGViewBox(el.ownerSVGElement);\n  var left = bbox.x - viewBox.x;\n  var top = bbox.y - viewBox.y;\n  return [left, top, origin[0] - left, origin[1] - top];\n}\n\nfunction calculatePosition(matrix, pos, n) {\n  return calculate(matrix, convertPositionMatrix(pos, n), n);\n}\n\nfunction calculatePoses(matrix, width, height, n) {\n  return [[0, 0], [width, 0], [0, height], [width, height]].map(function (pos) {\n    return calculatePosition(matrix, pos, n);\n  });\n}\n\nfunction getRect(poses) {\n  var posesX = poses.map(function (pos) {\n    return pos[0];\n  });\n  var posesY = poses.map(function (pos) {\n    return pos[1];\n  });\n  var left = Math.min.apply(Math, posesX);\n  var top = Math.min.apply(Math, posesY);\n  var right = Math.max.apply(Math, posesX);\n  var bottom = Math.max.apply(Math, posesY);\n  var rectWidth = right - left;\n  var rectHeight = bottom - top;\n  return {\n    left: left,\n    top: top,\n    right: right,\n    bottom: bottom,\n    width: rectWidth,\n    height: rectHeight\n  };\n}\n\nfunction calculateRect(matrix, width, height, n) {\n  var poses = calculatePoses(matrix, width, height, n);\n  return getRect(poses);\n}\n\nfunction getSVGOffset(offsetInfo, targetInfo, container, n, beforeMatrix) {\n  var _a;\n\n  var target = offsetInfo.target;\n  var origin = offsetInfo.origin;\n  var targetMatrix = targetInfo.matrix;\n\n  var _b = getSize(target),\n      width = _b.offsetWidth,\n      height = _b.offsetHeight;\n\n  var containerClientRect = container.getBoundingClientRect();\n  var margin = [0, 0];\n\n  if (container === document.body) {\n    margin = getBodyOffset(target, true);\n  }\n\n  var rect = target.getBoundingClientRect();\n  var rectLeft = rect.left - containerClientRect.left + container.scrollLeft - (container.clientLeft || 0) + margin[0];\n  var rectTop = rect.top - containerClientRect.top + container.scrollTop - (container.clientTop || 0) + margin[1];\n  var rectWidth = rect.width;\n  var rectHeight = rect.height;\n  var mat = multiplies(n, beforeMatrix, targetMatrix);\n\n  var _c = calculateRect(mat, width, height, n),\n      prevLeft = _c.left,\n      prevTop = _c.top,\n      prevWidth = _c.width,\n      prevHeight = _c.height;\n\n  var posOrigin = calculatePosition(mat, origin, n);\n  var prevOrigin = minus(posOrigin, [prevLeft, prevTop]);\n  var rectOrigin = [rectLeft + prevOrigin[0] * rectWidth / prevWidth, rectTop + prevOrigin[1] * rectHeight / prevHeight];\n  var offset = [0, 0];\n  var count = 0;\n\n  while (++count < 10) {\n    var inverseBeforeMatrix = invert(beforeMatrix, n);\n    _a = minus(calculatePosition(inverseBeforeMatrix, rectOrigin, n), calculatePosition(inverseBeforeMatrix, posOrigin, n)), offset[0] = _a[0], offset[1] = _a[1];\n    var mat2 = multiplies(n, beforeMatrix, createOriginMatrix(offset, n), targetMatrix);\n\n    var _d = calculateRect(mat2, width, height, n),\n        nextLeft = _d.left,\n        nextTop = _d.top;\n\n    var distLeft = nextLeft - rectLeft;\n    var distTop = nextTop - rectTop;\n\n    if (Math.abs(distLeft) < 2 && Math.abs(distTop) < 2) {\n      break;\n    }\n\n    rectOrigin[0] -= distLeft;\n    rectOrigin[1] -= distTop;\n  }\n\n  return offset.map(function (p) {\n    return Math.round(p);\n  });\n}\n\nfunction calculateMoveablePosition(matrix, origin, width, height) {\n  var is3d = matrix.length === 16;\n  var n = is3d ? 4 : 3;\n  var poses = calculatePoses(matrix, width, height, n);\n  var _a = poses[0],\n      x1 = _a[0],\n      y1 = _a[1],\n      _b = poses[1],\n      x2 = _b[0],\n      y2 = _b[1],\n      _c = poses[2],\n      x3 = _c[0],\n      y3 = _c[1],\n      _d = poses[3],\n      x4 = _d[0],\n      y4 = _d[1];\n\n  var _e = calculatePosition(matrix, origin, n),\n      originX = _e[0],\n      originY = _e[1];\n\n  var left = Math.min(x1, x2, x3, x4);\n  var top = Math.min(y1, y2, y3, y4);\n  var right = Math.max(x1, x2, x3, x4);\n  var bottom = Math.max(y1, y2, y3, y4);\n  x1 = x1 - left || 0;\n  x2 = x2 - left || 0;\n  x3 = x3 - left || 0;\n  x4 = x4 - left || 0;\n  y1 = y1 - top || 0;\n  y2 = y2 - top || 0;\n  y3 = y3 - top || 0;\n  y4 = y4 - top || 0;\n  originX = originX - left || 0;\n  originY = originY - top || 0;\n  var direction = getShapeDirection(poses);\n  return {\n    left: left,\n    top: top,\n    right: right,\n    bottom: bottom,\n    origin: [originX, originY],\n    pos1: [x1, y1],\n    pos2: [x2, y2],\n    pos3: [x3, y3],\n    pos4: [x4, y4],\n    direction: direction\n  };\n}\n\nfunction getDistSize(vec) {\n  return Math.sqrt(vec[0] * vec[0] + vec[1] * vec[1]);\n}\n\nfunction getDiagonalSize(pos1, pos2) {\n  return getDistSize([pos2[0] - pos1[0], pos2[1] - pos1[1]]);\n}\n\nfunction getLineStyle(pos1, pos2, zoom, rad) {\n  if (zoom === void 0) {\n    zoom = 1;\n  }\n\n  if (rad === void 0) {\n    rad = getRad(pos1, pos2);\n  }\n\n  var width = getDiagonalSize(pos1, pos2);\n  return {\n    transform: \"translateY(-50%) translate(\".concat(pos1[0], \"px, \").concat(pos1[1], \"px) rotate(\").concat(rad, \"rad) scaleY(\").concat(zoom, \")\"),\n    width: \"\".concat(width, \"px\")\n  };\n}\n\nfunction getControlTransform(rotation, zoom) {\n  var poses = [];\n\n  for (var _i = 2; _i < arguments.length; _i++) {\n    poses[_i - 2] = arguments[_i];\n  }\n\n  var length = poses.length;\n  var x = poses.reduce(function (prev, pos) {\n    return prev + pos[0];\n  }, 0) / length;\n  var y = poses.reduce(function (prev, pos) {\n    return prev + pos[1];\n  }, 0) / length;\n  return {\n    transform: \"translateZ(0px) translate(\".concat(x, \"px, \").concat(y, \"px) rotate(\").concat(rotation, \"rad) scale(\").concat(zoom, \")\")\n  };\n}\n\nfunction getCSSSize(target) {\n  var style = getComputedStyle(target);\n  return [parseFloat(style.width), parseFloat(style.height)];\n}\n\nfunction getSize(target, style) {\n  if (style === void 0) {\n    style = getComputedStyle(target);\n  }\n\n  var hasOffset = !isUndefined(target.offsetWidth);\n\n  if (!hasOffset && target.tagName.toLowerCase() !== \"svg\") {\n    var bbox = target.getBBox();\n    var offsetWidth = bbox.width;\n    var offsetHeight = bbox.height;\n    return {\n      svg: true,\n      offsetWidth: offsetWidth,\n      offsetHeight: offsetHeight,\n      clientWidth: offsetWidth,\n      clientHeight: offsetHeight,\n      cssWidth: offsetWidth,\n      cssHeight: offsetHeight\n    };\n  } else {\n    var boxSizing = style.boxSizing === \"border-box\";\n    var borderLeft = parseFloat(style.borderLeftWidth) || 0;\n    var borderRight = parseFloat(style.borderRightWidth) || 0;\n    var borderTop = parseFloat(style.borderTopWidth) || 0;\n    var borderBottom = parseFloat(style.borderBottomWidth) || 0;\n    var paddingLeft = parseFloat(style.paddingLeft) || 0;\n    var paddingRight = parseFloat(style.paddingRight) || 0;\n    var paddingTop = parseFloat(style.paddingTop) || 0;\n    var paddingBottom = parseFloat(style.paddingBottom) || 0;\n    var cssWidth = parseFloat(style.width);\n    var cssHeight = parseFloat(style.height);\n    var offsetWidth = cssWidth;\n    var offsetHeight = cssHeight;\n    var clientWidth = cssWidth;\n    var clientHeight = cssHeight;\n    var horizontalPadding = paddingLeft + paddingRight;\n    var verticalPadding = paddingTop + paddingBottom;\n    var horizontalBorder = borderLeft + borderRight;\n    var verticalBorder = borderTop + borderBottom;\n    var horizontalOffset = horizontalPadding + horizontalBorder;\n    var verticalOffset = verticalPadding + verticalBorder;\n\n    if (boxSizing) {\n      cssWidth = offsetWidth - horizontalOffset;\n      cssHeight = offsetHeight - verticalOffset;\n    } else {\n      offsetWidth = cssWidth + horizontalOffset;\n      offsetHeight = cssHeight + verticalOffset;\n    }\n\n    clientWidth = cssWidth + horizontalPadding;\n    clientHeight = cssHeight + verticalPadding;\n    return {\n      svg: false,\n      offsetWidth: offsetWidth,\n      offsetHeight: offsetHeight,\n      clientWidth: clientWidth,\n      clientHeight: clientHeight,\n      cssWidth: cssWidth,\n      cssHeight: cssHeight\n    };\n  }\n}\n\nfunction getRotationRad(poses, direction) {\n  return getRad(direction > 0 ? poses[0] : poses[1], direction > 0 ? poses[1] : poses[0]);\n}\n\nfunction getTargetInfo(moveableElement, target, container, parentContainer, rootContainer) {\n  var beforeDirection = 1;\n  var beforeOrigin = [0, 0];\n  var targetClientRect = resetClientRect();\n  var containerClientRect = resetClientRect();\n  var moveableClientRect = resetClientRect();\n  var result = calculateElementInfo(target, container, rootContainer, false);\n\n  if (target) {\n    var n = result.is3d ? 4 : 3;\n    var beforePosition = calculateMoveablePosition(result.offsetMatrix, plus(result.transformOrigin, getOrigin(result.targetMatrix, n)), result.width, result.height);\n    beforeDirection = beforePosition.direction;\n    beforeOrigin = plus(beforePosition.origin, [beforePosition.left - result.left, beforePosition.top - result.top]);\n    targetClientRect = getClientRect(target);\n    containerClientRect = getClientRect(getOffsetInfo(parentContainer, parentContainer, true).offsetParent || document.body, true);\n\n    if (moveableElement) {\n      moveableClientRect = getClientRect(moveableElement);\n    }\n  }\n\n  return __assign$1({\n    targetClientRect: targetClientRect,\n    containerClientRect: containerClientRect,\n    moveableClientRect: moveableClientRect,\n    beforeDirection: beforeDirection,\n    beforeOrigin: beforeOrigin,\n    originalBeforeOrigin: beforeOrigin,\n    target: target\n  }, result);\n}\n\nfunction resetClientRect() {\n  return {\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n    width: 0,\n    height: 0,\n    clientLeft: 0,\n    clientTop: 0,\n    clientWidth: 0,\n    clientHeight: 0,\n    scrollWidth: 0,\n    scrollHeight: 0\n  };\n}\n\nfunction getClientRect(el, isExtends) {\n  var left = 0;\n  var top = 0;\n  var width = 0;\n  var height = 0;\n\n  if (el === document.body || el === document.documentElement) {\n    width = window.innerWidth;\n    height = window.innerHeight;\n    left = -(document.documentElement.scrollLeft || document.body.scrollLeft);\n    top = -(document.documentElement.scrollTop || document.body.scrollTop);\n  } else {\n    var clientRect = el.getBoundingClientRect();\n    left = clientRect.left;\n    top = clientRect.top;\n    width = clientRect.width;\n    height = clientRect.height;\n  }\n\n  var rect = {\n    left: left,\n    right: left + width,\n    top: top,\n    bottom: top + height,\n    width: width,\n    height: height\n  };\n\n  if (isExtends) {\n    rect.clientLeft = el.clientLeft;\n    rect.clientTop = el.clientTop;\n    rect.clientWidth = el.clientWidth;\n    rect.clientHeight = el.clientHeight;\n    rect.scrollWidth = el.scrollWidth;\n    rect.scrollHeight = el.scrollHeight;\n    rect.overflow = getComputedStyle(el).overflow !== \"visible\";\n  }\n\n  return rect;\n}\n\nfunction getDirection(target) {\n  if (!target) {\n    return;\n  }\n\n  var direciton = target.getAttribute(\"data-direction\");\n\n  if (!direciton) {\n    return;\n  }\n\n  var dir = [0, 0];\n  direciton.indexOf(\"w\") > -1 && (dir[0] = -1);\n  direciton.indexOf(\"e\") > -1 && (dir[0] = 1);\n  direciton.indexOf(\"n\") > -1 && (dir[1] = -1);\n  direciton.indexOf(\"s\") > -1 && (dir[1] = 1);\n  return dir;\n}\n\nfunction getAbsolutePoses(poses, dist) {\n  return [plus(dist, poses[0]), plus(dist, poses[1]), plus(dist, poses[2]), plus(dist, poses[3])];\n}\n\nfunction getAbsolutePosesByState(_a) {\n  var left = _a.left,\n      top = _a.top,\n      pos1 = _a.pos1,\n      pos2 = _a.pos2,\n      pos3 = _a.pos3,\n      pos4 = _a.pos4;\n  return getAbsolutePoses([pos1, pos2, pos3, pos4], [left, top]);\n}\n\nfunction roundSign(num) {\n  return Math.round(num % 1 === -0.5 ? num - 1 : num);\n}\n\nfunction unset(self, name) {\n  var _a;\n\n  (_a = self[name]) === null || _a === void 0 ? void 0 : _a.unset();\n  self[name] = null;\n}\n\nfunction fillParams(moveable, e, params) {\n  var datas = e.datas;\n\n  if (!datas.datas) {\n    datas.datas = {};\n  }\n\n  var nextParams = __assign$1(__assign$1({}, params), {\n    target: moveable.state.target,\n    clientX: e.clientX,\n    clientY: e.clientY,\n    inputEvent: e.inputEvent,\n    currentTarget: moveable,\n    moveable: moveable,\n    datas: datas.datas\n  });\n\n  if (datas.isStartEvent) {\n    datas.lastEvent = nextParams;\n  } else {\n    datas.isStartEvent = true;\n  }\n\n  return nextParams;\n}\n\nfunction fillEndParams(moveable, e, params) {\n  var datas = e.datas;\n  var isDrag = \"isDrag\" in params ? params.isDrag : e.isDrag;\n\n  if (!datas.datas) {\n    datas.datas = {};\n  }\n\n  return __assign$1(__assign$1({\n    isDrag: isDrag\n  }, params), {\n    moveable: moveable,\n    target: moveable.state.target,\n    clientX: e.clientX,\n    clientY: e.clientY,\n    inputEvent: e.inputEvent,\n    currentTarget: moveable,\n    lastEvent: datas.lastEvent,\n    isDouble: e.isDouble,\n    datas: datas.datas\n  });\n}\n\nfunction catchEvent(moveable, name, callback) {\n  moveable._emitter.on(name, callback);\n}\n\nfunction triggerEvent(moveable, name, params, isManager) {\n  return moveable.triggerEvent(name, params, isManager);\n}\n\nfunction getComputedStyle(el, pseudoElt) {\n  return window.getComputedStyle(el, pseudoElt);\n}\n\nfunction filterAbles(ables, methods, triggerAblesSimultaneously) {\n  var enabledAbles = {};\n  var ableGroups = {};\n  return ables.filter(function (able) {\n    var name = able.name;\n\n    if (enabledAbles[name] || !methods.some(function (method) {\n      return able[method];\n    })) {\n      return false;\n    }\n\n    if (!triggerAblesSimultaneously && able.ableGroup) {\n      if (ableGroups[able.ableGroup]) {\n        return false;\n      }\n\n      ableGroups[able.ableGroup] = true;\n    }\n\n    enabledAbles[name] = true;\n    return true;\n  });\n}\n\nfunction equals(a1, a2) {\n  return a1 === a2 || a1 == null && a2 == null;\n}\n\nfunction selectValue() {\n  var values = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    values[_i] = arguments[_i];\n  }\n\n  var length = values.length - 1;\n\n  for (var i = 0; i < length; ++i) {\n    var value = values[i];\n\n    if (!isUndefined(value)) {\n      return value;\n    }\n  }\n\n  return values[length];\n}\n\nfunction groupBy(arr, func) {\n  var groups = [];\n  var groupKeys = [];\n  arr.forEach(function (el, index) {\n    var groupKey = func(el, index, arr);\n    var keyIndex = groupKeys.indexOf(groupKey);\n    var group = groups[keyIndex] || [];\n\n    if (keyIndex === -1) {\n      groupKeys.push(groupKey);\n      groups.push(group);\n    }\n\n    group.push(el);\n  });\n  return groups;\n}\n\nfunction groupByMap(arr, func) {\n  var groups = [];\n  var groupKeys = {};\n  arr.forEach(function (el, index) {\n    var groupKey = func(el, index, arr);\n    var group = groupKeys[groupKey];\n\n    if (!group) {\n      group = [];\n      groupKeys[groupKey] = group;\n      groups.push(group);\n    }\n\n    group.push(el);\n  });\n  return groups;\n}\n\nfunction flat(arr) {\n  return arr.reduce(function (prev, cur) {\n    return prev.concat(cur);\n  }, []);\n}\n\nfunction maxOffset() {\n  var args = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    args[_i] = arguments[_i];\n  }\n\n  args.sort(function (a, b) {\n    return Math.abs(b) - Math.abs(a);\n  });\n  return args[0];\n}\n\nfunction calculateInversePosition(matrix, pos, n) {\n  return calculate(invert(matrix, n), convertPositionMatrix(pos, n), n);\n}\n\nfunction convertDragDist(state, e) {\n  var _a;\n\n  var is3d = state.is3d,\n      rootMatrix = state.rootMatrix;\n  var n = is3d ? 4 : 3;\n  _a = calculateInversePosition(rootMatrix, [e.distX, e.distY], n), e.distX = _a[0], e.distY = _a[1];\n  return e;\n}\n\nfunction calculatePadding(matrix, pos, transformOrigin, origin, n) {\n  return minus(calculatePosition(matrix, plus(transformOrigin, pos), n), origin);\n}\n\nfunction convertCSSSize(value, size, isRelative) {\n  return isRelative ? \"\".concat(value / size * 100, \"%\") : \"\".concat(value, \"px\");\n}\n\nfunction moveControlPos(controlPoses, index, dist, isRect) {\n  var _a = controlPoses[index],\n      direction = _a.direction,\n      sub = _a.sub;\n  var dists = controlPoses.map(function () {\n    return [0, 0];\n  });\n  var directions = direction ? direction.split(\"\") : [];\n\n  if (isRect && index < 8) {\n    var verticalDirection_1 = directions.filter(function (dir) {\n      return dir === \"w\" || dir === \"e\";\n    })[0];\n    var horizontalDirection_1 = directions.filter(function (dir) {\n      return dir === \"n\" || dir === \"s\";\n    })[0];\n    dists[index] = dist;\n    controlPoses.forEach(function (controlPose, i) {\n      var controlDir = controlPose.direction;\n\n      if (!controlDir) {\n        return;\n      }\n\n      if (controlDir.indexOf(verticalDirection_1) > -1) {\n        dists[i][0] = dist[0];\n      }\n\n      if (controlDir.indexOf(horizontalDirection_1) > -1) {\n        dists[i][1] = dist[1];\n      }\n    });\n\n    if (verticalDirection_1) {\n      dists[1][0] = dist[0] / 2;\n      dists[5][0] = dist[0] / 2;\n    }\n\n    if (horizontalDirection_1) {\n      dists[3][1] = dist[1] / 2;\n      dists[7][1] = dist[1] / 2;\n    }\n  } else if (direction && !sub) {\n    directions.forEach(function (dir) {\n      var isVertical = dir === \"n\" || dir === \"s\";\n      controlPoses.forEach(function (controlPose, i) {\n        var dirDir = controlPose.direction,\n            dirHorizontal = controlPose.horizontal,\n            dirVertical = controlPose.vertical;\n\n        if (!dirDir || dirDir.indexOf(dir) === -1) {\n          return;\n        }\n\n        dists[i] = [isVertical || !dirHorizontal ? 0 : dist[0], !isVertical || !dirVertical ? 0 : dist[1]];\n      });\n    });\n  } else {\n    dists[index] = dist;\n  }\n\n  return dists;\n}\n\nfunction getTinyDist(v) {\n  return Math.abs(v) <= TINY_NUM ? 0 : v;\n}\n\nfunction directionCondition(moveable, e) {\n  if (e.isRequest) {\n    if (e.requestAble === \"resizable\" || e.requestAble === \"scalable\") {\n      return e.parentDirection;\n    } else {\n      return false;\n    }\n  }\n\n  return hasClass(e.inputEvent.target, prefix(\"direction\"));\n}\n\nfunction invertObject(obj) {\n  var nextObj = {};\n\n  for (var name in obj) {\n    nextObj[obj[name]] = name;\n  }\n\n  return nextObj;\n}\n\nfunction convertTransformInfo(transforms, index) {\n  var beforeFunctionTexts = transforms.slice(0, index < 0 ? undefined : index);\n  var beforeFunctionTexts2 = transforms.slice(0, index < 0 ? undefined : index + 1);\n  var targetFunctionText = transforms[index] || \"\";\n  var afterFunctionTexts = index < 0 ? [] : transforms.slice(index);\n  var afterFunctionTexts2 = index < 0 ? [] : transforms.slice(index + 1);\n  var beforeFunctions = parse(beforeFunctionTexts);\n  var beforeFunctions2 = parse(beforeFunctionTexts2);\n  var targetFunctions = parse([targetFunctionText]);\n  var afterFunctions = parse(afterFunctionTexts);\n  var afterFunctions2 = parse(afterFunctionTexts2);\n  var beforeFunctionMatrix = toMat(beforeFunctions);\n  var beforeFunctionMatrix2 = toMat(beforeFunctions2);\n  var afterFunctionMatrix = toMat(afterFunctions);\n  var afterFunctionMatrix2 = toMat(afterFunctions2);\n  var allFunctionMatrix = multiply(beforeFunctionMatrix, afterFunctionMatrix, 4);\n  return {\n    transforms: transforms,\n    beforeFunctionMatrix: beforeFunctionMatrix,\n    beforeFunctionMatrix2: beforeFunctionMatrix2,\n    targetFunctionMatrix: toMat(targetFunctions),\n    afterFunctionMatrix: afterFunctionMatrix,\n    afterFunctionMatrix2: afterFunctionMatrix2,\n    allFunctionMatrix: allFunctionMatrix,\n    beforeFunctions: beforeFunctions,\n    beforeFunctions2: beforeFunctions2,\n    targetFunction: targetFunctions[0],\n    afterFunctions: afterFunctions,\n    afterFunctions2: afterFunctions2,\n    beforeFunctionTexts: beforeFunctionTexts,\n    beforeFunctionTexts2: beforeFunctionTexts2,\n    targetFunctionText: targetFunctionText,\n    afterFunctionTexts: afterFunctionTexts,\n    afterFunctionTexts2: afterFunctionTexts2\n  };\n}\n\nfunction isArrayFormat(arr) {\n  if (!arr || !isObject(arr)) {\n    return false;\n  }\n\n  if (arr instanceof Element) {\n    return false;\n  }\n\n  return isArray(arr) || \"length\" in arr;\n}\n\nfunction getRefTarget(target, isSelector) {\n  if (!target) {\n    return null;\n  }\n\n  if (isString(target)) {\n    if (isSelector) {\n      return document.querySelector(target);\n    }\n\n    return target;\n  }\n\n  if (isFunction(target)) {\n    return target();\n  }\n\n  if (\"current\" in target) {\n    return target.current;\n  }\n\n  return target;\n}\n\nfunction getRefTargets(targets, isSelector) {\n  if (!targets) {\n    return [];\n  }\n\n  var userTargets = isArrayFormat(targets) ? [].slice.call(targets) : [targets];\n  return userTargets.reduce(function (prev, target) {\n    if (isString(target) && isSelector) {\n      return __spreadArray(__spreadArray([], prev, true), [].slice.call(document.querySelectorAll(target)), true);\n    }\n\n    prev.push(getRefTarget(target, isSelector));\n    return prev;\n  }, []);\n}\n\nfunction getElementTargets(targets, selectorMap) {\n  var elementTargets = [];\n  targets.forEach(function (target) {\n    if (!target) {\n      return;\n    }\n\n    if (isString(target)) {\n      if (selectorMap[target]) {\n        elementTargets.push.apply(elementTargets, selectorMap[target]);\n      }\n\n      return;\n    }\n\n    elementTargets.push(target);\n  });\n  return elementTargets;\n}\n\nfunction getAbsoluteRotation(pos1, pos2, direction) {\n  var deg = getRad(pos1, pos2) / Math.PI * 180;\n  deg = direction >= 0 ? deg : 180 - deg;\n  deg = deg >= 0 ? deg : 360 + deg;\n  return deg;\n}\n\nfunction getDragDistByState(state, dist) {\n  var rootMatrix = state.rootMatrix,\n      is3d = state.is3d;\n  var n = is3d ? 4 : 3;\n  var inverseMatrix = invert(rootMatrix, n);\n\n  if (!is3d) {\n    inverseMatrix = convertDimension(inverseMatrix, 3, 4);\n  }\n\n  inverseMatrix[12] = 0;\n  inverseMatrix[13] = 0;\n  inverseMatrix[14] = 0;\n  return calculateMatrixDist(inverseMatrix, dist);\n}\n\nfunction getOffsetSizeDist(sizeDirection, keepRatio, datas, e) {\n  var ratio = datas.ratio,\n      startOffsetWidth = datas.startOffsetWidth,\n      startOffsetHeight = datas.startOffsetHeight;\n  var distWidth = 0;\n  var distHeight = 0;\n  var distX = e.distX,\n      distY = e.distY,\n      parentDistance = e.parentDistance,\n      parentDist = e.parentDist,\n      parentScale = e.parentScale,\n      isPinch = e.isPinch;\n  var startFixedDirection = datas.fixedDirection;\n\n  if (parentDist) {\n    distWidth = parentDist[0];\n    distHeight = parentDist[1];\n\n    if (keepRatio) {\n      if (!distWidth) {\n        distWidth = distHeight * ratio;\n      } else if (!distHeight) {\n        distHeight = distWidth / ratio;\n      }\n    }\n  } else if (parentScale) {\n    distWidth = (parentScale[0] - 1) * startOffsetWidth;\n    distHeight = (parentScale[1] - 1) * startOffsetHeight;\n  } else if (isPinch) {\n    if (parentDistance) {\n      distWidth = parentDistance;\n      distHeight = parentDistance * startOffsetHeight / startOffsetWidth;\n    }\n  } else {\n    var dist_1 = getDragDist({\n      datas: datas,\n      distX: distX,\n      distY: distY\n    });\n    dist_1 = [0, 1].map(function (index) {\n      var directionRatio = Math.abs(sizeDirection[index] - startFixedDirection[index]);\n\n      if (directionRatio !== 0) {\n        directionRatio = 2 / directionRatio;\n      }\n\n      return dist_1[index] * directionRatio;\n    });\n\n    if (keepRatio && startOffsetWidth && startOffsetHeight) {\n      var rad = getRad([0, 0], dist_1);\n      var standardRad = getRad([0, 0], sizeDirection);\n      var size = getDistSize(dist_1);\n      var signSize = Math.cos(rad - standardRad) * size;\n\n      if (!sizeDirection[0]) {\n        // top, bottom\n        distHeight = signSize;\n        distWidth = distHeight * ratio;\n      } else if (!sizeDirection[1]) {\n        // left, right\n        distWidth = signSize;\n        distHeight = distWidth / ratio;\n      } else {\n        // two-way\n        var startWidthSize = sizeDirection[0] * 2 * startOffsetWidth;\n        var startHeightSize = sizeDirection[1] * 2 * startOffsetHeight;\n        var distSize = getDistSize([startWidthSize + dist_1[0], startHeightSize + dist_1[1]]) - getDistSize([startWidthSize, startHeightSize]);\n        var ratioRad = getRad([0, 0], [ratio, 1]);\n        distWidth = Math.cos(ratioRad) * distSize;\n        distHeight = Math.sin(ratioRad) * distSize;\n      }\n    } else {\n      // const nextDirection = [...direction];\n      // if (!startOffsetWidth) {\n      //     if (dist[0] < 0) {\n      //         nextDirection[0] = -1;\n      //     } else if (dist[0] > 0) {\n      //         nextDirection[0] = 1;\n      //     }\n      // }\n      // if (!startOffsetHeight) {\n      //     if (dist[1] < 0) {\n      //         nextDirection[1] = -1;\n      //     } else if (dist[1] > 0) {\n      //         nextDirection[1] = 1;\n      //     }\n      // }\n      // direction = nextDirection;\n      // sizeDirection = nextDirection;\n      distWidth = sizeDirection[0] * dist_1[0];\n      distHeight = sizeDirection[1] * dist_1[1];\n    }\n  }\n\n  return {\n    // direction,\n    // sizeDirection,\n    distWidth: distWidth,\n    distHeight: distHeight\n  };\n}\n/**\n * @namespace Moveable.Pinchable\n * @description Whether or not target can be pinched with draggable, resizable, scalable, rotatable (default: false)\n */\n\n\nvar Pinchable = makeAble(\"pinchable\", {\n  events: {\n    onPinchStart: \"pinchStart\",\n    onPinch: \"pinch\",\n    onPinchEnd: \"pinchEnd\",\n    onPinchGroupStart: \"pinchGroupStart\",\n    onPinchGroup: \"pinchGroup\",\n    onPinchGroupEnd: \"pinchGroupEnd\"\n  },\n  dragStart: function () {\n    return true;\n  },\n  pinchStart: function (moveable, e) {\n    var datas = e.datas,\n        targets = e.targets,\n        angle = e.angle,\n        originalDatas = e.originalDatas;\n    var _a = moveable.props,\n        pinchable = _a.pinchable,\n        ables = _a.ables;\n\n    if (!pinchable) {\n      return false;\n    }\n\n    var eventName = \"onPinch\".concat(targets ? \"Group\" : \"\", \"Start\");\n    var controlEventName = \"drag\".concat(targets ? \"Group\" : \"\", \"ControlStart\");\n    var pinchAbles = (pinchable === true ? moveable.controlAbles : ables.filter(function (able) {\n      return pinchable.indexOf(able.name) > -1;\n    })).filter(function (able) {\n      return able.canPinch && able[controlEventName];\n    });\n    var params = fillParams(moveable, e, {});\n\n    if (targets) {\n      params.targets = targets;\n    }\n\n    var result = triggerEvent(moveable, eventName, params);\n    datas.isPinch = result !== false;\n    datas.ables = pinchAbles;\n    var isPinch = datas.isPinch;\n\n    if (!isPinch) {\n      return false;\n    }\n\n    pinchAbles.forEach(function (able) {\n      originalDatas[able.name] = originalDatas[able.name] || {};\n\n      if (!able[controlEventName]) {\n        return;\n      }\n\n      var ableEvent = __assign$1(__assign$1({}, e), {\n        datas: originalDatas[able.name],\n        parentRotate: angle,\n        isPinch: true\n      });\n\n      able[controlEventName](moveable, ableEvent);\n    });\n    moveable.state.snapRenderInfo = {\n      request: e.isRequest,\n      direction: [0, 0]\n    };\n    return isPinch;\n  },\n  pinch: function (moveable, e) {\n    var datas = e.datas,\n        pinchScale = e.scale,\n        distance = e.distance,\n        originalDatas = e.originalDatas,\n        inputEvent = e.inputEvent,\n        targets = e.targets,\n        angle = e.angle;\n\n    if (!datas.isPinch) {\n      return;\n    }\n\n    var parentDistance = distance * (1 - 1 / pinchScale);\n    var params = fillParams(moveable, e, {});\n\n    if (targets) {\n      params.targets = targets;\n    }\n\n    var eventName = \"onPinch\".concat(targets ? \"Group\" : \"\");\n    triggerEvent(moveable, eventName, params);\n    var ables = datas.ables;\n    var controlEventName = \"drag\".concat(targets ? \"Group\" : \"\", \"Control\");\n    ables.forEach(function (able) {\n      if (!able[controlEventName]) {\n        return;\n      }\n\n      able[controlEventName](moveable, __assign$1(__assign$1({}, e), {\n        datas: originalDatas[able.name],\n        inputEvent: inputEvent,\n        parentDistance: parentDistance,\n        parentRotate: angle,\n        isPinch: true\n      }));\n    });\n    return params;\n  },\n  pinchEnd: function (moveable, e) {\n    var datas = e.datas,\n        isPinch = e.isPinch,\n        inputEvent = e.inputEvent,\n        targets = e.targets,\n        originalDatas = e.originalDatas;\n\n    if (!datas.isPinch) {\n      return;\n    }\n\n    var eventName = \"onPinch\".concat(targets ? \"Group\" : \"\", \"End\");\n    var params = fillEndParams(moveable, e, {\n      isDrag: isPinch\n    });\n\n    if (targets) {\n      params.targets = targets;\n    }\n\n    triggerEvent(moveable, eventName, params);\n    var ables = datas.ables;\n    var controlEventName = \"drag\".concat(targets ? \"Group\" : \"\", \"ControlEnd\");\n    ables.forEach(function (able) {\n      if (!able[controlEventName]) {\n        return;\n      }\n\n      able[controlEventName](moveable, __assign$1(__assign$1({}, e), {\n        isDrag: isPinch,\n        datas: originalDatas[able.name],\n        inputEvent: inputEvent,\n        isPinch: true\n      }));\n    });\n    return isPinch;\n  },\n  pinchGroupStart: function (moveable, e) {\n    return this.pinchStart(moveable, __assign$1(__assign$1({}, e), {\n      targets: moveable.props.targets\n    }));\n  },\n  pinchGroup: function (moveable, e) {\n    return this.pinch(moveable, __assign$1(__assign$1({}, e), {\n      targets: moveable.props.targets\n    }));\n  },\n  pinchGroupEnd: function (moveable, e) {\n    return this.pinchEnd(moveable, __assign$1(__assign$1({}, e), {\n      targets: moveable.props.targets\n    }));\n  }\n});\n/**\n * Whether or not target can be pinched with draggable, resizable, scalable, rotatable (default: false)\n * @name Moveable.Pinchable#pinchable\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.pinchable = true;\n */\n\n/**\n * When the pinch starts, the pinchStart event is called with part of scaleStart, rotateStart, resizeStart\n * @memberof Moveable.Pinchable\n * @event pinchStart\n * @param {Moveable.Pinchable.OnPinchStart} - Parameters for the pinchStart event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     rotatable: true,\n *     scalable: true,\n *     pinchable: true, // [\"rotatable\", \"scalable\"]\n * });\n * moveable.on(\"pinchStart\", ({ target }) => {\n *     console.log(target);\n * });\n * moveable.on(\"rotateStart\", ({ target }) => {\n *     console.log(target);\n * });\n * moveable.on(\"scaleStart\", ({ target }) => {\n *     console.log(target);\n * });\n */\n\n/**\n * When pinching, the pinch event is called with part of scale, rotate, resize\n * @memberof Moveable.Pinchable\n * @event pinch\n * @param {Moveable.Pinchable.OnPinch} - Parameters for the pinch event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     rotatable: true,\n *     scalable: true,\n *     pinchable: true, // [\"rotatable\", \"scalable\"]\n * });\n * moveable.on(\"pinch\", ({ target }) => {\n *     console.log(target);\n * });\n * moveable.on(\"rotate\", ({ target }) => {\n *     console.log(target);\n * });\n * moveable.on(\"scale\", ({ target }) => {\n *     console.log(target);\n * });\n */\n\n/**\n * When the pinch finishes, the pinchEnd event is called.\n * @memberof Moveable.Pinchable\n * @event pinchEnd\n * @param {Moveable.Pinchable.OnPinchEnd} - Parameters for the pinchEnd event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     rotatable: true,\n *     scalable: true,\n *     pinchable: true, // [\"rotatable\", \"scalable\"]\n * });\n * moveable.on(\"pinchEnd\", ({ target }) => {\n *     console.log(target);\n * });\n * moveable.on(\"rotateEnd\", ({ target }) => {\n *     console.log(target);\n * });\n * moveable.on(\"scaleEnd\", ({ target }) => {\n *     console.log(target);\n * });\n */\n\n/**\n * When the group pinch starts, the `pinchGroupStart` event is called.\n * @memberof Moveable.Pinchable\n * @event pinchGroupStart\n * @param {Moveable.Pinchable.OnPinchGroupStart} - Parameters for the `pinchGroupStart` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n *     pinchable: true\n * });\n * moveable.on(\"pinchGroupStart\", ({ targets }) => {\n *     console.log(\"onPinchGroupStart\", targets);\n * });\n */\n\n/**\n * When the group pinch, the `pinchGroup` event is called.\n * @memberof Moveable.Pinchable\n * @event pinchGroup\n * @param {Moveable.Pinchable.OnPinchGroup} - Parameters for the `pinchGroup` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n *     pinchable: true\n * });\n * moveable.on(\"pinchGroup\", ({ targets, events }) => {\n *     console.log(\"onPinchGroup\", targets);\n * });\n */\n\n/**\n * When the group pinch finishes, the `pinchGroupEnd` event is called.\n * @memberof Moveable.Pinchable\n * @event pinchGroupEnd\n * @param {Moveable.Pinchable.OnPinchGroupEnd} - Parameters for the `pinchGroupEnd` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n *     pinchable: true\n * });\n * moveable.on(\"pinchGroupEnd\", ({ targets, isDrag }) => {\n *     console.log(\"onPinchGroupEnd\", targets, isDrag);\n * });\n */\n\n/**\n * @namespace Resizable\n * @memberof Moveable\n * @description Resizable indicates whether the target's width and height can be increased or decreased.\n */\n\nvar Resizable = {\n  name: \"resizable\",\n  ableGroup: \"size\",\n  canPinch: true,\n  props: {\n    resizable: Boolean,\n    throttleResize: Number,\n    renderDirections: Array,\n    keepRatio: Boolean,\n    resizeFormat: Function\n  },\n  events: {\n    onResizeStart: \"resizeStart\",\n    onBeforeResize: \"beforeResize\",\n    onResize: \"resize\",\n    onResizeEnd: \"resizeEnd\",\n    onResizeGroupStart: \"resizeGroupStart\",\n    onBeforeResizeGroup: \"beforeResizeGroup\",\n    onResizeGroup: \"resizeGroup\",\n    onResizeGroupEnd: \"resizeGroupEnd\"\n  },\n  render: function (moveable, React) {\n    var _a = moveable.props,\n        resizable = _a.resizable,\n        edge = _a.edge;\n\n    if (resizable) {\n      if (edge) {\n        return renderDiagonalDirections(moveable, React);\n      }\n\n      return renderAllDirections(moveable, React);\n    }\n  },\n  dragControlCondition: directionCondition,\n  dragControlStart: function (moveable, e) {\n    var _a;\n\n    var inputEvent = e.inputEvent,\n        isPinch = e.isPinch,\n        parentDirection = e.parentDirection,\n        datas = e.datas,\n        parentFlag = e.parentFlag;\n    var direction = parentDirection || (isPinch ? [0, 0] : getDirection(inputEvent.target));\n    var _b = moveable.state,\n        target = _b.target,\n        width = _b.width,\n        height = _b.height;\n\n    if (!direction || !target) {\n      return false;\n    }\n\n    !isPinch && setDragStart(moveable, e);\n    datas.datas = {};\n    datas.direction = direction;\n    datas.startOffsetWidth = width;\n    datas.startOffsetHeight = height;\n    datas.prevWidth = 0;\n    datas.prevHeight = 0;\n    _a = getCSSSize(target), datas.startWidth = _a[0], datas.startHeight = _a[1];\n    var padding = [Math.max(0, width - datas.startWidth), Math.max(0, height - datas.startHeight)];\n    datas.minSize = padding;\n    datas.maxSize = [Infinity, Infinity];\n\n    if (!parentFlag) {\n      var style = getComputedStyle(target);\n      var position = style.position,\n          minWidth = style.minWidth,\n          minHeight = style.minHeight,\n          maxWidth = style.maxWidth,\n          maxHeight = style.maxHeight;\n      var isParentElement = position === \"static\" || position === \"relative\";\n      var container = isParentElement ? target.parentElement : target.offsetParent;\n      var containerWidth = width;\n      var containerHeight = height;\n\n      if (container) {\n        containerWidth = container.clientWidth;\n        containerHeight = container.clientHeight;\n\n        if (isParentElement) {\n          var containerStyle = getComputedStyle(container);\n          containerWidth -= parseFloat(containerStyle.paddingLeft) || 0;\n          containerHeight -= parseFloat(containerStyle.paddingTop) || 0;\n        }\n      }\n\n      datas.minSize = plus([convertUnitSize(minWidth, containerWidth) || 0, convertUnitSize(minHeight, containerHeight) || 0], padding);\n      datas.maxSize = plus([convertUnitSize(maxWidth, containerWidth) || Infinity, convertUnitSize(maxHeight, containerHeight) || Infinity], padding);\n    }\n\n    var transformOrigin = moveable.props.transformOrigin || \"% %\";\n    datas.transformOrigin = transformOrigin && isString(transformOrigin) ? transformOrigin.split(\" \") : transformOrigin;\n    datas.isWidth = !direction[0] && !direction[1] || direction[0] || !direction[1];\n\n    function setRatio(ratio) {\n      datas.ratio = ratio && isFinite(ratio) ? ratio : 0;\n    }\n\n    datas.startPositions = getAbsolutePosesByState(moveable.state);\n\n    function setFixedDirection(fixedDirection) {\n      datas.fixedDirection = fixedDirection;\n      datas.fixedPosition = getPosByDirection(datas.startPositions, fixedDirection);\n    }\n\n    setRatio(width / height);\n    setFixedDirection([-direction[0], -direction[1]]);\n    datas.setFixedDirection = setFixedDirection;\n    var params = fillParams(moveable, e, {\n      direction: direction,\n      set: function (_a) {\n        var startWidth = _a[0],\n            startHeight = _a[1];\n        datas.startWidth = startWidth;\n        datas.startHeight = startHeight;\n      },\n      setMin: function (minSize) {\n        datas.minSize = minSize;\n      },\n      setMax: function (maxSize) {\n        datas.maxSize = [maxSize[0] || Infinity, maxSize[1] || Infinity];\n      },\n      setRatio: setRatio,\n      setFixedDirection: setFixedDirection,\n      setOrigin: function (origin) {\n        datas.transformOrigin = origin;\n      },\n      dragStart: Draggable.dragStart(moveable, new CustomGesto().dragStart([0, 0], e))\n    });\n    var result = triggerEvent(moveable, \"onResizeStart\", params);\n\n    if (result !== false) {\n      datas.isResize = true;\n      moveable.state.snapRenderInfo = {\n        request: e.isRequest,\n        direction: direction\n      };\n    }\n\n    return datas.isResize ? params : false;\n  },\n  dragControl: function (moveable, e) {\n    var _a;\n\n    var datas = e.datas,\n        parentFlag = e.parentFlag,\n        isPinch = e.isPinch,\n        parentKeepRatio = e.parentKeepRatio,\n        dragClient = e.dragClient,\n        parentDist = e.parentDist,\n        isRequest = e.isRequest;\n    var isResize = datas.isResize,\n        transformOrigin = datas.transformOrigin,\n        startWidth = datas.startWidth,\n        startHeight = datas.startHeight,\n        prevWidth = datas.prevWidth,\n        prevHeight = datas.prevHeight,\n        minSize = datas.minSize,\n        maxSize = datas.maxSize,\n        ratio = datas.ratio,\n        isWidth = datas.isWidth,\n        startOffsetWidth = datas.startOffsetWidth,\n        startOffsetHeight = datas.startOffsetHeight;\n\n    if (!isResize) {\n      return;\n    }\n\n    var props = moveable.props;\n    var resizeFormat = props.resizeFormat,\n        _b = props.throttleResize,\n        throttleResize = _b === void 0 ? 1 : _b,\n        parentMoveable = props.parentMoveable,\n        _c = props.snapThreshold,\n        snapThreshold = _c === void 0 ? 5 : _c;\n    var direction = datas.direction;\n    var sizeDirection = direction;\n    var distWidth = 0;\n    var distHeight = 0;\n\n    if (!direction[0] && !direction[1]) {\n      sizeDirection = [1, 1];\n    }\n\n    var keepRatio = ratio && (parentKeepRatio != null ? parentKeepRatio : props.keepRatio) || false;\n\n    function getNextBoundingSize() {\n      var nextSize = getOffsetSizeDist(sizeDirection, keepRatio, datas, e);\n      distWidth = nextSize.distWidth;\n      distHeight = nextSize.distHeight;\n      var nextWidth = sizeDirection[0] || keepRatio ? Math.max(startOffsetWidth + distWidth, TINY_NUM) : startOffsetWidth;\n      var nextHeight = sizeDirection[1] || keepRatio ? Math.max(startOffsetHeight + distHeight, TINY_NUM) : startOffsetHeight;\n\n      if (keepRatio && startOffsetWidth && startOffsetHeight) {\n        // startOffsetWidth : startOffsetHeight = nextWidth : nextHeight\n        if (isWidth) {\n          nextHeight = nextWidth / ratio;\n        } else {\n          nextWidth = nextHeight * ratio;\n        }\n      }\n\n      return [nextWidth, nextHeight];\n    }\n\n    var _d = getNextBoundingSize(),\n        boundingWidth = _d[0],\n        boundingHeight = _d[1];\n\n    datas.setFixedDirection(datas.fixedDirection);\n    triggerEvent(moveable, \"onBeforeResize\", fillParams(moveable, e, {\n      setFixedDirection: function (nextFixedDirection) {\n        var _a;\n\n        datas.setFixedDirection(nextFixedDirection);\n        _a = getNextBoundingSize(), boundingWidth = _a[0], boundingHeight = _a[1];\n        return [boundingWidth, boundingHeight];\n      },\n      boundingWidth: boundingWidth,\n      boundingHeight: boundingHeight,\n      setSize: function (size) {\n        boundingWidth = size[0], boundingHeight = size[1];\n      }\n    }));\n    var fixedPosition = dragClient;\n\n    if (!dragClient) {\n      if (!parentFlag && isPinch) {\n        fixedPosition = getAbsolutePosition(moveable, [0, 0]);\n      } else {\n        fixedPosition = datas.fixedPosition;\n      }\n    }\n\n    var snapDist = [0, 0];\n\n    if (!isPinch) {\n      snapDist = checkSnapResize(moveable, boundingWidth, boundingHeight, direction, fixedPosition, isRequest, datas);\n    }\n\n    if (parentDist) {\n      !parentDist[0] && (snapDist[0] = 0);\n      !parentDist[1] && (snapDist[1] = 0);\n    }\n\n    function computeSize() {\n      var _a;\n\n      if (resizeFormat) {\n        _a = resizeFormat([boundingWidth, boundingHeight]), boundingWidth = _a[0], boundingHeight = _a[1];\n      }\n\n      boundingWidth = throttle(boundingWidth, throttleResize);\n      boundingHeight = throttle(boundingHeight, throttleResize);\n    }\n\n    if (keepRatio) {\n      if (sizeDirection[0] && sizeDirection[1] && snapDist[0] && snapDist[1]) {\n        if (Math.abs(snapDist[0]) > Math.abs(snapDist[1])) {\n          snapDist[1] = 0;\n        } else {\n          snapDist[0] = 0;\n        }\n      }\n\n      var isNoSnap = !snapDist[0] && !snapDist[1];\n\n      if (isNoSnap) {\n        // pre-compute before maintaining the ratio\n        computeSize();\n      }\n\n      if (sizeDirection[0] && !sizeDirection[1] || snapDist[0] && !snapDist[1] || isNoSnap && isWidth) {\n        boundingWidth += snapDist[0];\n        boundingHeight = boundingWidth / ratio;\n      } else if (!sizeDirection[0] && sizeDirection[1] || !snapDist[0] && snapDist[1] || isNoSnap && !isWidth) {\n        boundingHeight += snapDist[1];\n        boundingWidth = boundingHeight * ratio;\n      }\n    } else {\n      if (startOffsetWidth + distWidth < -snapThreshold) {\n        snapDist[0] = 0;\n      }\n\n      if (startOffsetWidth + distHeight < -snapThreshold) {\n        snapDist[1] = 0;\n      }\n\n      boundingWidth += snapDist[0];\n      boundingHeight += snapDist[1];\n    }\n\n    _a = calculateBoundSize([boundingWidth, boundingHeight], minSize, maxSize, keepRatio), boundingWidth = _a[0], boundingHeight = _a[1];\n    computeSize();\n    distWidth = boundingWidth - startOffsetWidth;\n    distHeight = boundingHeight - startOffsetHeight;\n    var delta = [distWidth - prevWidth, distHeight - prevHeight];\n    datas.prevWidth = distWidth;\n    datas.prevHeight = distHeight;\n    var inverseDelta = getResizeDist(moveable, boundingWidth, boundingHeight, datas.fixedDirection, fixedPosition, transformOrigin);\n\n    if (!parentMoveable && delta.every(function (num) {\n      return !num;\n    }) && inverseDelta.every(function (num) {\n      return !num;\n    })) {\n      return;\n    }\n\n    var params = fillParams(moveable, e, {\n      width: startWidth + distWidth,\n      height: startHeight + distHeight,\n      offsetWidth: Math.round(boundingWidth),\n      offsetHeight: Math.round(boundingHeight),\n      boundingWidth: boundingWidth,\n      boundingHeight: boundingHeight,\n      direction: direction,\n      dist: [distWidth, distHeight],\n      delta: delta,\n      isPinch: !!isPinch,\n      drag: Draggable.drag(moveable, setCustomDrag(e, moveable.state, inverseDelta, !!isPinch, false))\n    });\n    triggerEvent(moveable, \"onResize\", params);\n    return params;\n  },\n  dragControlAfter: function (moveable, e) {\n    var datas = e.datas;\n    var isResize = datas.isResize,\n        startOffsetWidth = datas.startOffsetWidth,\n        startOffsetHeight = datas.startOffsetHeight,\n        prevWidth = datas.prevWidth,\n        prevHeight = datas.prevHeight;\n\n    if (!isResize) {\n      return;\n    }\n\n    var _a = moveable.state,\n        width = _a.width,\n        height = _a.height;\n    var errorWidth = width - (startOffsetWidth + prevWidth);\n    var errorHeight = height - (startOffsetHeight + prevHeight);\n    var isErrorWidth = Math.abs(errorWidth) > 3;\n    var isErrorHeight = Math.abs(errorHeight) > 3;\n\n    if (isErrorWidth) {\n      datas.startWidth += errorWidth;\n      datas.startOffsetWidth += errorWidth;\n      datas.prevWidth += errorWidth;\n    }\n\n    if (isErrorHeight) {\n      datas.startHeight += errorHeight;\n      datas.startOffsetHeight += errorHeight;\n      datas.prevHeight += errorHeight;\n    }\n\n    if (isErrorWidth || isErrorHeight) {\n      return this.dragControl(moveable, e);\n    }\n  },\n  dragControlEnd: function (moveable, e) {\n    var datas = e.datas;\n\n    if (!datas.isResize) {\n      return;\n    }\n\n    datas.isResize = false;\n    var params = fillEndParams(moveable, e, {});\n    triggerEvent(moveable, \"onResizeEnd\", params);\n    return params;\n  },\n  dragGroupControlCondition: directionCondition,\n  dragGroupControlStart: function (moveable, e) {\n    var datas = e.datas;\n    var params = this.dragControlStart(moveable, e);\n\n    if (!params) {\n      return false;\n    }\n\n    var originalEvents = fillChildEvents(moveable, \"resizable\", e);\n\n    function setDist(child, ev) {\n      var fixedDirection = datas.fixedDirection;\n      var fixedPosition = datas.fixedPosition;\n      var startPositions = ev.datas.startPositions || getAbsolutePosesByState(child.state);\n      var pos = getPosByDirection(startPositions, fixedDirection);\n\n      var _a = calculate(createRotateMatrix(-moveable.rotation / 180 * Math.PI, 3), [pos[0] - fixedPosition[0], pos[1] - fixedPosition[1], 1], 3),\n          originalX = _a[0],\n          originalY = _a[1];\n\n      ev.datas.originalX = originalX;\n      ev.datas.originalY = originalY;\n      return ev;\n    }\n\n    var events = triggerChildAbles(moveable, this, \"dragControlStart\", e, function (child, ev) {\n      return setDist(child, ev);\n    });\n\n    var setFixedDirection = function (fixedDirection) {\n      params.setFixedDirection(fixedDirection);\n      events.forEach(function (ev, i) {\n        ev.setFixedDirection(fixedDirection);\n        setDist(ev.moveable, originalEvents[i]);\n      });\n    };\n\n    datas.setFixedDirection = setFixedDirection;\n\n    var nextParams = __assign$1(__assign$1({}, params), {\n      targets: moveable.props.targets,\n      events: events,\n      setFixedDirection: setFixedDirection\n    });\n\n    var result = triggerEvent(moveable, \"onResizeGroupStart\", nextParams);\n    datas.isResize = result !== false;\n    return datas.isResize ? params : false;\n  },\n  dragGroupControl: function (moveable, e) {\n    var datas = e.datas;\n\n    if (!datas.isResize) {\n      return;\n    }\n\n    catchEvent(moveable, \"onBeforeResize\", function (parentEvent) {\n      triggerEvent(moveable, \"onBeforeResizeGroup\", fillParams(moveable, e, __assign$1(__assign$1({}, parentEvent), {\n        targets: moveable.props.targets\n      })));\n    });\n    var params = this.dragControl(moveable, e);\n\n    if (!params) {\n      return;\n    }\n\n    var boundingWidth = params.boundingWidth,\n        boundingHeight = params.boundingHeight,\n        dist = params.dist;\n    var keepRatio = moveable.props.keepRatio;\n    var parentScale = [boundingWidth / (boundingWidth - dist[0]), boundingHeight / (boundingHeight - dist[1])];\n    var fixedPosition = datas.fixedPosition;\n    var events = triggerChildAbles(moveable, this, \"dragControl\", e, function (_, ev) {\n      var _a = calculate(createRotateMatrix(moveable.rotation / 180 * Math.PI, 3), [ev.datas.originalX * parentScale[0], ev.datas.originalY * parentScale[1], 1], 3),\n          clientX = _a[0],\n          clientY = _a[1];\n\n      return __assign$1(__assign$1({}, ev), {\n        parentDist: null,\n        parentScale: parentScale,\n        dragClient: plus(fixedPosition, [clientX, clientY]),\n        parentKeepRatio: keepRatio\n      });\n    });\n\n    var nextParams = __assign$1({\n      targets: moveable.props.targets,\n      events: events\n    }, params);\n\n    triggerEvent(moveable, \"onResizeGroup\", nextParams);\n    return nextParams;\n  },\n  dragGroupControlEnd: function (moveable, e) {\n    var isDrag = e.isDrag,\n        datas = e.datas;\n\n    if (!datas.isResize) {\n      return;\n    }\n\n    this.dragControlEnd(moveable, e);\n    var events = triggerChildAbles(moveable, this, \"dragControlEnd\", e);\n    var nextParams = fillEndParams(moveable, e, {\n      targets: moveable.props.targets,\n      events: events\n    });\n    triggerEvent(moveable, \"onResizeGroupEnd\", nextParams);\n    return isDrag;\n  },\n\n  /**\n   * @method Moveable.Resizable#request\n   * @param {Moveable.Resizable.ResizableRequestParam} e - the Resizable's request parameter\n   * @return {Moveable.Requester} Moveable Requester\n   * @example\n    * // Instantly Request (requestStart - request - requestEnd)\n   * // Use Relative Value\n   * moveable.request(\"resizable\", { deltaWidth: 10, deltaHeight: 10 }, true);\n   *\n   * // Use Absolute Value\n   * moveable.request(\"resizable\", { offsetWidth: 100, offsetHeight: 100 }, true);\n   *\n   * // requestStart\n   * const requester = moveable.request(\"resizable\");\n   *\n   * // request\n   * // Use Relative Value\n   * requester.request({ deltaWidth: 10, deltaHeight: 10 });\n   * requester.request({ deltaWidth: 10, deltaHeight: 10 });\n   * requester.request({ deltaWidth: 10, deltaHeight: 10 });\n   *\n   * // Use Absolute Value\n   * moveable.request(\"resizable\", { offsetWidth: 100, offsetHeight: 100 });\n   * moveable.request(\"resizable\", { offsetWidth: 110, offsetHeight: 100 });\n   * moveable.request(\"resizable\", { offsetWidth: 120, offsetHeight: 100 });\n   *\n   * // requestEnd\n   * requester.requestEnd();\n   */\n  request: function (moveable) {\n    var datas = {};\n    var distWidth = 0;\n    var distHeight = 0;\n    var rect = moveable.getRect();\n    return {\n      isControl: true,\n      requestStart: function (e) {\n        return {\n          datas: datas,\n          parentDirection: e.direction || [1, 1]\n        };\n      },\n      request: function (e) {\n        if (\"offsetWidth\" in e) {\n          distWidth = e.offsetWidth - rect.offsetWidth;\n        } else if (\"deltaWidth\" in e) {\n          distWidth += e.deltaWidth;\n        }\n\n        if (\"offsetHeight\" in e) {\n          distHeight = e.offsetHeight - rect.offsetHeight;\n        } else if (\"deltaHeight\" in e) {\n          distHeight += e.deltaHeight;\n        }\n\n        return {\n          datas: datas,\n          parentDist: [distWidth, distHeight],\n          parentKeepRatio: e.keepRatio\n        };\n      },\n      requestEnd: function () {\n        return {\n          datas: datas,\n          isDrag: true\n        };\n      }\n    };\n  }\n};\n/**\n * Whether or not target can be resized.\n * @name Moveable.Resizable#resizable\n * @default false\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     resizable: false,\n * });\n *\n * moveable.resizable = true;\n */\n\n/**\n * throttle of width, height when resize. If throttleResize is set to less than 1, the target may shake.\n * @name Moveable.Resizable#throttleResize\n * @default 1\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *   resizable: true,\n *   throttleResize: 1,\n * });\n *\n * moveable.throttleResize = 0;\n */\n\n/**\n * When resize or scale, keeps a ratio of the width, height.\n * @name Moveable.Resizable#keepRatio\n * @default false\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *   resizable: true,\n * });\n *\n * moveable.keepRatio = true;\n */\n\n/**\n * Set directions to show the control box.\n * @name Moveable.Resizable#renderDirections\n * @default [\"n\", \"nw\", \"ne\", \"s\", \"se\", \"sw\", \"e\", \"w\"]\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *   resizable: true,\n *   renderDirections: [\"n\", \"nw\", \"ne\", \"s\", \"se\", \"sw\", \"e\", \"w\"],\n * });\n *\n * moveable.renderDirections = [\"nw\", \"ne\", \"sw\", \"se\"];\n */\n\n/**\n * Function to convert size for resize\n * @name Moveable.Resizable#resizeFormat\n * @default oneself\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *   resizable: true,\n *   resizeFormat: v => v,\n * });\n *\n * moveable.resizeFormat = (size: number[]) => ([Math.trunc(size[0]), Math.trunc(size[1])];\n */\n\n/**\n * When the resize starts, the resizeStart event is called.\n * @memberof Moveable.Resizable\n * @event resizeStart\n * @param {Moveable.Resizable.OnResizeStart} - Parameters for the resizeStart event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { resizable: true });\n * moveable.on(\"resizeStart\", ({ target }) => {\n *     console.log(target);\n * });\n */\n\n/**\n * When resizing, `beforeResize` is called before `resize` occurs. In `beforeResize`, you can get and set the pre-value before resizing.\n * @memberof Moveable.Resizable\n * @event beforeResize\n * @param {Moveable.Resizable.OnBeforeResize} - Parameters for the `beforeResize` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { resizable: true });\n * moveable.on(\"beforeResize\", ({ setFixedDirection }) => {\n *     if (shiftKey) {\n *        setFixedDirection([0, 0]);\n *     }\n * });\n * moveable.on(\"resize\", ({ target, width, height, drag }) => {\n *     target.style.width = `${width}px`;\n *     target.style.height = `${height}px`;\n *     target.style.transform = drag.transform;\n * });\n */\n\n/**\n * When resizing, the resize event is called.\n * @memberof Moveable.Resizable\n * @event resize\n * @param {Moveable.Resizable.OnResize} - Parameters for the resize event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { resizable: true });\n * moveable.on(\"resize\", ({ target, width, height }) => {\n *     target.style.width = `${e.width}px`;\n *     target.style.height = `${e.height}px`;\n * });\n */\n\n/**\n * When the resize finishes, the resizeEnd event is called.\n * @memberof Moveable.Resizable\n * @event resizeEnd\n * @param {Moveable.Resizable.OnResizeEnd} - Parameters for the resizeEnd event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { resizable: true });\n * moveable.on(\"resizeEnd\", ({ target, isDrag }) => {\n *     console.log(target, isDrag);\n * });\n */\n\n/**\n* When the group resize starts, the `resizeGroupStart` event is called.\n* @memberof Moveable.Resizable\n* @event resizeGroupStart\n* @param {Moveable.Resizable.OnResizeGroupStart} - Parameters for the `resizeGroupStart` event\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     target: [].slice.call(document.querySelectorAll(\".target\")),\n*     resizable: true\n* });\n* moveable.on(\"resizeGroupStart\", ({ targets }) => {\n*     console.log(\"onResizeGroupStart\", targets);\n* });\n*/\n\n/**\n* When the group resize, the `resizeGroup` event is called.\n* @memberof Moveable.Resizable\n* @event resizeGroup\n* @param {Moveable.Resizable.onResizeGroup} - Parameters for the `resizeGroup` event\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     target: [].slice.call(document.querySelectorAll(\".target\")),\n*     resizable: true\n* });\n* moveable.on(\"resizeGroup\", ({ targets, events }) => {\n*     console.log(\"onResizeGroup\", targets);\n*     events.forEach(ev => {\n*         const offset = [\n*             direction[0] < 0 ? -ev.delta[0] : 0,\n*             direction[1] < 0 ? -ev.delta[1] : 0,\n*         ];\n*         // ev.drag is a drag event that occurs when the group resize.\n*         const left = offset[0] + ev.drag.beforeDist[0];\n*         const top = offset[1] + ev.drag.beforeDist[1];\n*         const width = ev.width;\n*         const top = ev.top;\n*     });\n* });\n*/\n\n/**\n * When the group resize finishes, the `resizeGroupEnd` event is called.\n * @memberof Moveable.Resizable\n * @event resizeGroupEnd\n * @param {Moveable.Resizable.OnResizeGroupEnd} - Parameters for the `resizeGroupEnd` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n *     resizable: true\n * });\n * moveable.on(\"resizeGroupEnd\", ({ targets, isDrag }) => {\n *     console.log(\"onResizeGroupEnd\", targets, isDrag);\n * });\n */\n\n/**\n * @namespace Scalable\n * @memberof Moveable\n * @description Scalable indicates whether the target's x and y can be scale of transform.\n */\n\nvar Scalable = {\n  name: \"scalable\",\n  ableGroup: \"size\",\n  canPinch: true,\n  props: {\n    scalable: Boolean,\n    throttleScale: Number,\n    renderDirections: String,\n    keepRatio: Boolean\n  },\n  events: {\n    onScaleStart: \"scaleStart\",\n    onBeforeScale: \"beforeScale\",\n    onScale: \"scale\",\n    onScaleEnd: \"scaleEnd\",\n    onScaleGroupStart: \"scaleGroupStart\",\n    onBeforeScaleGroup: \"beforeScaleGroup\",\n    onScaleGroup: \"scaleGroup\",\n    onScaleGroupEnd: \"scaleGroupEnd\"\n  },\n  render: function (moveable, React) {\n    var _a = moveable.props,\n        resizable = _a.resizable,\n        scalable = _a.scalable,\n        edge = _a.edge;\n\n    if (!resizable && scalable) {\n      if (edge) {\n        return renderDiagonalDirections(moveable, React);\n      }\n\n      return renderAllDirections(moveable, React);\n    }\n  },\n  dragControlCondition: directionCondition,\n  dragControlStart: function (moveable, e) {\n    var datas = e.datas,\n        isPinch = e.isPinch,\n        inputEvent = e.inputEvent,\n        parentDirection = e.parentDirection;\n    var direction = parentDirection || (isPinch ? [0, 0] : getDirection(inputEvent.target));\n    var _a = moveable.state,\n        width = _a.width,\n        height = _a.height,\n        targetTransform = _a.targetTransform,\n        target = _a.target,\n        pos1 = _a.pos1,\n        pos2 = _a.pos2,\n        pos4 = _a.pos4;\n\n    if (!direction || !target) {\n      return false;\n    }\n\n    if (!isPinch) {\n      setDragStart(moveable, e);\n    }\n\n    datas.datas = {};\n    datas.transform = targetTransform;\n    datas.prevDist = [1, 1];\n    datas.direction = direction;\n    datas.startOffsetWidth = width;\n    datas.startOffsetHeight = height;\n    datas.startValue = [1, 1];\n    var scaleWidth = getDist$1(pos1, pos2);\n    var scaleHeight = getDist$1(pos2, pos4);\n    var isWidth = !direction[0] && !direction[1] || direction[0] || !direction[1];\n    datas.scaleWidth = scaleWidth;\n    datas.scaleHeight = scaleHeight;\n    datas.scaleXRatio = scaleWidth / width;\n    datas.scaleYRatio = scaleHeight / height;\n    setDefaultTransformIndex(e, \"scale\");\n    datas.isWidth = isWidth;\n\n    function setRatio(ratio) {\n      datas.ratio = ratio && isFinite(ratio) ? ratio : 0;\n    }\n\n    datas.startPositions = getAbsolutePosesByState(moveable.state);\n\n    function setFixedDirection(fixedDirection) {\n      datas.fixedDirection = fixedDirection;\n      datas.fixedPosition = getPosByDirection(datas.startPositions, fixedDirection);\n    }\n\n    datas.setFixedDirection = setFixedDirection;\n    setRatio(getDist$1(pos1, pos2) / getDist$1(pos2, pos4));\n    setFixedDirection([-direction[0], -direction[1]]);\n    var params = fillParams(moveable, e, __assign$1(__assign$1({\n      direction: direction,\n      set: function (scale) {\n        datas.startValue = scale;\n      },\n      setRatio: setRatio,\n      setFixedDirection: setFixedDirection\n    }, fillTransformStartEvent(e)), {\n      dragStart: Draggable.dragStart(moveable, new CustomGesto().dragStart([0, 0], e))\n    }));\n    var result = triggerEvent(moveable, \"onScaleStart\", params);\n\n    if (result !== false) {\n      datas.isScale = true;\n      moveable.state.snapRenderInfo = {\n        request: e.isRequest,\n        direction: direction\n      };\n    }\n\n    return datas.isScale ? params : false;\n  },\n  dragControl: function (moveable, e) {\n    resolveTransformEvent(e, \"scale\");\n    var datas = e.datas,\n        parentKeepRatio = e.parentKeepRatio,\n        parentFlag = e.parentFlag,\n        isPinch = e.isPinch,\n        dragClient = e.dragClient,\n        isRequest = e.isRequest;\n    var prevDist = datas.prevDist,\n        direction = datas.direction,\n        startOffsetWidth = datas.startOffsetWidth,\n        startOffsetHeight = datas.startOffsetHeight,\n        isScale = datas.isScale,\n        startValue = datas.startValue,\n        isWidth = datas.isWidth,\n        ratio = datas.ratio;\n\n    if (!isScale) {\n      return false;\n    }\n\n    var props = moveable.props;\n    var throttleScale = props.throttleScale,\n        parentMoveable = props.parentMoveable;\n    var sizeDirection = direction;\n\n    if (!direction[0] && !direction[1]) {\n      sizeDirection = [1, 1];\n    }\n\n    var keepRatio = ratio && (parentKeepRatio != null ? parentKeepRatio : props.keepRatio) || false;\n    var state = moveable.state;\n\n    function getNextScale() {\n      var _a = getOffsetSizeDist(sizeDirection, keepRatio, datas, e),\n          distWidth = _a.distWidth,\n          distHeight = _a.distHeight;\n\n      var scaleX = (startOffsetWidth + distWidth) / startOffsetWidth;\n      var scaleY = (startOffsetHeight + distHeight) / startOffsetHeight;\n      scaleX = sizeDirection[0] || keepRatio ? scaleX * startValue[0] : startValue[0];\n      scaleY = sizeDirection[1] || keepRatio ? scaleY * startValue[1] : startValue[1];\n\n      if (scaleX === 0) {\n        scaleX = (prevDist[0] > 0 ? 1 : -1) * MIN_SCALE;\n      }\n\n      if (scaleY === 0) {\n        scaleY = (prevDist[1] > 0 ? 1 : -1) * MIN_SCALE;\n      }\n\n      return [scaleX, scaleY];\n    }\n\n    var scale = getNextScale();\n\n    if (!isPinch && moveable.props.groupable) {\n      var snapRenderInfo = state.snapRenderInfo || {};\n      var stateDirection = snapRenderInfo.direction;\n\n      if (isArray(stateDirection) && (stateDirection[0] || stateDirection[1])) {\n        state.snapRenderInfo = {\n          direction: direction,\n          request: e.isRequest\n        };\n      }\n    }\n\n    triggerEvent(moveable, \"onBeforeScale\", fillParams(moveable, e, {\n      scale: scale,\n      setFixedDirection: function (nextFixedDirection) {\n        datas.setFixedDirection(nextFixedDirection);\n        scale = getNextScale();\n        return scale;\n      },\n      setScale: function (nextScale) {\n        scale = nextScale;\n      }\n    }));\n    var dist = [scale[0] / startValue[0], scale[1] / startValue[1]];\n    var fixedPosition = dragClient;\n    var snapDist = [0, 0];\n\n    if (!dragClient) {\n      if (!parentFlag && isPinch) {\n        fixedPosition = getAbsolutePosition(moveable, [0, 0]);\n      } else {\n        fixedPosition = datas.fixedPosition;\n      }\n    }\n\n    if (!isPinch) {\n      snapDist = checkSnapScale(moveable, dist, direction, isRequest, datas);\n    }\n\n    if (keepRatio) {\n      if (sizeDirection[0] && sizeDirection[1] && snapDist[0] && snapDist[1]) {\n        if (Math.abs(snapDist[0] * startOffsetWidth) > Math.abs(snapDist[1] * startOffsetHeight)) {\n          snapDist[1] = 0;\n        } else {\n          snapDist[0] = 0;\n        }\n      }\n\n      var isNoSnap = !snapDist[0] && !snapDist[1];\n\n      if (isNoSnap) {\n        if (isWidth) {\n          dist[0] = throttle(dist[0] * startValue[0], throttleScale) / startValue[0];\n        } else {\n          dist[1] = throttle(dist[1] * startValue[1], throttleScale) / startValue[1];\n        }\n      }\n\n      if (sizeDirection[0] && !sizeDirection[1] || snapDist[0] && !snapDist[1] || isNoSnap && isWidth) {\n        dist[0] += snapDist[0];\n        var snapHeight = startOffsetWidth * dist[0] * startValue[0] / ratio;\n        dist[1] = snapHeight / startOffsetHeight / startValue[1];\n      } else if (!sizeDirection[0] && sizeDirection[1] || !snapDist[0] && snapDist[1] || isNoSnap && !isWidth) {\n        dist[1] += snapDist[1];\n        var snapWidth = startOffsetHeight * dist[1] * startValue[1] * ratio;\n        dist[0] = snapWidth / startOffsetWidth / startValue[0];\n      }\n    } else {\n      dist[0] += snapDist[0];\n      dist[1] += snapDist[1];\n\n      if (!snapDist[0]) {\n        dist[0] = throttle(dist[0] * startValue[0], throttleScale) / startValue[0];\n      }\n\n      if (!snapDist[1]) {\n        dist[1] = throttle(dist[1] * startValue[1], throttleScale) / startValue[1];\n      }\n    }\n\n    if (dist[0] === 0) {\n      dist[0] = (prevDist[0] > 0 ? 1 : -1) * MIN_SCALE;\n    }\n\n    if (dist[1] === 0) {\n      dist[1] = (prevDist[1] > 0 ? 1 : -1) * MIN_SCALE;\n    }\n\n    var delta = [dist[0] / prevDist[0], dist[1] / prevDist[1]];\n    scale = multiply2(dist, startValue);\n    var inverseDist = getScaleDist(moveable, dist, datas.fixedDirection, fixedPosition, datas);\n    var inverseDelta = minus(inverseDist, datas.prevInverseDist || [0, 0]);\n    datas.prevDist = dist;\n    datas.prevInverseDist = inverseDist;\n\n    if (scale[0] === prevDist[0] && scale[1] === prevDist[1] && inverseDelta.every(function (num) {\n      return !num;\n    }) && !parentMoveable) {\n      return false;\n    }\n\n    var nextTransform = convertTransformFormat(datas, \"scale(\".concat(scale.join(\", \"), \")\"), \"scale(\".concat(dist.join(\", \"), \")\"));\n    var params = fillParams(moveable, e, __assign$1({\n      offsetWidth: startOffsetWidth,\n      offsetHeight: startOffsetHeight,\n      direction: direction,\n      scale: scale,\n      dist: dist,\n      delta: delta,\n      isPinch: !!isPinch\n    }, fillTransformEvent(moveable, nextTransform, inverseDelta, isPinch, e)));\n    triggerEvent(moveable, \"onScale\", params);\n    return params;\n  },\n  dragControlEnd: function (moveable, e) {\n    var datas = e.datas,\n        isDrag = e.isDrag;\n\n    if (!datas.isScale) {\n      return false;\n    }\n\n    datas.isScale = false;\n    triggerEvent(moveable, \"onScaleEnd\", fillEndParams(moveable, e, {}));\n    return isDrag;\n  },\n  dragGroupControlCondition: directionCondition,\n  dragGroupControlStart: function (moveable, e) {\n    var datas = e.datas;\n    var params = this.dragControlStart(moveable, e);\n\n    if (!params) {\n      return false;\n    }\n\n    var originalEvents = fillChildEvents(moveable, \"resizable\", e);\n\n    function setDist(child, ev) {\n      var fixedDirection = datas.fixedDirection;\n      var fixedPosition = datas.fixedPosition;\n      var startPositions = ev.datas.startPositions || getAbsolutePosesByState(child.state);\n      var pos = getPosByDirection(startPositions, fixedDirection);\n\n      var _a = calculate(createRotateMatrix(-moveable.rotation / 180 * Math.PI, 3), [pos[0] - fixedPosition[0], pos[1] - fixedPosition[1], 1], 3),\n          originalX = _a[0],\n          originalY = _a[1];\n\n      ev.datas.originalX = originalX;\n      ev.datas.originalY = originalY;\n      return ev;\n    }\n\n    datas.moveableScale = moveable.scale;\n    var events = triggerChildAbles(moveable, this, \"dragControlStart\", e, function (child, ev) {\n      return setDist(child, ev);\n    });\n\n    var setFixedDirection = function (fixedDirection) {\n      params.setFixedDirection(fixedDirection);\n      events.forEach(function (ev, i) {\n        ev.setFixedDirection(fixedDirection);\n        setDist(ev.moveable, originalEvents[i]);\n      });\n    };\n\n    datas.setFixedDirection = setFixedDirection;\n\n    var nextParams = __assign$1(__assign$1({}, params), {\n      targets: moveable.props.targets,\n      events: events,\n      setFixedDirection: setFixedDirection\n    });\n\n    var result = triggerEvent(moveable, \"onScaleGroupStart\", nextParams);\n    datas.isScale = result !== false;\n    return datas.isScale ? nextParams : false;\n  },\n  dragGroupControl: function (moveable, e) {\n    var datas = e.datas;\n\n    if (!datas.isScale) {\n      return;\n    }\n\n    catchEvent(moveable, \"onBeforeScale\", function (parentEvent) {\n      triggerEvent(moveable, \"onBeforeScaleGroup\", fillParams(moveable, e, __assign$1(__assign$1({}, parentEvent), {\n        targets: moveable.props.targets\n      })));\n    });\n    var params = this.dragControl(moveable, e);\n\n    if (!params) {\n      return;\n    }\n\n    var moveableScale = datas.moveableScale;\n    moveable.scale = [params.scale[0] * moveableScale[0], params.scale[1] * moveableScale[1]];\n    var keepRatio = moveable.props.keepRatio;\n    var dist = params.dist,\n        scale = params.scale;\n    var fixedPosition = datas.fixedPosition;\n    var events = triggerChildAbles(moveable, this, \"dragControl\", e, function (_, ev) {\n      var _a = calculate(createRotateMatrix(moveable.rotation / 180 * Math.PI, 3), [ev.datas.originalX * dist[0], ev.datas.originalY * dist[1], 1], 3),\n          clientX = _a[0],\n          clientY = _a[1];\n\n      return __assign$1(__assign$1({}, ev), {\n        parentDist: null,\n        parentScale: scale,\n        parentKeepRatio: keepRatio,\n        dragClient: plus(fixedPosition, [clientX, clientY])\n      });\n    });\n\n    var nextParams = __assign$1({\n      targets: moveable.props.targets,\n      events: events\n    }, params);\n\n    triggerEvent(moveable, \"onScaleGroup\", nextParams);\n    return nextParams;\n  },\n  dragGroupControlEnd: function (moveable, e) {\n    var isDrag = e.isDrag,\n        datas = e.datas;\n\n    if (!datas.isScale) {\n      return;\n    }\n\n    this.dragControlEnd(moveable, e);\n    var events = triggerChildAbles(moveable, this, \"dragControlEnd\", e);\n    var nextParams = fillEndParams(moveable, e, {\n      targets: moveable.props.targets,\n      events: events\n    });\n    triggerEvent(moveable, \"onScaleGroupEnd\", nextParams);\n    return isDrag;\n  },\n\n  /**\n   * @method Moveable.Scalable#request\n   * @param {Moveable.Scalable.ScalableRequestParam} e - the Scalable's request parameter\n   * @return {Moveable.Requester} Moveable Requester\n   * @example\n    * // Instantly Request (requestStart - request - requestEnd)\n   * moveable.request(\"scalable\", { deltaWidth: 10, deltaHeight: 10 }, true);\n   *\n   * // requestStart\n   * const requester = moveable.request(\"scalable\");\n   *\n   * // request\n   * requester.request({ deltaWidth: 10, deltaHeight: 10 });\n   * requester.request({ deltaWidth: 10, deltaHeight: 10 });\n   * requester.request({ deltaWidth: 10, deltaHeight: 10 });\n   *\n   * // requestEnd\n   * requester.requestEnd();\n   */\n  request: function () {\n    var datas = {};\n    var distWidth = 0;\n    var distHeight = 0;\n    return {\n      isControl: true,\n      requestStart: function (e) {\n        return {\n          datas: datas,\n          parentDirection: e.direction || [1, 1]\n        };\n      },\n      request: function (e) {\n        distWidth += e.deltaWidth;\n        distHeight += e.deltaHeight;\n        return {\n          datas: datas,\n          parentDist: [distWidth, distHeight],\n          parentKeepRatio: e.keepRatio\n        };\n      },\n      requestEnd: function () {\n        return {\n          datas: datas,\n          isDrag: true\n        };\n      }\n    };\n  }\n};\n/**\n * Whether or not target can scaled.\n *\n * @name Moveable.Scalable#scalable\n * @default false\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.scalable = true;\n */\n\n/**\n * throttle of scaleX, scaleY when scale.\n * @name Moveable.Scalable#throttleScale\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.throttleScale = 0.1;\n */\n\n/**\n * Set directions to show the control box. (default: [\"n\", \"nw\", \"ne\", \"s\", \"se\", \"sw\", \"e\", \"w\"])\n * @name Moveable.Scalable#renderDirections\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     scalable: true,\n *   renderDirections: [\"n\", \"nw\", \"ne\", \"s\", \"se\", \"sw\", \"e\", \"w\"],\n * });\n *\n * moveable.renderDirections = [\"nw\", \"ne\", \"sw\", \"se\"];\n */\n\n/**\n * When resize or scale, keeps a ratio of the width, height. (default: false)\n * @name Moveable.Scalable#keepRatio\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     scalable: true,\n * });\n *\n * moveable.keepRatio = true;\n */\n\n/**\n * When the scale starts, the scaleStart event is called.\n * @memberof Moveable.Scalable\n * @event scaleStart\n * @param {Moveable.Scalable.OnScaleStart} - Parameters for the scaleStart event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { scalable: true });\n * moveable.on(\"scaleStart\", ({ target }) => {\n *     console.log(target);\n * });\n */\n\n/**\n * When scaling, `beforeScale` is called before `scale` occurs. In `beforeScale`, you can get and set the pre-value before scaling.\n * @memberof Moveable.Scalable\n * @event beforeScale\n * @param {Moveable.Scalable.OnBeforeScale} - Parameters for the `beforeScale` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { scalable: true });\n * moveable.on(\"beforeScale\", ({ setFixedDirection }) => {\n *     if (shiftKey) {\n *        setFixedDirection([0, 0]);\n *     }\n * });\n * moveable.on(\"scale\", ({ target, transform, dist }) => {\n *     target.style.transform = transform;\n * });\n */\n\n/**\n * When scaling, the `scale` event is called.\n * @memberof Moveable.Scalable\n * @event scale\n * @param {Moveable.Scalable.OnScale} - Parameters for the `scale` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { scalable: true });\n * moveable.on(\"scale\", ({ target, transform, dist }) => {\n *     target.style.transform = transform;\n * });\n */\n\n/**\n * When the scale finishes, the `scaleEnd` event is called.\n * @memberof Moveable.Scalable\n * @event scaleEnd\n * @param {Moveable.Scalable.OnScaleEnd} - Parameters for the `scaleEnd` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { scalable: true });\n * moveable.on(\"scaleEnd\", ({ target, isDrag }) => {\n *     console.log(target, isDrag);\n * });\n */\n\n/**\n* When the group scale starts, the `scaleGroupStart` event is called.\n* @memberof Moveable.Scalable\n* @event scaleGroupStart\n* @param {Moveable.Scalable.OnScaleGroupStart} - Parameters for the `scaleGroupStart` event\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     target: [].slice.call(document.querySelectorAll(\".target\")),\n*     scalable: true\n* });\n* moveable.on(\"scaleGroupStart\", ({ targets }) => {\n*     console.log(\"onScaleGroupStart\", targets);\n* });\n*/\n\n/**\n* When the group scale, the `scaleGroup` event is called.\n* @memberof Moveable.Scalable\n* @event scaleGroup\n* @param {Moveable.Scalable.OnScaleGroup} - Parameters for the `scaleGroup` event\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     target: [].slice.call(document.querySelectorAll(\".target\")),\n*     scalable: true\n* });\n* moveable.on(\"scaleGroup\", ({ targets, events }) => {\n*     console.log(\"onScaleGroup\", targets);\n*     events.forEach(ev => {\n*         const target = ev.target;\n*         // ev.drag is a drag event that occurs when the group scale.\n*         const left = ev.drag.beforeDist[0];\n*         const top = ev.drag.beforeDist[1];\n*         const scaleX = ev.scale[0];\n*         const scaleY = ev.scale[1];\n*     });\n* });\n*/\n\n/**\n * When the group scale finishes, the `scaleGroupEnd` event is called.\n * @memberof Moveable.Scalable\n * @event scaleGroupEnd\n * @param {Moveable.Scalable.OnScaleGroupEnd} - Parameters for the `scaleGroupEnd` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n *     scalable: true\n * });\n * moveable.on(\"scaleGroupEnd\", ({ targets, isDrag }) => {\n *     console.log(\"onScaleGroupEnd\", targets, isDrag);\n * });\n */\n\nfunction getMiddleLinePos(pos1, pos2) {\n  return pos1.map(function (pos, i) {\n    return dot(pos, pos2[i], 1, 2);\n  });\n}\n\nfunction getTriangleRad(pos1, pos2, pos3) {\n  // pos1 Rad\n  var rad1 = getRad(pos1, pos2);\n  var rad2 = getRad(pos1, pos3);\n  var rad = rad2 - rad1;\n  return rad >= 0 ? rad : rad + 2 * Math.PI;\n}\n\nfunction isValidPos(poses1, poses2) {\n  var rad1 = getTriangleRad(poses1[0], poses1[1], poses1[2]);\n  var rad2 = getTriangleRad(poses2[0], poses2[1], poses2[2]);\n  var pi = Math.PI;\n\n  if (rad1 >= pi && rad2 <= pi || rad1 <= pi && rad2 >= pi) {\n    return false;\n  }\n\n  return true;\n}\n/**\n * @namespace Moveable.Warpable\n * @description Warpable indicates whether the target can be warped(distorted, bented).\n */\n\n\nvar Warpable = {\n  name: \"warpable\",\n  ableGroup: \"size\",\n  props: {\n    warpable: Boolean,\n    renderDirections: Array\n  },\n  events: {\n    onWarpStart: \"warpStart\",\n    onWarp: \"warp\",\n    onWarpEnd: \"warpEnd\"\n  },\n  render: function (moveable, React) {\n    var _a = moveable.props,\n        resizable = _a.resizable,\n        scalable = _a.scalable,\n        warpable = _a.warpable,\n        zoom = _a.zoom;\n\n    if (resizable || scalable || !warpable) {\n      return [];\n    }\n\n    var _b = moveable.state,\n        pos1 = _b.pos1,\n        pos2 = _b.pos2,\n        pos3 = _b.pos3,\n        pos4 = _b.pos4;\n    var linePosFrom1 = getMiddleLinePos(pos1, pos2);\n    var linePosFrom2 = getMiddleLinePos(pos2, pos1);\n    var linePosFrom3 = getMiddleLinePos(pos1, pos3);\n    var linePosFrom4 = getMiddleLinePos(pos3, pos1);\n    var linePosTo1 = getMiddleLinePos(pos3, pos4);\n    var linePosTo2 = getMiddleLinePos(pos4, pos3);\n    var linePosTo3 = getMiddleLinePos(pos2, pos4);\n    var linePosTo4 = getMiddleLinePos(pos4, pos2);\n    return __spreadArray([React.createElement(\"div\", {\n      className: prefix(\"line\"),\n      key: \"middeLine1\",\n      style: getLineStyle(linePosFrom1, linePosTo1, zoom)\n    }), React.createElement(\"div\", {\n      className: prefix(\"line\"),\n      key: \"middeLine2\",\n      style: getLineStyle(linePosFrom2, linePosTo2, zoom)\n    }), React.createElement(\"div\", {\n      className: prefix(\"line\"),\n      key: \"middeLine3\",\n      style: getLineStyle(linePosFrom3, linePosTo3, zoom)\n    }), React.createElement(\"div\", {\n      className: prefix(\"line\"),\n      key: \"middeLine4\",\n      style: getLineStyle(linePosFrom4, linePosTo4, zoom)\n    })], renderAllDirections(moveable, React), true);\n  },\n  dragControlCondition: function (moveable, e) {\n    if (e.isRequest) {\n      return false;\n    }\n\n    return hasClass(e.inputEvent.target, prefix(\"direction\"));\n  },\n  dragControlStart: function (moveable, e) {\n    var datas = e.datas,\n        inputEvent = e.inputEvent;\n    var target = moveable.props.target;\n    var inputTarget = inputEvent.target;\n    var direction = getDirection(inputTarget);\n\n    if (!direction || !target) {\n      return false;\n    }\n\n    var state = moveable.state;\n    var transformOrigin = state.transformOrigin,\n        is3d = state.is3d,\n        targetTransform = state.targetTransform,\n        targetMatrix = state.targetMatrix,\n        width = state.width,\n        height = state.height,\n        left = state.left,\n        top = state.top;\n    datas.datas = {};\n    datas.targetTransform = targetTransform;\n    datas.warpTargetMatrix = is3d ? targetMatrix : convertDimension(targetMatrix, 3, 4);\n    datas.targetInverseMatrix = ignoreDimension(invert(datas.warpTargetMatrix, 4), 3, 4);\n    datas.direction = direction;\n    datas.left = left;\n    datas.top = top;\n    datas.poses = [[0, 0], [width, 0], [0, height], [width, height]].map(function (p) {\n      return minus(p, transformOrigin);\n    });\n    datas.nextPoses = datas.poses.map(function (_a) {\n      var x = _a[0],\n          y = _a[1];\n      return calculate(datas.warpTargetMatrix, [x, y, 0, 1], 4);\n    });\n    datas.startValue = createIdentityMatrix(4);\n    datas.prevMatrix = createIdentityMatrix(4);\n    datas.absolutePoses = getAbsolutePosesByState(state);\n    datas.posIndexes = getPosIndexesByDirection(direction);\n    setDragStart(moveable, e);\n    setDefaultTransformIndex(e, \"matrix3d\");\n    state.snapRenderInfo = {\n      request: e.isRequest,\n      direction: direction\n    };\n    var params = fillParams(moveable, e, __assign$1({\n      set: function (matrix) {\n        datas.startValue = matrix;\n      }\n    }, fillTransformStartEvent(e)));\n    var result = triggerEvent(moveable, \"onWarpStart\", params);\n\n    if (result !== false) {\n      datas.isWarp = true;\n    }\n\n    return datas.isWarp;\n  },\n  dragControl: function (moveable, e) {\n    var datas = e.datas,\n        isRequest = e.isRequest;\n    var distX = e.distX,\n        distY = e.distY;\n    var targetInverseMatrix = datas.targetInverseMatrix,\n        prevMatrix = datas.prevMatrix,\n        isWarp = datas.isWarp,\n        startValue = datas.startValue,\n        poses = datas.poses,\n        posIndexes = datas.posIndexes,\n        absolutePoses = datas.absolutePoses;\n\n    if (!isWarp) {\n      return false;\n    }\n\n    resolveTransformEvent(e, \"matrix3d\");\n\n    if (hasGuidelines(moveable, \"warpable\")) {\n      var selectedPoses = posIndexes.map(function (index) {\n        return absolutePoses[index];\n      });\n\n      if (selectedPoses.length > 1) {\n        selectedPoses.push([(selectedPoses[0][0] + selectedPoses[1][0]) / 2, (selectedPoses[0][1] + selectedPoses[1][1]) / 2]);\n      }\n\n      var _a = checkMoveableSnapBounds(moveable, isRequest, {\n        horizontal: selectedPoses.map(function (pos) {\n          return pos[1] + distY;\n        }),\n        vertical: selectedPoses.map(function (pos) {\n          return pos[0] + distX;\n        })\n      }),\n          horizontalSnapInfo = _a.horizontal,\n          verticalSnapInfo = _a.vertical;\n\n      distY -= horizontalSnapInfo.offset;\n      distX -= verticalSnapInfo.offset;\n    }\n\n    var dist = getDragDist({\n      datas: datas,\n      distX: distX,\n      distY: distY\n    }, true);\n    var nextPoses = datas.nextPoses.slice();\n    posIndexes.forEach(function (index) {\n      nextPoses[index] = plus(nextPoses[index], dist);\n    });\n\n    if (!NEARBY_POS.every(function (nearByPoses) {\n      return isValidPos(nearByPoses.map(function (i) {\n        return poses[i];\n      }), nearByPoses.map(function (i) {\n        return nextPoses[i];\n      }));\n    })) {\n      return false;\n    }\n\n    var h = createWarpMatrix(poses[0], poses[2], poses[1], poses[3], nextPoses[0], nextPoses[2], nextPoses[1], nextPoses[3]);\n\n    if (!h.length) {\n      return false;\n    } // B * A * M\n\n\n    var afterMatrix = multiply(targetInverseMatrix, h, 4); // B * M * A\n\n    var matrix = getTransfromMatrix(datas, afterMatrix, true);\n    var delta = multiply(invert(prevMatrix, 4), matrix, 4);\n    datas.prevMatrix = matrix;\n    var totalMatrix = multiply(startValue, matrix, 4);\n    var nextTransform = convertTransformFormat(datas, \"matrix3d(\".concat(totalMatrix.join(\", \"), \")\"), \"matrix3d(\".concat(matrix.join(\", \"), \")\"));\n    fillOriginalTransform(e, nextTransform);\n    triggerEvent(moveable, \"onWarp\", fillParams(moveable, e, {\n      delta: delta,\n      matrix: totalMatrix,\n      dist: matrix,\n      multiply: multiply,\n      transform: nextTransform\n    }));\n    return true;\n  },\n  dragControlEnd: function (moveable, e) {\n    var datas = e.datas,\n        isDrag = e.isDrag;\n\n    if (!datas.isWarp) {\n      return false;\n    }\n\n    datas.isWarp = false;\n    triggerEvent(moveable, \"onWarpEnd\", fillEndParams(moveable, e, {}));\n    return isDrag;\n  }\n};\n/**\n * Whether or not target can be warped. (default: false)\n * @name Moveable.Warpable#warpable\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.warpable = true;\n */\n\n/**\n* Set directions to show the control box. (default: [\"n\", \"nw\", \"ne\", \"s\", \"se\", \"sw\", \"e\", \"w\"])\n* @name Moveable.Warpable#renderDirections\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     warpable: true,\n*     renderDirections: [\"n\", \"nw\", \"ne\", \"s\", \"se\", \"sw\", \"e\", \"w\"],\n* });\n*\n* moveable.renderDirections = [\"nw\", \"ne\", \"sw\", \"se\"];\n*/\n\n/**\n* When the warp starts, the warpStart event is called.\n* @memberof Moveable.Warpable\n* @event warpStart\n* @param {Moveable.Warpable.OnWarpStart} - Parameters for the warpStart event\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, { warpable: true });\n* moveable.on(\"warpStart\", ({ target }) => {\n*     console.log(target);\n* });\n*/\n\n/**\n * When warping, the warp event is called.\n * @memberof Moveable.Warpable\n * @event warp\n * @param {Moveable.Warpable.OnWarp} - Parameters for the warp event\n * @example\n * import Moveable from \"moveable\";\n * let matrix = [\n *  1, 0, 0, 0,\n *  0, 1, 0, 0,\n *  0, 0, 1, 0,\n *  0, 0, 0, 1,\n * ];\n * const moveable = new Moveable(document.body, { warpable: true });\n * moveable.on(\"warp\", ({ target, transform, delta, multiply }) => {\n *    // target.style.transform = transform;\n *    matrix = multiply(matrix, delta);\n *    target.style.transform = `matrix3d(${matrix.join(\",\")})`;\n * });\n */\n\n/**\n * When the warp finishes, the warpEnd event is called.\n * @memberof Moveable.Warpable\n * @event warpEnd\n * @param {Moveable.Warpable.OnWarpEnd} - Parameters for the warpEnd event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { warpable: true });\n * moveable.on(\"warpEnd\", ({ target, isDrag }) => {\n *     console.log(target, isDrag);\n * });\n */\n\nvar AREA_PIECES =\n/*#__PURE__*/\nprefix(\"area-pieces\");\nvar AREA_PIECE =\n/*#__PURE__*/\nprefix(\"area-piece\");\nvar AVOID =\n/*#__PURE__*/\nprefix(\"avoid\");\n\nfunction restoreStyle(moveable) {\n  var el = moveable.areaElement;\n\n  if (!el) {\n    return;\n  }\n\n  var _a = moveable.state,\n      width = _a.width,\n      height = _a.height;\n  removeClass(el, AVOID);\n  el.style.cssText += \"left: 0px; top: 0px; width: \".concat(width, \"px; height: \").concat(height, \"px\");\n}\n\nfunction renderPieces(React) {\n  return React.createElement(\"div\", {\n    key: \"area_pieces\",\n    className: AREA_PIECES\n  }, React.createElement(\"div\", {\n    className: AREA_PIECE\n  }), React.createElement(\"div\", {\n    className: AREA_PIECE\n  }), React.createElement(\"div\", {\n    className: AREA_PIECE\n  }), React.createElement(\"div\", {\n    className: AREA_PIECE\n  }));\n}\n\nvar DragArea = {\n  name: \"dragArea\",\n  props: {\n    dragArea: Boolean,\n    passDragArea: Boolean\n  },\n  events: {\n    onClick: \"click\",\n    onClickGroup: \"clickGroup\"\n  },\n  render: function (moveable, React) {\n    var _a = moveable.props,\n        target = _a.target,\n        dragArea = _a.dragArea,\n        groupable = _a.groupable,\n        passDragArea = _a.passDragArea;\n    var _b = moveable.state,\n        width = _b.width,\n        height = _b.height,\n        renderPoses = _b.renderPoses;\n    var className = passDragArea ? prefix(\"area\", \"pass\") : prefix(\"area\");\n\n    if (groupable) {\n      return [React.createElement(\"div\", {\n        key: \"area\",\n        ref: ref(moveable, \"areaElement\"),\n        className: className\n      }), renderPieces(React)];\n    }\n\n    if (!target || !dragArea) {\n      return [];\n    }\n\n    var h = createWarpMatrix([0, 0], [width, 0], [0, height], [width, height], renderPoses[0], renderPoses[1], renderPoses[2], renderPoses[3]);\n    var transform = h.length ? makeMatrixCSS(h, true) : \"none\";\n    return [React.createElement(\"div\", {\n      key: \"area\",\n      ref: ref(moveable, \"areaElement\"),\n      className: className,\n      style: {\n        top: \"0px\",\n        left: \"0px\",\n        width: \"\".concat(width, \"px\"),\n        height: \"\".concat(height, \"px\"),\n        transformOrigin: \"0 0\",\n        transform: transform\n      }\n    }), renderPieces(React)];\n  },\n  dragStart: function (moveable, _a) {\n    var datas = _a.datas,\n        clientX = _a.clientX,\n        clientY = _a.clientY,\n        inputEvent = _a.inputEvent;\n\n    if (!inputEvent) {\n      return false;\n    }\n\n    datas.isDragArea = false;\n    var areaElement = moveable.areaElement;\n    var state = moveable.state;\n    var moveableClientRect = state.moveableClientRect,\n        renderPoses = state.renderPoses,\n        rootMatrix = state.rootMatrix,\n        is3d = state.is3d;\n    var left = moveableClientRect.left,\n        top = moveableClientRect.top;\n\n    var _b = getRect(renderPoses),\n        relativeLeft = _b.left,\n        relativeTop = _b.top,\n        width = _b.width,\n        height = _b.height;\n\n    var n = is3d ? 4 : 3;\n\n    var _c = calculateInversePosition(rootMatrix, [clientX - left, clientY - top], n),\n        posX = _c[0],\n        posY = _c[1];\n\n    posX -= relativeLeft;\n    posY -= relativeTop;\n    var rects = [{\n      left: relativeLeft,\n      top: relativeTop,\n      width: width,\n      height: posY - 10\n    }, {\n      left: relativeLeft,\n      top: relativeTop,\n      width: posX - 10,\n      height: height\n    }, {\n      left: relativeLeft,\n      top: relativeTop + posY + 10,\n      width: width,\n      height: height - posY - 10\n    }, {\n      left: relativeLeft + posX + 10,\n      top: relativeTop,\n      width: width - posX - 10,\n      height: height\n    }];\n    var children = [].slice.call(areaElement.nextElementSibling.children);\n    rects.forEach(function (rect, i) {\n      children[i].style.cssText = \"left: \".concat(rect.left, \"px;top: \").concat(rect.top, \"px; width: \").concat(rect.width, \"px; height: \").concat(rect.height, \"px;\");\n    });\n    addClass(areaElement, AVOID);\n    state.disableNativeEvent = true;\n    return;\n  },\n  drag: function (moveable, _a) {\n    var datas = _a.datas,\n        inputEvent = _a.inputEvent;\n    this.enableNativeEvent(moveable);\n\n    if (!inputEvent) {\n      return false;\n    }\n\n    if (!datas.isDragArea) {\n      datas.isDragArea = true;\n      restoreStyle(moveable);\n    }\n  },\n  dragEnd: function (moveable, e) {\n    this.enableNativeEvent(moveable);\n    var inputEvent = e.inputEvent,\n        datas = e.datas;\n\n    if (!inputEvent) {\n      return false;\n    }\n\n    if (!datas.isDragArea) {\n      restoreStyle(moveable);\n    }\n  },\n  dragGroupStart: function (moveable, e) {\n    return this.dragStart(moveable, e);\n  },\n  dragGroup: function (moveable, e) {\n    return this.drag(moveable, e);\n  },\n  dragGroupEnd: function (moveable, e) {\n    return this.dragEnd(moveable, e);\n  },\n  unset: function (moveable) {\n    restoreStyle(moveable);\n    moveable.state.disableNativeEvent = false;\n  },\n  enableNativeEvent: function (moveable) {\n    var state = moveable.state;\n\n    if (state.disableNativeEvent) {\n      requestAnimationFrame(function () {\n        state.disableNativeEvent = false;\n      });\n    }\n  }\n};\n/**\n * Add an event to the moveable area instead of the target for stopPropagation. (default: false, true in group)\n * @name Moveable#dragArea\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *  dragArea: false,\n * });\n */\n\n/**\n * Set `pointerEvents: none;` css to pass events in dragArea. (default: false)\n * @name Moveable#passDragArea\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *  dragArea: false,\n * });\n */\n\nvar Origin = makeAble(\"origin\", {\n  render: function (moveable, React) {\n    var zoom = moveable.props.zoom;\n    var _a = moveable.state,\n        beforeOrigin = _a.beforeOrigin,\n        rotation = _a.rotation;\n    return [React.createElement(\"div\", {\n      className: prefix(\"control\", \"origin\"),\n      style: getControlTransform(rotation, zoom, beforeOrigin),\n      key: \"beforeOrigin\"\n    })];\n  }\n});\n/**\n * Whether or not the origin controlbox will be visible or not (default: true)\n * @name Moveable#origin\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.origin = true;\n */\n\nfunction getDefaultScrollPosition(e) {\n  var scrollContainer = e.scrollContainer;\n  return [scrollContainer.scrollLeft, scrollContainer.scrollTop];\n}\n/**\n * @namespace Moveable.Scrollable\n * @description Whether or not target can be scrolled to the scroll container (default: false)\n */\n\n\nvar Scrollable = {\n  name: \"scrollable\",\n  canPinch: true,\n  props: {\n    scrollable: Boolean,\n    scrollContainer: Object,\n    scrollThreshold: Number,\n    getScrollPosition: Function\n  },\n  events: {\n    onScroll: \"scroll\",\n    onScrollGroup: \"scrollGroup\"\n  },\n  dragRelation: \"strong\",\n  dragStart: function (moveable, e) {\n    var props = moveable.props;\n    var _a = props.scrollContainer,\n        scrollContainer = _a === void 0 ? moveable.getContainer() : _a;\n    var dragScroll = new DragScroll();\n    var scrollContainerElement = getRefTarget(scrollContainer, true);\n    e.datas.dragScroll = dragScroll;\n    var gestoName = e.isControl ? \"controlGesto\" : \"targetGesto\";\n    var targets = e.targets;\n    dragScroll.on(\"scroll\", function (_a) {\n      var container = _a.container,\n          direction = _a.direction;\n      var params = fillParams(moveable, e, {\n        scrollContainer: container,\n        direction: direction\n      });\n      var eventName = targets ? \"onScrollGroup\" : \"onScroll\";\n\n      if (targets) {\n        params.targets = targets;\n      }\n\n      triggerEvent(moveable, eventName, params);\n    }).on(\"move\", function (_a) {\n      var offsetX = _a.offsetX,\n          offsetY = _a.offsetY;\n      moveable[gestoName].scrollBy(offsetX, offsetY, e.inputEvent, false);\n    });\n    dragScroll.dragStart(e, {\n      container: scrollContainerElement\n    });\n  },\n  checkScroll: function (moveable, e) {\n    var dragScroll = e.datas.dragScroll;\n\n    if (!dragScroll) {\n      return;\n    }\n\n    var _a = moveable.props,\n        _b = _a.scrollContainer,\n        scrollContainer = _b === void 0 ? moveable.getContainer() : _b,\n        _c = _a.scrollThreshold,\n        scrollThreshold = _c === void 0 ? 0 : _c,\n        _d = _a.getScrollPosition,\n        getScrollPosition = _d === void 0 ? getDefaultScrollPosition : _d;\n    dragScroll.drag(e, {\n      container: scrollContainer,\n      threshold: scrollThreshold,\n      getScrollPosition: function (ev) {\n        return getScrollPosition({\n          scrollContainer: ev.container,\n          direction: ev.direction\n        });\n      }\n    });\n    return true;\n  },\n  drag: function (moveable, e) {\n    return this.checkScroll(moveable, e);\n  },\n  dragEnd: function (moveable, e) {\n    e.datas.dragScroll.dragEnd();\n    e.datas.dragScroll = null;\n  },\n  dragControlStart: function (moveable, e) {\n    return this.dragStart(moveable, __assign$1(__assign$1({}, e), {\n      isControl: true\n    }));\n  },\n  dragControl: function (moveable, e) {\n    return this.drag(moveable, e);\n  },\n  dragControlEnd: function (moveable, e) {\n    return this.dragEnd(moveable, e);\n  },\n  dragGroupStart: function (moveable, e) {\n    return this.dragStart(moveable, __assign$1(__assign$1({}, e), {\n      targets: moveable.props.targets\n    }));\n  },\n  dragGroup: function (moveable, e) {\n    return this.drag(moveable, __assign$1(__assign$1({}, e), {\n      targets: moveable.props.targets\n    }));\n  },\n  dragGroupEnd: function (moveable, e) {\n    return this.dragEnd(moveable, __assign$1(__assign$1({}, e), {\n      targets: moveable.props.targets\n    }));\n  },\n  dragGroupControlStart: function (moveable, e) {\n    return this.dragStart(moveable, __assign$1(__assign$1({}, e), {\n      targets: moveable.props.targets,\n      isControl: true\n    }));\n  },\n  dragGroupContro: function (moveable, e) {\n    return this.drag(moveable, __assign$1(__assign$1({}, e), {\n      targets: moveable.props.targets\n    }));\n  },\n  dragGroupControEnd: function (moveable, e) {\n    return this.dragEnd(moveable, __assign$1(__assign$1({}, e), {\n      targets: moveable.props.targets\n    }));\n  }\n};\n/**\n * Whether or not target can be scrolled to the scroll container (default: false)\n * @name Moveable.Scrollable#scrollable\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *   scrollable: true,\n *   scrollContainer: document.body,\n *   scrollThreshold: 0,\n *   getScrollPosition: ({ scrollContainer }) => ([scrollContainer.scrollLeft, scrollContainer.scrollTop]),\n * });\n *\n * moveable.scrollable = true;\n */\n\n/**\n * The container to which scroll is applied (default: container)\n * @name Moveable.Scrollable#scrollContainer\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *   scrollable: true,\n *   scrollContainer: document.body,\n *   scrollThreshold: 0,\n *   getScrollPosition: ({ scrollContainer }) => ([scrollContainer.scrollLeft, scrollContainer.scrollTop]),\n * });\n */\n\n/**\n * Expand the range of the scroll check area. (default: 0)\n * @name Moveable.Scrollable#scrollThreshold\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *   scrollable: true,\n *   scrollContainer: document.body,\n *   scrollThreshold: 0,\n *   getScrollPosition: ({ scrollContainer }) => ([scrollContainer.scrollLeft, scrollContainer.scrollTop]),\n * });\n */\n\n/**\n * Sets a function to get the scroll position. (default: Function)\n * @name Moveable.Scrollable#getScrollPosition\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *   scrollable: true,\n *   scrollContainer: document.body,\n *   scrollThreshold: 0,\n *   getScrollPosition: ({ scrollContainer }) => ([scrollContainer.scrollLeft, scrollContainer.scrollTop]),\n * });\n *\n */\n\n/**\n * When the drag cursor leaves the scrollContainer, the `scroll` event occur to scroll.\n * @memberof Moveable.Scrollable\n * @event scroll\n * @param {Moveable.Scrollable.OnScroll} - Parameters for the `scroll` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: document.querySelector(\".target\"),\n * });\n * moveable.on(\"scroll\", ({ scrollContainer, direction }) => {\n *   scrollContainer.scrollLeft += direction[0] * 10;\n *   scrollContainer.scrollTop += direction[1] * 10;\n * });\n */\n\n/**\n * When the drag cursor leaves the scrollContainer, the `scrollGroup` event occur to scroll in group.\n * @memberof Moveable.Scrollable\n * @event scrollGroup\n * @param {Moveable.Scrollable.OnScrollGroup} - Parameters for the `scrollGroup` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n * });\n * moveable.on(\"scroll\", ({ scrollContainer, direction }) => {\n *   scrollContainer.scrollLeft += direction[0] * 10;\n *   scrollContainer.scrollTop += direction[1] * 10;\n * });\n */\n\nvar Default = {\n  name: \"\",\n  props: {\n    target: Object,\n    dragTarget: Object,\n    container: Object,\n    portalContainer: Object,\n    rootContainer: Object,\n    useResizeObserver: Boolean,\n    zoom: Number,\n    transformOrigin: Array,\n    edge: Boolean,\n    ables: Array,\n    className: String,\n    pinchThreshold: Number,\n    pinchOutside: Boolean,\n    triggerAblesSimultaneously: Boolean,\n    checkInput: Boolean,\n    cspNonce: String,\n    translateZ: Number,\n    hideDefaultLines: Boolean,\n    props: Object\n  },\n  events: {}\n};\nvar Padding = makeAble(\"padding\", {\n  render: function (moveable, React) {\n    var props = moveable.props;\n\n    if (props.dragArea) {\n      return [];\n    }\n\n    var padding = props.padding || {};\n    var _a = padding.left,\n        left = _a === void 0 ? 0 : _a,\n        _b = padding.top,\n        top = _b === void 0 ? 0 : _b,\n        _c = padding.right,\n        right = _c === void 0 ? 0 : _c,\n        _d = padding.bottom,\n        bottom = _d === void 0 ? 0 : _d;\n    var _e = moveable.state,\n        renderPoses = _e.renderPoses,\n        pos1 = _e.pos1,\n        pos2 = _e.pos2,\n        pos3 = _e.pos3,\n        pos4 = _e.pos4;\n    var poses = [pos1, pos2, pos3, pos4];\n    var paddingDirections = [];\n\n    if (left > 0) {\n      paddingDirections.push([0, 2]);\n    }\n\n    if (top > 0) {\n      paddingDirections.push([0, 1]);\n    }\n\n    if (right > 0) {\n      paddingDirections.push([1, 3]);\n    }\n\n    if (bottom > 0) {\n      paddingDirections.push([2, 3]);\n    }\n\n    return paddingDirections.map(function (_a, i) {\n      var dir1 = _a[0],\n          dir2 = _a[1];\n      var paddingPos1 = poses[dir1];\n      var paddingPos2 = poses[dir2];\n      var paddingPos3 = renderPoses[dir1];\n      var paddingPos4 = renderPoses[dir2];\n      var h = createWarpMatrix([0, 0], [100, 0], [0, 100], [100, 100], paddingPos1, paddingPos2, paddingPos3, paddingPos4);\n\n      if (!h.length) {\n        return undefined;\n      }\n\n      return React.createElement(\"div\", {\n        key: \"padding\".concat(i),\n        className: prefix(\"padding\"),\n        style: {\n          transform: makeMatrixCSS(h, true)\n        }\n      });\n    });\n  }\n});\n/**\n * Add padding around the target to increase the drag area.\n * @name Moveable#padding\n * @default null\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *  target: document.querySelector(\".target\"),\n *  padding: { left: 0, top: 0, right: 0, bottom: 0 },\n * });\n * moveable.padding = { left: 10, top: 10, right: 10, bottom: 10 },\n * moveable.updateRect();\n */\n\nvar RADIUS_DIRECTIONS = [\"nw\", \"ne\", \"se\", \"sw\"];\n\nfunction calculateRatio(values, size) {\n  var sumSize = values[0] + values[1];\n  var sumRatio = sumSize > size ? size / sumSize : 1;\n  values[0] *= sumRatio;\n  values[1] = size - values[1] * sumRatio;\n  return values;\n}\n\nvar HORIZONTAL_RADIUS_ORDER = [1, 2, 5, 6];\nvar VERTICAL_RADIUS_ORDER = [0, 3, 4, 7];\nvar HORIZONTAL_RADIUS_DIRECTIONS = [1, -1, -1, 1];\nvar VERTICAL_RADIUS_DIRECTIONS = [1, 1, -1, -1];\n\nfunction getRadiusStyles(poses, controlPoses, isRelative, width, height, left, top, right, bottom) {\n  if (left === void 0) {\n    left = 0;\n  }\n\n  if (top === void 0) {\n    top = 0;\n  }\n\n  if (right === void 0) {\n    right = width;\n  }\n\n  if (bottom === void 0) {\n    bottom = height;\n  }\n\n  var clipStyles = [];\n  var isVertical = false;\n  var raws = poses.map(function (pos, i) {\n    var _a = controlPoses[i],\n        horizontal = _a.horizontal,\n        vertical = _a.vertical;\n\n    if (vertical && !isVertical) {\n      isVertical = true;\n      clipStyles.push(\"/\");\n    }\n\n    if (isVertical) {\n      var rawPos = Math.max(0, vertical === 1 ? pos[1] - top : bottom - pos[1]);\n      clipStyles.push(convertCSSSize(rawPos, height, isRelative));\n      return rawPos;\n    } else {\n      var rawPos = Math.max(0, horizontal === 1 ? pos[0] - left : right - pos[0]);\n      clipStyles.push(convertCSSSize(rawPos, width, isRelative));\n      return rawPos;\n    }\n  });\n  return {\n    styles: clipStyles,\n    raws: raws\n  };\n}\n\nfunction getRadiusRange(controlPoses) {\n  // [start, length]\n  var horizontalRange = [0, 0];\n  var verticalRange = [0, 0];\n  var length = controlPoses.length;\n\n  for (var i = 0; i < length; ++i) {\n    var clipPose = controlPoses[i];\n\n    if (!clipPose.sub) {\n      continue;\n    }\n\n    if (clipPose.horizontal) {\n      if (horizontalRange[1] === 0) {\n        horizontalRange[0] = i;\n      }\n\n      horizontalRange[1] = i - horizontalRange[0] + 1;\n      verticalRange[0] = i + 1;\n    }\n\n    if (clipPose.vertical) {\n      if (verticalRange[1] === 0) {\n        verticalRange[0] = i;\n      }\n\n      verticalRange[1] = i - verticalRange[0] + 1;\n    }\n  }\n\n  return {\n    horizontalRange: horizontalRange,\n    verticalRange: verticalRange\n  };\n}\n\nfunction getRadiusValues(values, width, height, left, top, minCounts) {\n  var _a, _b, _c, _d;\n\n  if (minCounts === void 0) {\n    minCounts = [0, 0];\n  }\n\n  var splitIndex = values.indexOf(\"/\");\n  var splitLength = (splitIndex > -1 ? values.slice(0, splitIndex) : values).length;\n  var horizontalValues = values.slice(0, splitLength);\n  var verticalValues = values.slice(splitLength + 1);\n  var _e = horizontalValues[0],\n      nwValue = _e === void 0 ? \"0px\" : _e,\n      _f = horizontalValues[1],\n      neValue = _f === void 0 ? nwValue : _f,\n      _g = horizontalValues[2],\n      seValue = _g === void 0 ? nwValue : _g,\n      _h = horizontalValues[3],\n      swValue = _h === void 0 ? neValue : _h;\n  var _j = verticalValues[0],\n      wnValue = _j === void 0 ? nwValue : _j,\n      _k = verticalValues[1],\n      enValue = _k === void 0 ? wnValue : _k,\n      _l = verticalValues[2],\n      esValue = _l === void 0 ? wnValue : _l,\n      _m = verticalValues[3],\n      wsValue = _m === void 0 ? enValue : _m;\n  var horizontalRawPoses = [nwValue, neValue, seValue, swValue].map(function (pos) {\n    return convertUnitSize(pos, width);\n  });\n  var verticalRawPoses = [wnValue, enValue, esValue, wsValue].map(function (pos) {\n    return convertUnitSize(pos, height);\n  });\n  var horizontalPoses = horizontalRawPoses.slice();\n  var verticalPoses = verticalRawPoses.slice();\n  _a = calculateRatio([horizontalPoses[0], horizontalPoses[1]], width), horizontalPoses[0] = _a[0], horizontalPoses[1] = _a[1];\n  _b = calculateRatio([horizontalPoses[3], horizontalPoses[2]], width), horizontalPoses[3] = _b[0], horizontalPoses[2] = _b[1];\n  _c = calculateRatio([verticalPoses[0], verticalPoses[3]], height), verticalPoses[0] = _c[0], verticalPoses[3] = _c[1];\n  _d = calculateRatio([verticalPoses[1], verticalPoses[2]], height), verticalPoses[1] = _d[0], verticalPoses[2] = _d[1];\n  var nextHorizontalPoses = horizontalPoses.slice(0, Math.max(minCounts[0], horizontalValues.length));\n  var nextVerticalPoses = verticalPoses.slice(0, Math.max(minCounts[1], verticalValues.length));\n  return __spreadArray(__spreadArray([], nextHorizontalPoses.map(function (pos, i) {\n    var direction = RADIUS_DIRECTIONS[i];\n    return {\n      horizontal: HORIZONTAL_RADIUS_DIRECTIONS[i],\n      vertical: 0,\n      pos: [left + pos, top + (VERTICAL_RADIUS_DIRECTIONS[i] === -1 ? height : 0)],\n      sub: true,\n      raw: horizontalRawPoses[i],\n      direction: direction\n    };\n  }), true), nextVerticalPoses.map(function (pos, i) {\n    var direction = RADIUS_DIRECTIONS[i];\n    return {\n      horizontal: 0,\n      vertical: VERTICAL_RADIUS_DIRECTIONS[i],\n      pos: [left + (HORIZONTAL_RADIUS_DIRECTIONS[i] === -1 ? width : 0), top + pos],\n      sub: true,\n      raw: verticalRawPoses[i],\n      direction: direction\n    };\n  }), true);\n}\n\nfunction removeRadiusPos(controlPoses, poses, index, startIndex, length) {\n  if (length === void 0) {\n    length = poses.length;\n  }\n\n  var _a = getRadiusRange(controlPoses.slice(startIndex)),\n      horizontalRange = _a.horizontalRange,\n      verticalRange = _a.verticalRange;\n\n  var radiuslIndex = index - startIndex;\n  var deleteCount = 0;\n\n  if (radiuslIndex === 0) {\n    deleteCount = length;\n  } else if (radiuslIndex > 0 && radiuslIndex < horizontalRange[1]) {\n    deleteCount = horizontalRange[1] - radiuslIndex;\n  } else if (radiuslIndex >= verticalRange[0]) {\n    deleteCount = verticalRange[0] + verticalRange[1] - radiuslIndex;\n  } else {\n    return;\n  }\n\n  controlPoses.splice(index, deleteCount);\n  poses.splice(index, deleteCount);\n}\n\nfunction addRadiusPos(controlPoses, poses, startIndex, horizontalIndex, verticalIndex, distX, distY, right, bottom, left, top) {\n  if (left === void 0) {\n    left = 0;\n  }\n\n  if (top === void 0) {\n    top = 0;\n  }\n\n  var _a = getRadiusRange(controlPoses.slice(startIndex)),\n      horizontalRange = _a.horizontalRange,\n      verticalRange = _a.verticalRange;\n\n  if (horizontalIndex > -1) {\n    var radiusX = HORIZONTAL_RADIUS_DIRECTIONS[horizontalIndex] === 1 ? distX - left : right - distX;\n\n    for (var i = horizontalRange[1]; i <= horizontalIndex; ++i) {\n      var y = VERTICAL_RADIUS_DIRECTIONS[i] === 1 ? top : bottom;\n      var x = 0;\n\n      if (horizontalIndex === i) {\n        x = distX;\n      } else if (i === 0) {\n        x = left + radiusX;\n      } else if (HORIZONTAL_RADIUS_DIRECTIONS[i] === -1) {\n        x = right - (poses[startIndex][0] - left);\n      }\n\n      controlPoses.splice(startIndex + i, 0, {\n        horizontal: HORIZONTAL_RADIUS_DIRECTIONS[i],\n        vertical: 0,\n        pos: [x, y]\n      });\n      poses.splice(startIndex + i, 0, [x, y]);\n\n      if (i === 0) {\n        break;\n      }\n    }\n  } else if (verticalIndex > -1) {\n    var radiusY = VERTICAL_RADIUS_DIRECTIONS[verticalIndex] === 1 ? distY - top : bottom - distY;\n\n    if (horizontalRange[1] === 0 && verticalRange[1] === 0) {\n      var pos = [left + radiusY, top];\n      controlPoses.push({\n        horizontal: HORIZONTAL_RADIUS_DIRECTIONS[0],\n        vertical: 0,\n        pos: pos\n      });\n      poses.push(pos);\n    }\n\n    var startVerticalIndex = verticalRange[0];\n\n    for (var i = verticalRange[1]; i <= verticalIndex; ++i) {\n      var x = HORIZONTAL_RADIUS_DIRECTIONS[i] === 1 ? left : right;\n      var y = 0;\n\n      if (verticalIndex === i) {\n        y = distY;\n      } else if (i === 0) {\n        y = top + radiusY;\n      } else if (VERTICAL_RADIUS_DIRECTIONS[i] === 1) {\n        y = poses[startIndex + startVerticalIndex][1];\n      } else if (VERTICAL_RADIUS_DIRECTIONS[i] === -1) {\n        y = bottom - (poses[startIndex + startVerticalIndex][1] - top);\n      }\n\n      controlPoses.push({\n        horizontal: 0,\n        vertical: VERTICAL_RADIUS_DIRECTIONS[i],\n        pos: [x, y]\n      });\n      poses.push([x, y]);\n\n      if (i === 0) {\n        break;\n      }\n    }\n  }\n}\n\nfunction splitRadiusPoses(controlPoses, raws) {\n  if (raws === void 0) {\n    raws = controlPoses.map(function (pos) {\n      return pos.raw;\n    });\n  }\n\n  var horizontals = controlPoses.map(function (pos, i) {\n    return pos.horizontal ? raws[i] : null;\n  }).filter(function (pos) {\n    return pos != null;\n  });\n  var verticals = controlPoses.map(function (pos, i) {\n    return pos.vertical ? raws[i] : null;\n  }).filter(function (pos) {\n    return pos != null;\n  });\n  return {\n    horizontals: horizontals,\n    verticals: verticals\n  };\n}\n\nvar CLIP_DIRECTIONS = [[0, -1, \"n\"], [1, 0, \"e\"]];\nvar CLIP_RECT_DIRECTIONS = [[-1, -1, \"nw\"], [0, -1, \"n\"], [1, -1, \"ne\"], [1, 0, \"e\"], [1, 1, \"se\"], [0, 1, \"s\"], [-1, 1, \"sw\"], [-1, 0, \"w\"]]; // 1 2 5 6 0 3 4 7\n// 0 1 2 3 4 5 6 7\n\nfunction getClipStyles(moveable, clipPath, poses) {\n  var clipRelative = moveable.props.clipRelative;\n  var _a = moveable.state,\n      width = _a.width,\n      height = _a.height;\n  var _b = clipPath,\n      clipType = _b.type,\n      clipPoses = _b.poses;\n  var isRect = clipType === \"rect\";\n  var isCircle = clipType === \"circle\";\n\n  if (clipType === \"polygon\") {\n    return poses.map(function (pos) {\n      return \"\".concat(convertCSSSize(pos[0], width, clipRelative), \" \").concat(convertCSSSize(pos[1], height, clipRelative));\n    });\n  } else if (isRect || clipType === \"inset\") {\n    var top = poses[1][1];\n    var right = poses[3][0];\n    var left = poses[7][0];\n    var bottom = poses[5][1];\n\n    if (isRect) {\n      return [top, right, bottom, left].map(function (pos) {\n        return \"\".concat(pos, \"px\");\n      });\n    }\n\n    var clipStyles = [top, width - right, height - bottom, left].map(function (pos, i) {\n      return convertCSSSize(pos, i % 2 ? width : height, clipRelative);\n    });\n\n    if (poses.length > 8) {\n      var _c = minus(poses[4], poses[0]),\n          subWidth = _c[0],\n          subHeight = _c[1];\n\n      clipStyles.push.apply(clipStyles, __spreadArray([\"round\"], getRadiusStyles(poses.slice(8), clipPoses.slice(8), clipRelative, subWidth, subHeight, left, top, right, bottom).styles, false));\n    }\n\n    return clipStyles;\n  } else if (isCircle || clipType === \"ellipse\") {\n    var center = poses[0];\n    var ry = convertCSSSize(Math.abs(poses[1][1] - center[1]), isCircle ? Math.sqrt((width * width + height * height) / 2) : height, clipRelative);\n    var clipStyles = isCircle ? [ry] : [convertCSSSize(Math.abs(poses[2][0] - center[0]), width, clipRelative), ry];\n    clipStyles.push(\"at\", convertCSSSize(center[0], width, clipRelative), convertCSSSize(center[1], height, clipRelative));\n    return clipStyles;\n  }\n}\n\nfunction getRectPoses(top, right, bottom, left) {\n  var xs = [left, (left + right) / 2, right];\n  var ys = [top, (top + bottom) / 2, bottom];\n  return CLIP_RECT_DIRECTIONS.map(function (_a) {\n    var dirx = _a[0],\n        diry = _a[1],\n        dir = _a[2];\n    var x = xs[dirx + 1];\n    var y = ys[diry + 1];\n    return {\n      vertical: Math.abs(diry),\n      horizontal: Math.abs(dirx),\n      direction: dir,\n      pos: [x, y]\n    };\n  });\n}\n\nfunction getClipPath(target, width, height, defaultClip, customClip) {\n  var _a, _b, _c, _d, _e, _f, _g;\n\n  var clipText = customClip;\n\n  if (!clipText) {\n    var style = getComputedStyle(target);\n    var clipPath = style.clipPath;\n    clipText = clipPath !== \"none\" ? clipPath : style.clip;\n  }\n\n  if (!clipText || clipText === \"none\" || clipText === \"auto\") {\n    clipText = defaultClip;\n\n    if (!clipText) {\n      return;\n    }\n  }\n\n  var _h = splitBracket(clipText),\n      _j = _h.prefix,\n      clipPrefix = _j === void 0 ? clipText : _j,\n      _k = _h.value,\n      value = _k === void 0 ? \"\" : _k;\n\n  var isCircle = clipPrefix === \"circle\";\n  var splitter = \" \";\n\n  if (clipPrefix === \"polygon\") {\n    var values = splitComma(value || \"0% 0%, 100% 0%, 100% 100%, 0% 100%\");\n    splitter = \",\";\n    var poses = values.map(function (pos) {\n      var _a = pos.split(\" \"),\n          xPos = _a[0],\n          yPos = _a[1];\n\n      return {\n        vertical: 1,\n        horizontal: 1,\n        pos: [convertUnitSize(xPos, width), convertUnitSize(yPos, height)]\n      };\n    });\n    return {\n      type: clipPrefix,\n      clipText: clipText,\n      poses: poses,\n      splitter: splitter\n    };\n  } else if (isCircle || clipPrefix === \"ellipse\") {\n    var xPos = \"\";\n    var yPos = \"\";\n    var radiusX_1 = 0;\n    var radiusY_1 = 0;\n    var values = splitSpace(value);\n\n    if (isCircle) {\n      var radius = \"\";\n      _a = values[0], radius = _a === void 0 ? \"50%\" : _a, _b = values[2], xPos = _b === void 0 ? \"50%\" : _b, _c = values[3], yPos = _c === void 0 ? \"50%\" : _c;\n      radiusX_1 = convertUnitSize(radius, Math.sqrt((width * width + height * height) / 2));\n      radiusY_1 = radiusX_1;\n    } else {\n      var xRadius = \"\";\n      var yRadius = \"\";\n      _d = values[0], xRadius = _d === void 0 ? \"50%\" : _d, _e = values[1], yRadius = _e === void 0 ? \"50%\" : _e, _f = values[3], xPos = _f === void 0 ? \"50%\" : _f, _g = values[4], yPos = _g === void 0 ? \"50%\" : _g;\n      radiusX_1 = convertUnitSize(xRadius, width);\n      radiusY_1 = convertUnitSize(yRadius, height);\n    }\n\n    var centerPos_1 = [convertUnitSize(xPos, width), convertUnitSize(yPos, height)];\n\n    var poses = __spreadArray([{\n      vertical: 1,\n      horizontal: 1,\n      pos: centerPos_1,\n      direction: \"nesw\"\n    }], CLIP_DIRECTIONS.slice(0, isCircle ? 1 : 2).map(function (dir) {\n      return {\n        vertical: Math.abs(dir[1]),\n        horizontal: dir[0],\n        direction: dir[2],\n        sub: true,\n        pos: [centerPos_1[0] + dir[0] * radiusX_1, centerPos_1[1] + dir[1] * radiusY_1]\n      };\n    }), true);\n\n    return {\n      type: clipPrefix,\n      clipText: clipText,\n      radiusX: radiusX_1,\n      radiusY: radiusY_1,\n      left: centerPos_1[0] - radiusX_1,\n      top: centerPos_1[1] - radiusY_1,\n      poses: poses,\n      splitter: splitter\n    };\n  } else if (clipPrefix === \"inset\") {\n    var values = splitSpace(value || \"0 0 0 0\");\n    var roundIndex = values.indexOf(\"round\");\n    var rectLength = (roundIndex > -1 ? values.slice(0, roundIndex) : values).length;\n    var radiusValues = values.slice(rectLength + 1);\n\n    var _l = values.slice(0, rectLength),\n        topValue = _l[0],\n        _m = _l[1],\n        rightValue = _m === void 0 ? topValue : _m,\n        _o = _l[2],\n        bottomValue = _o === void 0 ? topValue : _o,\n        _p = _l[3],\n        leftValue = _p === void 0 ? rightValue : _p;\n\n    var _q = [topValue, bottomValue].map(function (pos) {\n      return convertUnitSize(pos, height);\n    }),\n        top = _q[0],\n        bottom = _q[1];\n\n    var _r = [leftValue, rightValue].map(function (pos) {\n      return convertUnitSize(pos, width);\n    }),\n        left = _r[0],\n        right = _r[1];\n\n    var nextRight = width - right;\n    var nextBottom = height - bottom;\n    var radiusPoses = getRadiusValues(radiusValues, nextRight - left, nextBottom - top, left, top);\n\n    var poses = __spreadArray(__spreadArray([], getRectPoses(top, nextRight, nextBottom, left), true), radiusPoses, true);\n\n    return {\n      type: \"inset\",\n      clipText: clipText,\n      poses: poses,\n      top: top,\n      left: left,\n      right: nextRight,\n      bottom: nextBottom,\n      radius: radiusValues,\n      splitter: splitter\n    };\n  } else if (clipPrefix === \"rect\") {\n    // top right bottom left\n    var values = splitComma(value || \"0px, \".concat(width, \"px, \").concat(height, \"px, 0px\"));\n    splitter = \",\";\n\n    var _s = values.map(function (pos) {\n      var posValue = splitUnit(pos).value;\n      return posValue;\n    }),\n        top = _s[0],\n        right = _s[1],\n        bottom = _s[2],\n        left = _s[3];\n\n    var poses = getRectPoses(top, right, bottom, left);\n    return {\n      type: \"rect\",\n      clipText: clipText,\n      poses: poses,\n      top: top,\n      right: right,\n      bottom: bottom,\n      left: left,\n      values: values,\n      splitter: splitter\n    };\n  }\n\n  return;\n}\n\nfunction addClipPath(moveable, e) {\n  var _a = calculatePointerDist(moveable, e),\n      distX = _a[0],\n      distY = _a[1];\n\n  var _b = e.datas,\n      clipPath = _b.clipPath,\n      index = _b.index;\n  var _c = clipPath,\n      clipType = _c.type,\n      clipPoses = _c.poses,\n      splitter = _c.splitter;\n  var poses = clipPoses.map(function (pos) {\n    return pos.pos;\n  });\n\n  if (clipType === \"polygon\") {\n    poses.splice(index, 0, [distX, distY]);\n  } else if (clipType === \"inset\") {\n    var horizontalIndex = HORIZONTAL_RADIUS_ORDER.indexOf(index);\n    var verticalIndex = VERTICAL_RADIUS_ORDER.indexOf(index);\n    var length = clipPoses.length;\n    addRadiusPos(clipPoses, poses, 8, horizontalIndex, verticalIndex, distX, distY, poses[4][0], poses[4][1], poses[0][0], poses[0][1]);\n\n    if (length === clipPoses.length) {\n      return;\n    }\n  } else {\n    return;\n  }\n\n  var clipStyles = getClipStyles(moveable, clipPath, poses);\n  triggerEvent(moveable, \"onClip\", fillParams(moveable, e, {\n    clipEventType: \"added\",\n    clipType: clipType,\n    poses: poses,\n    clipStyles: clipStyles,\n    clipStyle: \"\".concat(clipType, \"(\").concat(clipStyles.join(splitter), \")\"),\n    distX: 0,\n    distY: 0\n  }));\n}\n\nfunction removeClipPath(moveable, e) {\n  var _a = e.datas,\n      clipPath = _a.clipPath,\n      index = _a.index;\n  var _b = clipPath,\n      clipType = _b.type,\n      clipPoses = _b.poses,\n      splitter = _b.splitter;\n  var poses = clipPoses.map(function (pos) {\n    return pos.pos;\n  });\n  var length = poses.length;\n\n  if (clipType === \"polygon\") {\n    clipPoses.splice(index, 1);\n    poses.splice(index, 1);\n  } else if (clipType === \"inset\") {\n    if (index < 8) {\n      return;\n    }\n\n    removeRadiusPos(clipPoses, poses, index, 8, length);\n\n    if (length === clipPoses.length) {\n      return;\n    }\n  } else {\n    return;\n  }\n\n  var clipStyles = getClipStyles(moveable, clipPath, poses);\n  triggerEvent(moveable, \"onClip\", fillParams(moveable, e, {\n    clipEventType: \"removed\",\n    clipType: clipType,\n    poses: poses,\n    clipStyles: clipStyles,\n    clipStyle: \"\".concat(clipType, \"(\").concat(clipStyles.join(splitter), \")\"),\n    distX: 0,\n    distY: 0\n  }));\n}\n/**\n * @namespace Moveable.Clippable\n * @description Whether to clip the target.\n */\n\n\nvar Clippable = {\n  name: \"clippable\",\n  props: {\n    clippable: Boolean,\n    defaultClipPath: String,\n    customClipPath: String,\n    clipRelative: Boolean,\n    clipArea: Boolean,\n    dragWithClip: Boolean,\n    clipTargetBounds: Boolean,\n    clipVerticalGuidelines: Array,\n    clipHorizontalGuidelines: Array,\n    clipSnapThreshold: Boolean\n  },\n  events: {\n    onClipStart: \"clipStart\",\n    onClip: \"clip\",\n    onClipEnd: \"clipEnd\"\n  },\n  css: [\".control.clip-control {\\n    background: #6d6;\\n    cursor: pointer;\\n}\\n.control.clip-control.clip-radius {\\n    background: #d66;\\n}\\n.line.clip-line {\\n    background: #6e6;\\n    cursor: move;\\n    z-index: 1;\\n}\\n.clip-area {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n}\\n.clip-ellipse {\\n    position: absolute;\\n    cursor: move;\\n    border: 1px solid #6d6;\\n    border: var(--zoompx) solid #6d6;\\n    border-radius: 50%;\\n    transform-origin: 0px 0px;\\n}\", \":host {\\n    --bounds-color: #d66;\\n}\", \".guideline {\\n    pointer-events: none;\\n    z-index: 2;\\n}\", \".line.guideline.bounds {\\n    background: #d66;\\n    background: var(--bounds-color);\\n}\"],\n  render: function (moveable, React) {\n    var _a = moveable.props,\n        customClipPath = _a.customClipPath,\n        defaultClipPath = _a.defaultClipPath,\n        clipArea = _a.clipArea,\n        zoom = _a.zoom;\n    var _b = moveable.state,\n        target = _b.target,\n        width = _b.width,\n        height = _b.height,\n        allMatrix = _b.allMatrix,\n        is3d = _b.is3d,\n        left = _b.left,\n        top = _b.top,\n        pos1 = _b.pos1,\n        pos2 = _b.pos2,\n        pos3 = _b.pos3,\n        pos4 = _b.pos4,\n        clipPathState = _b.clipPathState,\n        snapBoundInfos = _b.snapBoundInfos,\n        rotationRad = _b.rotation;\n\n    if (!target) {\n      return [];\n    }\n\n    var clipPath = getClipPath(target, width, height, defaultClipPath || \"inset\", clipPathState || customClipPath);\n\n    if (!clipPath) {\n      return [];\n    }\n\n    var n = is3d ? 4 : 3;\n    var type = clipPath.type;\n    var clipPoses = clipPath.poses;\n    var poses = clipPoses.map(function (pos) {\n      // return [x, y];\n      var calculatedPos = calculatePosition(allMatrix, pos.pos, n);\n      return [calculatedPos[0] - left, calculatedPos[1] - top];\n    });\n    var controls = [];\n    var lines = [];\n    var isRect = type === \"rect\";\n    var isInset = type === \"inset\";\n    var isPolygon = type === \"polygon\";\n\n    if (isRect || isInset || isPolygon) {\n      var linePoses_1 = isInset ? poses.slice(0, 8) : poses;\n      lines = linePoses_1.map(function (to, i) {\n        var from = i === 0 ? linePoses_1[linePoses_1.length - 1] : linePoses_1[i - 1];\n        var rad = getRad(from, to);\n        var dist = getDiagonalSize(from, to);\n        return React.createElement(\"div\", {\n          key: \"clipLine\".concat(i),\n          className: prefix(\"line\", \"clip-line\", \"snap-control\"),\n          \"data-clip-index\": i,\n          style: {\n            width: \"\".concat(dist, \"px\"),\n            transform: \"translate(\".concat(from[0], \"px, \").concat(from[1], \"px) rotate(\").concat(rad, \"rad) scaleY(\").concat(zoom, \")\")\n          }\n        });\n      });\n    }\n\n    controls = poses.map(function (pos, i) {\n      return React.createElement(\"div\", {\n        key: \"clipControl\".concat(i),\n        className: prefix(\"control\", \"clip-control\", \"snap-control\"),\n        \"data-clip-index\": i,\n        style: {\n          transform: \"translate(\".concat(pos[0], \"px, \").concat(pos[1], \"px) rotate(\").concat(rotationRad, \"rad) scale(\").concat(zoom, \")\")\n        }\n      });\n    });\n\n    if (isInset) {\n      controls.push.apply(controls, poses.slice(8).map(function (pos, i) {\n        return React.createElement(\"div\", {\n          key: \"clipRadiusControl\".concat(i),\n          className: prefix(\"control\", \"clip-control\", \"clip-radius\", \"snap-control\"),\n          \"data-clip-index\": 8 + i,\n          style: {\n            transform: \"translate(\".concat(pos[0], \"px, \").concat(pos[1], \"px) rotate(\").concat(rotationRad, \"rad) scale(\").concat(zoom, \")\")\n          }\n        });\n      }));\n    }\n\n    if (type === \"circle\" || type === \"ellipse\") {\n      var clipLeft = clipPath.left,\n          clipTop = clipPath.top,\n          radiusX = clipPath.radiusX,\n          radiusY = clipPath.radiusY;\n\n      var _c = minus(calculatePosition(allMatrix, [clipLeft, clipTop], n), calculatePosition(allMatrix, [0, 0], n)),\n          distLeft = _c[0],\n          distTop = _c[1];\n\n      var ellipseClipPath = \"none\";\n\n      if (!clipArea) {\n        var piece = Math.max(10, radiusX / 5, radiusY / 5);\n        var areaPoses = [];\n\n        for (var i = 0; i <= piece; ++i) {\n          var rad = Math.PI * 2 / piece * i;\n          areaPoses.push([radiusX + (radiusX - zoom) * Math.cos(rad), radiusY + (radiusY - zoom) * Math.sin(rad)]);\n        }\n\n        areaPoses.push([radiusX, -2]);\n        areaPoses.push([-2, -2]);\n        areaPoses.push([-2, radiusY * 2 + 2]);\n        areaPoses.push([radiusX * 2 + 2, radiusY * 2 + 2]);\n        areaPoses.push([radiusX * 2 + 2, -2]);\n        areaPoses.push([radiusX, -2]);\n        ellipseClipPath = \"polygon(\".concat(areaPoses.map(function (pos) {\n          return \"\".concat(pos[0], \"px \").concat(pos[1], \"px\");\n        }).join(\", \"), \")\");\n      }\n\n      controls.push(React.createElement(\"div\", {\n        key: \"clipEllipse\",\n        className: prefix(\"clip-ellipse\", \"snap-control\"),\n        style: {\n          width: \"\".concat(radiusX * 2, \"px\"),\n          height: \"\".concat(radiusY * 2, \"px\"),\n          clipPath: ellipseClipPath,\n          transform: \"translate(\".concat(-left + distLeft, \"px, \").concat(-top + distTop, \"px) \").concat(makeMatrixCSS(allMatrix))\n        }\n      }));\n    }\n\n    if (clipArea) {\n      var _d = getRect(__spreadArray([pos1, pos2, pos3, pos4], poses, true)),\n          allWidth = _d.width,\n          allHeight = _d.height,\n          allLeft_1 = _d.left,\n          allTop_1 = _d.top;\n\n      if (isPolygon || isRect || isInset) {\n        var areaPoses = isInset ? poses.slice(0, 8) : poses;\n        controls.push(React.createElement(\"div\", {\n          key: \"clipArea\",\n          className: prefix(\"clip-area\", \"snap-control\"),\n          style: {\n            width: \"\".concat(allWidth, \"px\"),\n            height: \"\".concat(allHeight, \"px\"),\n            transform: \"translate(\".concat(allLeft_1, \"px, \").concat(allTop_1, \"px)\"),\n            clipPath: \"polygon(\".concat(areaPoses.map(function (pos) {\n              return \"\".concat(pos[0] - allLeft_1, \"px \").concat(pos[1] - allTop_1, \"px\");\n            }).join(\", \"), \")\")\n          }\n        }));\n      }\n    }\n\n    if (snapBoundInfos) {\n      [\"vertical\", \"horizontal\"].forEach(function (directionType) {\n        var info = snapBoundInfos[directionType];\n        var isHorizontal = directionType === \"horizontal\";\n\n        if (info.isSnap) {\n          lines.push.apply(lines, info.snap.posInfos.map(function (_a, i) {\n            var pos = _a.pos;\n            var snapPos1 = minus(calculatePosition(allMatrix, isHorizontal ? [0, pos] : [pos, 0], n), [left, top]);\n            var snapPos2 = minus(calculatePosition(allMatrix, isHorizontal ? [width, pos] : [pos, height], n), [left, top]);\n            return renderLine(React, \"\", snapPos1, snapPos2, zoom, \"clip\".concat(directionType, \"snap\").concat(i), \"guideline\");\n          }));\n        }\n\n        if (info.isBound) {\n          lines.push.apply(lines, info.bounds.map(function (_a, i) {\n            var pos = _a.pos;\n            var snapPos1 = minus(calculatePosition(allMatrix, isHorizontal ? [0, pos] : [pos, 0], n), [left, top]);\n            var snapPos2 = minus(calculatePosition(allMatrix, isHorizontal ? [width, pos] : [pos, height], n), [left, top]);\n            return renderLine(React, \"\", snapPos1, snapPos2, zoom, \"clip\".concat(directionType, \"bounds\").concat(i), \"guideline\", \"bounds\", \"bold\");\n          }));\n        }\n      });\n    }\n\n    return __spreadArray(__spreadArray([], controls, true), lines, true);\n  },\n  dragControlCondition: function (moveable, e) {\n    return e.inputEvent && (e.inputEvent.target.getAttribute(\"class\") || \"\").indexOf(\"clip\") > -1;\n  },\n  dragStart: function (moveable, e) {\n    var props = moveable.props;\n    var _a = props.dragWithClip,\n        dragWithClip = _a === void 0 ? true : _a;\n\n    if (dragWithClip) {\n      return false;\n    }\n\n    return this.dragControlStart(moveable, e);\n  },\n  drag: function (moveable, e) {\n    return this.dragControl(moveable, e);\n  },\n  dragEnd: function (moveable, e) {\n    return this.dragControlEnd(moveable, e);\n  },\n  dragControlStart: function (moveable, e) {\n    var state = moveable.state;\n    var _a = moveable.props,\n        defaultClipPath = _a.defaultClipPath,\n        customClipPath = _a.customClipPath;\n    var target = state.target,\n        width = state.width,\n        height = state.height;\n    var inputTarget = e.inputEvent ? e.inputEvent.target : null;\n    var className = inputTarget && inputTarget.getAttribute(\"class\") || \"\";\n    var datas = e.datas;\n    var clipPath = getClipPath(target, width, height, defaultClipPath || \"inset\", customClipPath);\n\n    if (!clipPath) {\n      return false;\n    }\n\n    var clipText = clipPath.clipText,\n        type = clipPath.type,\n        poses = clipPath.poses;\n    var result = triggerEvent(moveable, \"onClipStart\", fillParams(moveable, e, {\n      clipType: type,\n      clipStyle: clipText,\n      poses: poses.map(function (pos) {\n        return pos.pos;\n      })\n    }));\n\n    if (result === false) {\n      datas.isClipStart = false;\n      return false;\n    }\n\n    datas.isControl = className && className.indexOf(\"clip-control\") > -1;\n    datas.isLine = className.indexOf(\"clip-line\") > -1;\n    datas.isArea = className.indexOf(\"clip-area\") > -1 || className.indexOf(\"clip-ellipse\") > -1;\n    datas.index = inputTarget ? parseInt(inputTarget.getAttribute(\"data-clip-index\"), 10) : -1;\n    datas.clipPath = clipPath;\n    datas.isClipStart = true;\n    state.clipPathState = clipText;\n    setDragStart(moveable, e);\n    return true;\n  },\n  dragControl: function (moveable, e) {\n    var _a;\n\n    var datas = e.datas,\n        originalDatas = e.originalDatas;\n\n    if (!datas.isClipStart) {\n      return false;\n    }\n\n    var _b = datas,\n        isControl = _b.isControl,\n        isLine = _b.isLine,\n        isArea = _b.isArea,\n        index = _b.index,\n        clipPath = _b.clipPath;\n\n    if (!clipPath) {\n      return false;\n    }\n\n    var _c = getDragDist(e),\n        distX = _c[0],\n        distY = _c[1];\n\n    var props = moveable.props;\n    var state = moveable.state;\n    var width = state.width,\n        height = state.height;\n    var isDragWithTarget = !isArea && !isControl && !isLine;\n    var clipType = clipPath.type,\n        clipPoses = clipPath.poses,\n        splitter = clipPath.splitter;\n    var poses = clipPoses.map(function (pos) {\n      return pos.pos;\n    });\n\n    if (isDragWithTarget) {\n      distX = -distX;\n      distY = -distY;\n    }\n\n    var isAll = !isControl || clipPoses[index].direction === \"nesw\";\n    var isRect = clipType === \"inset\" || clipType === \"rect\";\n    var dists = clipPoses.map(function () {\n      return [0, 0];\n    });\n\n    if (isControl && !isAll) {\n      var _d = clipPoses[index],\n          horizontal = _d.horizontal,\n          vertical = _d.vertical;\n      var dist = [distX * Math.abs(horizontal), distY * Math.abs(vertical)];\n      dists = moveControlPos(clipPoses, index, dist, isRect);\n    } else if (isAll) {\n      dists = poses.map(function () {\n        return [distX, distY];\n      });\n    }\n\n    var nextPoses = poses.map(function (pos, i) {\n      return plus(pos, dists[i]);\n    });\n\n    var guidePoses = __spreadArray([], nextPoses, true);\n\n    state.snapBoundInfos = null;\n    var isCircle = clipPath.type === \"circle\";\n    var isEllipse = clipPath.type === \"ellipse\";\n\n    if (isCircle || isEllipse) {\n      var guideRect = getRect(nextPoses);\n      var ry = Math.abs(guideRect.bottom - guideRect.top);\n      var rx = Math.abs(isEllipse ? guideRect.right - guideRect.left : ry);\n      var bottom = nextPoses[0][1] + ry;\n      var left = nextPoses[0][0] - rx;\n      var right = nextPoses[0][0] + rx; // right\n\n      if (isCircle) {\n        guidePoses.push([right, guideRect.bottom]);\n        dists.push([1, 0]);\n      } // bottom\n\n\n      guidePoses.push([guideRect.left, bottom]);\n      dists.push([0, 1]); // left\n\n      guidePoses.push([left, guideRect.bottom]);\n      dists.push([1, 0]);\n    }\n\n    var guidelines = getDefaultGuidelines((props.clipHorizontalGuidelines || []).map(function (v) {\n      return convertUnitSize(\"\".concat(v), height);\n    }), (props.clipVerticalGuidelines || []).map(function (v) {\n      return convertUnitSize(\"\".concat(v), width);\n    }), width, height);\n    var guideXPoses = [];\n    var guideYPoses = [];\n\n    if (isCircle || isEllipse) {\n      guideXPoses = [guidePoses[4][0], guidePoses[2][0]];\n      guideYPoses = [guidePoses[1][1], guidePoses[3][1]];\n    } else if (isRect) {\n      var rectPoses = [guidePoses[0], guidePoses[2], guidePoses[4], guidePoses[6]];\n      var rectDists_1 = [dists[0], dists[2], dists[4], dists[6]];\n      guideXPoses = rectPoses.filter(function (_, i) {\n        return rectDists_1[i][0];\n      }).map(function (pos) {\n        return pos[0];\n      });\n      guideYPoses = rectPoses.filter(function (_, i) {\n        return rectDists_1[i][1];\n      }).map(function (pos) {\n        return pos[1];\n      });\n    } else {\n      guideXPoses = guidePoses.filter(function (_, i) {\n        return dists[i][0];\n      }).map(function (pos) {\n        return pos[0];\n      });\n      guideYPoses = guidePoses.filter(function (_, i) {\n        return dists[i][1];\n      }).map(function (pos) {\n        return pos[1];\n      });\n    }\n\n    var boundDelta = [0, 0];\n\n    var _loop_1 = function (i) {\n      var _e = checkSnapBounds(guidelines, props.clipTargetBounds && {\n        left: 0,\n        top: 0,\n        right: width,\n        bottom: height\n      }, guideXPoses, guideYPoses, 5),\n          horizontalSnapInfo = _e.horizontal,\n          verticalSnapInfo = _e.vertical;\n\n      var snapOffsetY = horizontalSnapInfo.offset;\n      var snapOffsetX = verticalSnapInfo.offset;\n\n      if (horizontalSnapInfo.isBound) {\n        boundDelta[1] += snapOffsetY;\n      }\n\n      if (verticalSnapInfo.isBound) {\n        boundDelta[0] += snapOffsetX;\n      }\n\n      if ((isEllipse || isCircle) && dists[0][0] === 0 && dists[0][1] === 0) {\n        var guideRect = getRect(nextPoses);\n        var cy = guideRect.bottom - guideRect.top;\n        var cx = isEllipse ? guideRect.right - guideRect.left : cy;\n        var distSnapX = verticalSnapInfo.isBound ? Math.abs(snapOffsetX) : verticalSnapInfo.snapIndex === 0 ? -snapOffsetX : snapOffsetX;\n        var distSnapY = horizontalSnapInfo.isBound ? Math.abs(snapOffsetY) : horizontalSnapInfo.snapIndex === 0 ? -snapOffsetY : snapOffsetY;\n        cx -= distSnapX;\n        cy -= distSnapY;\n\n        if (isCircle) {\n          cy = checkSnapBoundPriority(verticalSnapInfo, horizontalSnapInfo) > 0 ? cy : cx;\n          cx = cy;\n        }\n\n        var center = guidePoses[0];\n        guidePoses[1][1] = center[1] - cy;\n        guidePoses[2][0] = center[0] + cx;\n        guidePoses[3][1] = center[1] + cy;\n        guidePoses[4][0] = center[0] - cx;\n      } else {\n        guidePoses.forEach(function (pos, j) {\n          var dist = dists[j];\n\n          if (dist[0]) {\n            pos[0] -= snapOffsetX;\n          }\n\n          if (dist[1]) {\n            pos[1] -= snapOffsetY;\n          }\n        });\n        return \"break\";\n      }\n    };\n\n    for (var i = 0; i < 2; ++i) {\n      var state_1 = _loop_1();\n\n      if (state_1 === \"break\") break;\n    }\n\n    var nextClipStyles = getClipStyles(moveable, clipPath, nextPoses);\n    var clipStyle = \"\".concat(clipType, \"(\").concat(nextClipStyles.join(splitter), \")\");\n    state.clipPathState = clipStyle;\n\n    if (isCircle || isEllipse) {\n      guideXPoses = [guidePoses[4][0], guidePoses[2][0]];\n      guideYPoses = [guidePoses[1][1], guidePoses[3][1]];\n    } else if (isRect) {\n      var rectPoses = [guidePoses[0], guidePoses[2], guidePoses[4], guidePoses[6]];\n      guideXPoses = rectPoses.map(function (pos) {\n        return pos[0];\n      });\n      guideYPoses = rectPoses.map(function (pos) {\n        return pos[1];\n      });\n    } else {\n      guideXPoses = guidePoses.map(function (pos) {\n        return pos[0];\n      });\n      guideYPoses = guidePoses.map(function (pos) {\n        return pos[1];\n      });\n    }\n\n    state.snapBoundInfos = checkSnapBounds(guidelines, props.clipTargetBounds && {\n      left: 0,\n      top: 0,\n      right: width,\n      bottom: height\n    }, guideXPoses, guideYPoses, 1);\n\n    if (originalDatas.draggable) {\n      var is3d = state.is3d,\n          allMatrix = state.allMatrix;\n      var n = is3d ? 4 : 3;\n      _a = multiply(allMatrix, [boundDelta[0], boundDelta[1], 0, 0], n), boundDelta[0] = _a[0], boundDelta[1] = _a[1];\n      originalDatas.draggable.deltaOffset = boundDelta;\n    }\n\n    triggerEvent(moveable, \"onClip\", fillParams(moveable, e, {\n      clipEventType: \"changed\",\n      clipType: clipType,\n      poses: nextPoses,\n      clipStyle: clipStyle,\n      clipStyles: nextClipStyles,\n      distX: distX,\n      distY: distY\n    }));\n    return true;\n  },\n  dragControlEnd: function (moveable, e) {\n    this.unset(moveable);\n    var isDrag = e.isDrag,\n        datas = e.datas,\n        isDouble = e.isDouble;\n    var isLine = datas.isLine,\n        isClipStart = datas.isClipStart,\n        isControl = datas.isControl;\n\n    if (!isClipStart) {\n      return false;\n    }\n\n    triggerEvent(moveable, \"onClipEnd\", fillEndParams(moveable, e, {}));\n\n    if (isDouble) {\n      if (isControl) {\n        removeClipPath(moveable, e);\n      } else if (isLine) {\n        // add\n        addClipPath(moveable, e);\n      }\n    }\n\n    return isDouble || isDrag;\n  },\n  unset: function (moveable) {\n    moveable.state.clipPathState = \"\";\n    moveable.state.snapBoundInfos = null;\n  }\n};\n/**\n * Whether to clip the target. (default: false)\n * @name Moveable.Clippable#clippable\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     clippable: true,\n *     defaultClipPath: \"inset\",\n *     customClipPath: \"\",\n *     clipRelative: false,\n *     clipArea: false,\n *     dragWithClip: true,\n * });\n * moveable.on(\"clipStart\", e => {\n *     console.log(e);\n * }).on(\"clip\", e => {\n *     if (e.clipType === \"rect\") {\n *         e.target.style.clip = e.clipStyle;\n *     } else {\n *         e.target.style.clipPath = e.clipStyle;\n *     }\n * }).on(\"clipEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n *  If clippath is not set, the default value can be set. (defaultClipPath < style < customClipPath < dragging clipPath)\n * @name Moveable.Clippable#defaultClipPath\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     clippable: true,\n *     defaultClipPath: \"inset\",\n *     customClipPath: \"\",\n *     clipRelative: false,\n *     clipArea: false,\n *     dragWithClip: true,\n * });\n * moveable.on(\"clipStart\", e => {\n *     console.log(e);\n * }).on(\"clip\", e => {\n *     if (e.clipType === \"rect\") {\n *         e.target.style.clip = e.clipStyle;\n *     } else {\n *         e.target.style.clipPath = e.clipStyle;\n *     }\n * }).on(\"clipEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * % Can be used instead of the absolute px (`rect` not possible) (default: false)\n * @name Moveable.Clippable#clipRelative\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     clippable: true,\n *     defaultClipPath: \"inset\",\n *     customClipPath: \"\",\n *     clipRelative: false,\n *     clipArea: false,\n *     dragWithClip: true,\n * });\n * moveable.on(\"clipStart\", e => {\n *     console.log(e);\n * }).on(\"clip\", e => {\n *     if (e.clipType === \"rect\") {\n *         e.target.style.clip = e.clipStyle;\n *     } else {\n *         e.target.style.clipPath = e.clipStyle;\n *     }\n * }).on(\"clipEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * You can force the custom clipPath. (defaultClipPath < style < customClipPath < dragging clipPath)\n * @name Moveable.Clippable#customClipPath\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     clippable: true,\n *     defaultClipPath: \"inset\",\n *     customClipPath: \"\",\n *     clipRelative: false,\n *     clipArea: false,\n *     dragWithClip: true,\n * });\n * moveable.on(\"clipStart\", e => {\n *     console.log(e);\n * }).on(\"clip\", e => {\n *     if (e.clipType === \"rect\") {\n *         e.target.style.clip = e.clipStyle;\n *     } else {\n *         e.target.style.clipPath = e.clipStyle;\n *     }\n * }).on(\"clipEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * When dragging the target, the clip also moves. (default: true)\n * @name Moveable.Clippable#dragWithClip\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     clippable: true,\n *     defaultClipPath: \"inset\",\n *     customClipPath: \"\",\n *     clipRelative: false,\n *     clipArea: false,\n *     dragWithClip: true,\n * });\n * moveable.on(\"clipStart\", e => {\n *     console.log(e);\n * }).on(\"clip\", e => {\n *     if (e.clipType === \"rect\") {\n *         e.target.style.clip = e.clipStyle;\n *     } else {\n *         e.target.style.clipPath = e.clipStyle;\n *     }\n * }).on(\"clipEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * You can drag the clip by setting clipArea. (default: false)\n * @name Moveable.Clippable#clipArea\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     clippable: true,\n *     defaultClipPath: \"inset\",\n *     customClipPath: \"\",\n *     clipRelative: false,\n *     clipArea: false,\n *     dragWithClip: true,\n * });\n * moveable.on(\"clipStart\", e => {\n *     console.log(e);\n * }).on(\"clip\", e => {\n *     if (e.clipType === \"rect\") {\n *         e.target.style.clip = e.clipStyle;\n *     } else {\n *         e.target.style.clipPath = e.clipStyle;\n *     }\n * }).on(\"clipEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n* Whether the clip is bound to the target. (default: false)\n* @name Moveable.Clippable#clipTargetBounds\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     clippable: true,\n*     defaultClipPath: \"inset\",\n*     customClipPath: \"\",\n*     clipRelative: false,\n*     clipArea: false,\n*     dragWithClip: true,\n*     clipTargetBounds: true,\n* });\n* moveable.on(\"clipStart\", e => {\n*     console.log(e);\n* }).on(\"clip\", e => {\n*     if (e.clipType === \"rect\") {\n*         e.target.style.clip = e.clipStyle;\n*     } else {\n*         e.target.style.clipPath = e.clipStyle;\n*     }\n* }).on(\"clipEnd\", e => {\n*     console.log(e);\n* });\n*/\n\n/**\n* Add clip guidelines in the vertical direction. (default: [])\n* @name Moveable.Clippable#clipVerticalGuidelines\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     clippable: true,\n*     defaultClipPath: \"inset\",\n*     customClipPath: \"\",\n*     clipRelative: false,\n*     clipArea: false,\n*     dragWithClip: true,\n*     clipVerticalGuidelines: [0, 100, 200],\n*     clipHorizontalGuidelines: [0, 100, 200],\n*     clipSnapThreshold: 5,\n* });\n*/\n\n/**\n* Add clip guidelines in the horizontal direction. (default: [])\n* @name Moveable.Clippable#clipHorizontalGuidelines\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     clippable: true,\n*     defaultClipPath: \"inset\",\n*     customClipPath: \"\",\n*     clipRelative: false,\n*     clipArea: false,\n*     dragWithClip: true,\n*     clipVerticalGuidelines: [0, 100, 200],\n*     clipHorizontalGuidelines: [0, 100, 200],\n*     clipSnapThreshold: 5,\n* });\n*/\n\n/**\n* istance value that can snap to clip guidelines. (default: 5)\n* @name Moveable.Clippable#clipSnapThreshold\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     clippable: true,\n*     defaultClipPath: \"inset\",\n*     customClipPath: \"\",\n*     clipRelative: false,\n*     clipArea: false,\n*     dragWithClip: true,\n*     clipVerticalGuidelines: [0, 100, 200],\n*     clipHorizontalGuidelines: [0, 100, 200],\n*     clipSnapThreshold: 5,\n* });\n*/\n\n/**\n * When drag start the clip area or controls, the `clipStart` event is called.\n * @memberof Moveable.Clippable\n * @event clipStart\n * @param {Moveable.Clippable.OnClipStart} - Parameters for the `clipStart` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     clippable: true,\n *     defaultClipPath: \"inset\",\n *     customClipPath: \"\",\n *     clipRelative: false,\n *     clipArea: false,\n *     dragWithClip: true,\n * });\n * moveable.on(\"clipStart\", e => {\n *     console.log(e);\n * }).on(\"clip\", e => {\n *     if (e.clipType === \"rect\") {\n *         e.target.style.clip = e.clipStyle;\n *     } else {\n *         e.target.style.clipPath = e.clipStyle;\n *     }\n * }).on(\"clipEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * When drag the clip area or controls, the `clip` event is called.\n * @memberof Moveable.Clippable\n * @event clip\n * @param {Moveable.Clippable.OnClip} - Parameters for the `clip` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     clippable: true,\n *     defaultClipPath: \"inset\",\n *     customClipPath: \"\",\n *     clipRelative: false,\n *     clipArea: false,\n *     dragWithClip: true,\n * });\n * moveable.on(\"clipStart\", e => {\n *     console.log(e);\n * }).on(\"clip\", e => {\n *     if (e.clipType === \"rect\") {\n *         e.target.style.clip = e.clipStyle;\n *     } else {\n *         e.target.style.clipPath = e.clipStyle;\n *     }\n * }).on(\"clipEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * When drag end the clip area or controls, the `clipEnd` event is called.\n * @memberof Moveable.Clippable\n * @event clipEnd\n * @param {Moveable.Clippable.OnClipEnd} - Parameters for the `clipEnd` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     clippable: true,\n *     defaultClipPath: \"inset\",\n *     customClipPath: \"\",\n *     clipRelative: false,\n *     clipArea: false,\n *     dragWithClip: true,\n * });\n * moveable.on(\"clipStart\", e => {\n *     console.log(e);\n * }).on(\"clip\", e => {\n *     if (e.clipType === \"rect\") {\n *         e.target.style.clip = e.clipStyle;\n *     } else {\n *         e.target.style.clipPath = e.clipStyle;\n *     }\n * }).on(\"clipEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * @namespace OriginDraggable\n * @memberof Moveable\n * @description Whether to drag origin (default: false)\n */\n\nvar OriginDraggable = {\n  name: \"originDraggable\",\n  props: {\n    originDraggable: Boolean,\n    originRelative: Boolean\n  },\n  events: {\n    onDragOriginStart: \"dragOriginStart\",\n    onDragOrigin: \"dragOrigin\",\n    onDragOriginEnd: \"dragOriginEnd\"\n  },\n  css: [\":host[data-able-origindraggable] .control.origin {\\n    pointer-events: auto;\\n}\"],\n  dragControlCondition: function (_, e) {\n    if (e.isRequest) {\n      return e.requestAble === \"originDraggable\";\n    }\n\n    return hasClass(e.inputEvent.target, prefix(\"origin\"));\n  },\n  dragControlStart: function (moveable, e) {\n    var datas = e.datas;\n    setDragStart(moveable, e);\n    var params = fillParams(moveable, e, {\n      dragStart: Draggable.dragStart(moveable, new CustomGesto().dragStart([0, 0], e))\n    });\n    var result = triggerEvent(moveable, \"onDragOriginStart\", params);\n    datas.startOrigin = moveable.state.transformOrigin;\n    datas.startTargetOrigin = moveable.state.targetOrigin;\n    datas.prevOrigin = [0, 0];\n    datas.isDragOrigin = true;\n\n    if (result === false) {\n      datas.isDragOrigin = false;\n      return false;\n    }\n\n    return params;\n  },\n  dragControl: function (moveable, e) {\n    var datas = e.datas,\n        isPinch = e.isPinch,\n        isRequest = e.isRequest;\n\n    if (!datas.isDragOrigin) {\n      return false;\n    }\n\n    var _a = getDragDist(e),\n        distX = _a[0],\n        distY = _a[1];\n\n    var state = moveable.state;\n    var width = state.width,\n        height = state.height,\n        offsetMatrix = state.offsetMatrix,\n        targetMatrix = state.targetMatrix,\n        is3d = state.is3d;\n    var _b = moveable.props.originRelative,\n        originRelative = _b === void 0 ? true : _b;\n    var n = is3d ? 4 : 3;\n    var dist = [distX, distY];\n\n    if (isRequest) {\n      var distOrigin = e.distOrigin;\n\n      if (distOrigin[0] || distOrigin[1]) {\n        dist = distOrigin;\n      }\n    }\n\n    var origin = plus(datas.startOrigin, dist);\n    var targetOrigin = plus(datas.startTargetOrigin, dist);\n    var delta = minus(dist, datas.prevOrigin);\n    var nextMatrix = getNextMatrix(offsetMatrix, targetMatrix, origin, n);\n    var rect = moveable.getRect();\n    var nextRect = getRect(calculatePoses(nextMatrix, width, height, n));\n    var dragDelta = [rect.left - nextRect.left, rect.top - nextRect.top];\n    datas.prevOrigin = dist;\n    var transformOrigin = [convertCSSSize(targetOrigin[0], width, originRelative), convertCSSSize(targetOrigin[1], height, originRelative)].join(\" \");\n    var params = fillParams(moveable, e, {\n      width: width,\n      height: height,\n      origin: origin,\n      dist: dist,\n      delta: delta,\n      transformOrigin: transformOrigin,\n      drag: Draggable.drag(moveable, setCustomDrag(e, moveable.state, dragDelta, !!isPinch, false))\n    });\n    triggerEvent(moveable, \"onDragOrigin\", params);\n    return params;\n  },\n  dragControlEnd: function (moveable, e) {\n    var datas = e.datas;\n\n    if (!datas.isDragOrigin) {\n      return false;\n    }\n\n    triggerEvent(moveable, \"onDragOriginEnd\", fillEndParams(moveable, e, {}));\n    return true;\n  },\n  dragGroupControlCondition: function (moveable, e) {\n    return this.dragControlCondition(moveable, e);\n  },\n  dragGroupControlStart: function (moveable, e) {\n    var params = this.dragControlStart(moveable, e);\n\n    if (!params) {\n      return false;\n    }\n\n    return true;\n  },\n  dragGroupControl: function (moveable, e) {\n    var params = this.dragControl(moveable, e);\n\n    if (!params) {\n      return false;\n    }\n\n    moveable.transformOrigin = params.transformOrigin;\n    return true;\n  },\n\n  /**\n  * @method Moveable.OriginDraggable#request\n  * @param {object} e - the OriginDraggable's request parameter\n  * @param {number} [e.x] - x position\n  * @param {number} [e.y] - y position\n  * @param {number} [e.deltaX] - x number to move\n  * @param {number} [e.deltaY] - y number to move\n  * @param {array} [e.deltaOrigin] - left, top number to move transform-origin\n  * @param {array} [e.origin] - transform-origin position\n  * @param {number} [e.isInstant] - Whether to execute the request instantly\n  * @return {Moveable.Requester} Moveable Requester\n  * @example\n   * // Instantly Request (requestStart - request - requestEnd)\n  * // Use Relative Value\n  * moveable.request(\"originDraggable\", { deltaX: 10, deltaY: 10 }, true);\n  * // Use Absolute Value\n  * moveable.request(\"originDraggable\", { x: 200, y: 100 }, true);\n  * // Use Transform Value\n  * moveable.request(\"originDraggable\", { deltaOrigin: [10, 0] }, true);\n  * moveable.request(\"originDraggable\", { origin: [100, 0] }, true);\n  * // requestStart\n  * const requester = moveable.request(\"originDraggable\");\n  *\n  * // request\n  * // Use Relative Value\n  * requester.request({ deltaX: 10, deltaY: 10 });\n  * requester.request({ deltaX: 10, deltaY: 10 });\n  * requester.request({ deltaX: 10, deltaY: 10 });\n  * // Use Absolute Value\n  * moveable.request(\"originDraggable\", { x: 200, y: 100 });\n  * moveable.request(\"originDraggable\", { x: 220, y: 100 });\n  * moveable.request(\"originDraggable\", { x: 240, y: 100 });\n  *\n  * // requestEnd\n  * requester.requestEnd();\n  */\n  request: function (moveable) {\n    var datas = {};\n    var rect = moveable.getRect();\n    var distX = 0;\n    var distY = 0;\n    var transformOrigin = rect.transformOrigin;\n    var distOrigin = [0, 0];\n    return {\n      isControl: true,\n      requestStart: function () {\n        return {\n          datas: datas\n        };\n      },\n      request: function (e) {\n        if (\"deltaOrigin\" in e) {\n          distOrigin[0] += e.deltaOrigin[0];\n          distOrigin[1] += e.deltaOrigin[1];\n        } else if (\"origin\" in e) {\n          distOrigin[0] = e.origin[0] - transformOrigin[0];\n          distOrigin[1] = e.origin[1] - transformOrigin[1];\n        } else {\n          if (\"x\" in e) {\n            distX = e.x - rect.left;\n          } else if (\"deltaX\" in e) {\n            distX += e.deltaX;\n          }\n\n          if (\"y\" in e) {\n            distY = e.y - rect.top;\n          } else if (\"deltaY\" in e) {\n            distY += e.deltaY;\n          }\n        }\n\n        return {\n          datas: datas,\n          distX: distX,\n          distY: distY,\n          distOrigin: distOrigin\n        };\n      },\n      requestEnd: function () {\n        return {\n          datas: datas,\n          isDrag: true\n        };\n      }\n    };\n  }\n};\n/**\n * Whether to drag origin (default: false)\n * @name Moveable.OriginDraggable#originDraggable\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     originDraggable: true,\n * });\n * let translate = [0, 0];\n * moveable.on(\"dragOriginStart\", e => {\n *     e.dragStart && e.dragStart.set(translate);\n * }).on(\"dragOrigin\", e => {\n *     translate = e.drag.beforeTranslate;\n *     e.target.style.cssText\n *         = `transform-origin: ${e.transformOrigin};`\n *         + `transform: translate(${translate[0]}px, ${translate[1]}px)`;\n * }).on(\"dragOriginEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * % Can be used instead of the absolute px (default: true)\n * @name Moveable.OriginDraggable#originRelative\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     originDraggable: true,\n *     originRelative: false,\n * });\n * moveable.originRelative = true;\n */\n\n/**\n* When drag start the origin, the `dragOriginStart` event is called.\n* @memberof Moveable.OriginDraggable\n* @event dragOriginStart\n* @param {Moveable.OriginDraggable.OnDragOriginStart} - Parameters for the `dragOriginStart` event\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     originDraggable: true,\n* });\n* let translate = [0, 0];\n* moveable.on(\"dragOriginStart\", e => {\n*     e.dragStart && e.dragStart.set(translate);\n* }).on(\"dragOrigin\", e => {\n*     translate = e.drag.beforeTranslate;\n*     e.target.style.cssText\n*         = `transform-origin: ${e.transformOrigin};`\n*         + `transform: translate(${translate[0]}px, ${translate[1]}px)`;\n* }).on(\"dragOriginEnd\", e => {\n*     console.log(e);\n* });\n*/\n\n/**\n* When drag the origin, the `dragOrigin` event is called.\n* @memberof Moveable.OriginDraggable\n* @event dragOrigin\n* @param {Moveable.OriginDraggable.OnDragOrigin} - Parameters for the `dragOrigin` event\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     originDraggable: true,\n* });\n* let translate = [0, 0];\n* moveable.on(\"dragOriginStart\", e => {\n*     e.dragStart && e.dragStart.set(translate);\n* }).on(\"dragOrigin\", e => {\n*     translate = e.drag.beforeTranslate;\n*     e.target.style.cssText\n*         = `transform-origin: ${e.transformOrigin};`\n*         + `transform: translate(${translate[0]}px, ${translate[1]}px)`;\n* }).on(\"dragOriginEnd\", e => {\n*     console.log(e);\n* });\n*/\n\n/**\n* When drag end the origin, the `dragOriginEnd` event is called.\n* @memberof Moveable.OriginDraggable\n* @event dragOriginEnd\n* @param {Moveable.OriginDraggable.OnDragOriginEnd} - Parameters for the `dragOriginEnd` event\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     originDraggable: true,\n* });\n* let translate = [0, 0];\n* moveable.on(\"dragOriginStart\", e => {\n*     e.dragStart && e.dragStart.set(translate);\n* }).on(\"dragOrigin\", e => {\n*     translate = e.drag.beforeTranslate;\n*     e.target.style.cssText\n*         = `transform-origin: ${e.transformOrigin};`\n*         + `transform: translate(${translate[0]}px, ${translate[1]}px)`;\n* }).on(\"dragOriginEnd\", e => {\n*     console.log(e);\n* });\n*/\n\nfunction addBorderRadius(controlPoses, poses, lineIndex, distX, distY, width, height) {\n  var _a = splitRadiusPoses(controlPoses),\n      horizontals = _a.horizontals,\n      verticals = _a.verticals;\n\n  var horizontalsLength = horizontals.length;\n  var verticalsLength = verticals.length; // lineIndex\n  // 0 top\n  // 1 right\n  // 2 left\n  // 3 bottom\n  // 0 top - left\n  // 1 top - right\n  // 2 bottom - right\n  // 3 bottom - left\n  // 0 left - top\n  // 1 right - top\n  // 2 right - bottom\n  // 3 left - bottom\n\n  var horizontalIndex = -1;\n  var verticalIndex = -1;\n\n  if (lineIndex === 0) {\n    if (horizontalsLength === 0) {\n      horizontalIndex = 0;\n    } else if (horizontalsLength === 1) {\n      horizontalIndex = 1;\n    }\n  } else if (lineIndex === 3) {\n    if (horizontalsLength <= 2) {\n      horizontalIndex = 2;\n    } else if (horizontalsLength <= 3) {\n      horizontalIndex = 3;\n    }\n  }\n\n  if (lineIndex === 2) {\n    if (verticalsLength === 0) {\n      verticalIndex = 0;\n    } else if (verticalsLength < 4) {\n      verticalIndex = 3;\n    }\n  } else if (lineIndex === 1) {\n    if (verticalsLength <= 1) {\n      verticalIndex = 1;\n    } else if (verticalsLength <= 2) {\n      verticalIndex = 2;\n    }\n  }\n\n  addRadiusPos(controlPoses, poses, 0, horizontalIndex, verticalIndex, distX, distY, width, height);\n}\n\nfunction getBorderRadius(target, width, height, minCounts, state) {\n  if (minCounts === void 0) {\n    minCounts = [0, 0];\n  }\n\n  var borderRadius;\n  var values = [];\n\n  if (!state) {\n    var style = getComputedStyle(target);\n    borderRadius = style && style.borderRadius || \"\";\n  } else {\n    borderRadius = state;\n  }\n\n  if (!borderRadius || !state && borderRadius === \"0px\") {\n    values = [];\n  } else {\n    values = splitSpace(borderRadius);\n  }\n\n  return getRadiusValues(values, width, height, 0, 0, minCounts);\n}\n\nfunction triggerRoundEvent(moveable, e, dist, delta, controlPoses, nextPoses) {\n  var state = moveable.state;\n  var width = state.width,\n      height = state.height;\n\n  var _a = getRadiusStyles(nextPoses, controlPoses, moveable.props.roundRelative, width, height),\n      raws = _a.raws,\n      styles = _a.styles;\n\n  var _b = splitRadiusPoses(controlPoses, raws),\n      horizontals = _b.horizontals,\n      verticals = _b.verticals;\n\n  var borderRadius = styles.join(\" \");\n  state.borderRadiusState = borderRadius;\n  triggerEvent(moveable, \"onRound\", fillParams(moveable, e, {\n    horizontals: horizontals,\n    verticals: verticals,\n    borderRadius: borderRadius,\n    width: width,\n    height: height,\n    delta: delta,\n    dist: dist\n  }));\n}\n/**\n * @namespace Moveable.Roundable\n * @description Whether to show and drag or double click border-radius\n */\n\n\nvar Roundable = {\n  name: \"roundable\",\n  props: {\n    roundable: Boolean,\n    roundRelative: Boolean,\n    minRoundControls: Array,\n    maxRoundControls: Array,\n    roundClickable: Boolean\n  },\n  events: {\n    onRoundStart: \"roundStart\",\n    onRound: \"round\",\n    onRoundEnd: \"roundEnd\"\n  },\n  css: [\".control.border-radius {\\n    background: #d66;\\n    cursor: pointer;\\n}\", \":host[data-able-roundable] .line.direction {\\n    cursor: pointer;\\n}\"],\n  render: function (moveable, React) {\n    var _a = moveable.state,\n        target = _a.target,\n        width = _a.width,\n        height = _a.height,\n        allMatrix = _a.allMatrix,\n        is3d = _a.is3d,\n        left = _a.left,\n        top = _a.top,\n        borderRadiusState = _a.borderRadiusState;\n    var _b = moveable.props,\n        _c = _b.minRoundControls,\n        minRoundControls = _c === void 0 ? [0, 0] : _c,\n        _d = _b.maxRoundControls,\n        maxRoundControls = _d === void 0 ? [4, 4] : _d,\n        zoom = _b.zoom;\n\n    if (!target) {\n      return null;\n    }\n\n    var n = is3d ? 4 : 3;\n    var radiusValues = getBorderRadius(target, width, height, minRoundControls, borderRadiusState);\n\n    if (!radiusValues) {\n      return null;\n    }\n\n    var verticalCount = 0;\n    var horizontalCount = 0;\n    return radiusValues.map(function (v, i) {\n      horizontalCount += Math.abs(v.horizontal);\n      verticalCount += Math.abs(v.vertical);\n      var pos = minus(calculatePosition(allMatrix, v.pos, n), [left, top]);\n      var isDisplay = v.vertical ? verticalCount <= maxRoundControls[1] : horizontalCount <= maxRoundControls[0];\n      return React.createElement(\"div\", {\n        key: \"borderRadiusControl\".concat(i),\n        className: prefix(\"control\", \"border-radius\"),\n        \"data-radius-index\": i,\n        style: {\n          display: isDisplay ? \"block\" : \"none\",\n          transform: \"translate(\".concat(pos[0], \"px, \").concat(pos[1], \"px) scale(\").concat(zoom, \")\")\n        }\n      });\n    });\n  },\n  dragControlCondition: function (moveable, e) {\n    if (!e.inputEvent || e.isRequest) {\n      return false;\n    }\n\n    var className = e.inputEvent.target.getAttribute(\"class\") || \"\";\n    return className.indexOf(\"border-radius\") > -1 || className.indexOf(\"moveable-line\") > -1 && className.indexOf(\"moveable-direction\") > -1;\n  },\n  dragControlStart: function (moveable, e) {\n    var inputEvent = e.inputEvent,\n        datas = e.datas;\n    var inputTarget = inputEvent.target;\n    var className = inputTarget.getAttribute(\"class\") || \"\";\n    var isControl = className.indexOf(\"border-radius\") > -1;\n    var isLine = className.indexOf(\"moveable-line\") > -1 && className.indexOf(\"moveable-direction\") > -1;\n    var controlIndex = isControl ? parseInt(inputTarget.getAttribute(\"data-radius-index\"), 10) : -1;\n    var lineIndex = isLine ? parseInt(inputTarget.getAttribute(\"data-line-index\"), 10) : -1;\n\n    if (!isControl && !isLine) {\n      return false;\n    }\n\n    var result = triggerEvent(moveable, \"onRoundStart\", fillParams(moveable, e, {}));\n\n    if (result === false) {\n      return false;\n    }\n\n    datas.lineIndex = lineIndex;\n    datas.controlIndex = controlIndex;\n    datas.isControl = isControl;\n    datas.isLine = isLine;\n    setDragStart(moveable, e);\n    var _a = moveable.props,\n        roundRelative = _a.roundRelative,\n        _b = _a.minRoundControls,\n        minRoundControls = _b === void 0 ? [0, 0] : _b;\n    var state = moveable.state;\n    var target = state.target,\n        width = state.width,\n        height = state.height;\n    datas.isRound = true;\n    datas.prevDist = [0, 0];\n    var controlPoses = getBorderRadius(target, width, height, minRoundControls) || [];\n    datas.controlPoses = controlPoses;\n    state.borderRadiusState = getRadiusStyles(controlPoses.map(function (pos) {\n      return pos.pos;\n    }), controlPoses, roundRelative, width, height).styles.join(\" \");\n    return true;\n  },\n  dragControl: function (moveable, e) {\n    var datas = e.datas;\n\n    if (!datas.isRound || !datas.isControl || !datas.controlPoses.length) {\n      return false;\n    }\n\n    var index = datas.controlIndex;\n    var controlPoses = datas.controlPoses;\n\n    var _a = getDragDist(e),\n        distX = _a[0],\n        distY = _a[1];\n\n    var dist = [distX, distY];\n    var delta = minus(dist, datas.prevDist);\n    var _b = moveable.props.maxRoundControls,\n        maxRoundControls = _b === void 0 ? [4, 4] : _b;\n    var _c = moveable.state,\n        width = _c.width,\n        height = _c.height;\n    var selectedControlPose = controlPoses[index];\n    var selectedVertical = selectedControlPose.vertical;\n    var selectedHorizontal = selectedControlPose.horizontal; // 0: [0, 1, 2, 3] maxCount === 1\n    // 0: [0, 2] maxCount === 2\n    // 1: [1, 3] maxCount === 2\n    // 0: [0] maxCount === 3\n    // 1: [1, 3] maxCount === 3\n\n    var dists = controlPoses.map(function (pose) {\n      var horizontal = pose.horizontal,\n          vertical = pose.vertical;\n      var poseDist = [horizontal * selectedHorizontal * dist[0], vertical * selectedVertical * dist[1]];\n\n      if (horizontal) {\n        if (maxRoundControls[0] === 1) {\n          return poseDist;\n        } else if (maxRoundControls[0] < 4 && horizontal !== selectedHorizontal) {\n          return poseDist;\n        }\n      } else if (maxRoundControls[1] === 0) {\n        poseDist[1] = vertical * selectedHorizontal * dist[0] / width * height;\n        return poseDist;\n      } else if (selectedVertical) {\n        if (maxRoundControls[1] === 1) {\n          return poseDist;\n        } else if (maxRoundControls[1] < 4 && vertical !== selectedVertical) {\n          return poseDist;\n        }\n      }\n\n      return [0, 0];\n    });\n    dists[index] = dist;\n    var nextPoses = controlPoses.map(function (pos, i) {\n      return plus(pos.pos, dists[i]);\n    });\n    datas.prevDist = [distX, distY];\n    triggerRoundEvent(moveable, e, dist, delta, controlPoses, nextPoses);\n    return true;\n  },\n  dragControlEnd: function (moveable, e) {\n    var state = moveable.state;\n    state.borderRadiusState = \"\";\n    var datas = e.datas,\n        isDouble = e.isDouble;\n\n    if (!datas.isRound) {\n      return false;\n    }\n\n    var width = state.width,\n        height = state.height;\n    var isControl = datas.isControl,\n        controlIndex = datas.controlIndex,\n        isLine = datas.isLine,\n        lineIndex = datas.lineIndex;\n    var controlPoses = datas.controlPoses;\n    var poses = controlPoses.map(function (pos) {\n      return pos.pos;\n    });\n    var length = poses.length;\n    var _a = moveable.props.roundClickable,\n        roundClickable = _a === void 0 ? true : _a;\n\n    if (isDouble && roundClickable) {\n      if (isControl) {\n        removeRadiusPos(controlPoses, poses, controlIndex, 0);\n      } else if (isLine) {\n        var _b = calculatePointerDist(moveable, e),\n            distX = _b[0],\n            distY = _b[1];\n\n        addBorderRadius(controlPoses, poses, lineIndex, distX, distY, width, height);\n      }\n\n      if (length !== controlPoses.length) {\n        triggerRoundEvent(moveable, e, [0, 0], [0, 0], controlPoses, poses);\n      }\n    }\n\n    triggerEvent(moveable, \"onRoundEnd\", fillEndParams(moveable, e, {}));\n    state.borderRadiusState = \"\";\n    return true;\n  },\n  unset: function (moveable) {\n    moveable.state.borderRadiusState = \"\";\n  }\n};\n/**\n * Whether to show and drag or double click border-radius, (default: false)\n * @name Moveable.Roundable#roundable\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     roundable: true,\n *     roundRelative: false,\n * });\n * moveable.on(\"roundStart\", e => {\n *     console.log(e);\n * }).on(\"round\", e => {\n *     e.target.style.borderRadius = e.borderRadius;\n * }).on(\"roundEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * % Can be used instead of the absolute px\n * @name Moveable.Roundable#roundRelative\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     roundable: true,\n *     roundRelative: false,\n * });\n * moveable.on(\"roundStart\", e => {\n *     console.log(e);\n * }).on(\"round\", e => {\n *     e.target.style.borderRadius = e.borderRadius;\n * }).on(\"roundEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * Minimum number of round controls. It moves in proportion by control. [horizontal, vertical] (default: [0, 0])\n * @name Moveable.Roundable#minRoundControls\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     roundable: true,\n *     roundRelative: false,\n *     minRoundControls: [0, 0],\n * });\n * moveable.maxRoundControls = [1, 0];\n */\n\n/**\n * Maximum number of round controls. It moves in proportion by control. [horizontal, vertical] (default: [4, 4])\n * @name Moveable.Roundable#maxRoundControls\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     roundable: true,\n *     roundRelative: false,\n *     maxRoundControls: [4, 4],\n * });\n * moveable.maxRoundControls = [1, 0];\n */\n\n/**\n * @property - Whether you can add/delete round controls by double-clicking a line or control. (default: true)\n * @name Moveable.Roundable#roundClickable\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     roundable: true,\n *     roundRelative: false,\n *     roundClickable: true,\n * });\n * moveable.roundClickable = false;\n */\n\n/**\n * When drag start the clip area or controls, the `roundStart` event is called.\n * @memberof Moveable.Roundable\n * @event roundStart\n * @param {Moveable.Roundable.OnRoundStart} - Parameters for the `roundStart` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     roundable: true,\n *     roundRelative: false,\n * });\n * moveable.on(\"roundStart\", e => {\n *     console.log(e);\n * }).on(\"round\", e => {\n *     e.target.style.borderRadius = e.borderRadius;\n * }).on(\"roundEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * When drag or double click the border area or controls, the `round` event is called.\n * @memberof Moveable.Roundable\n * @event round\n * @param {Moveable.Roundable.OnRound} - Parameters for the `round` event\n * @example\n  * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     roundable: true,\n *     roundRelative: false,\n * });\n * moveable.on(\"roundStart\", e => {\n *     console.log(e);\n * }).on(\"round\", e => {\n *     e.target.style.borderRadius = e.borderRadius;\n * }).on(\"roundEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * When drag end the border area or controls, the `roundEnd` event is called.\n * @memberof Moveable.Roundable\n * @event roundEnd\n * @param {Moveable.Roundable.onRoundEnd} - Parameters for the `roundEnd` event\n * @example\n  * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     roundable: true,\n *     roundRelative: false,\n * });\n * moveable.on(\"roundStart\", e => {\n *     console.log(e);\n * }).on(\"round\", e => {\n *     e.target.style.borderRadius = e.borderRadius;\n * }).on(\"roundEnd\", e => {\n *     console.log(e);\n * });\n */\n\nfunction isIdentityMatrix(matrix, is3d) {\n  var value = is3d ? \"matrix3d(\".concat(createIdentityMatrix(4)) : \"matrix(\".concat(createIdentityMatrix(3), \")\");\n  return matrix === value || matrix === \"matrix(1,0,0,1,0,0)\";\n}\n\nvar BeforeRenderable = {\n  isPinch: true,\n  name: \"beforeRenderable\",\n  props: {},\n  events: {\n    onBeforeRenderStart: \"beforeRenderStart\",\n    onBeforeRender: \"beforeRender\",\n    onBeforeRenderEnd: \"beforeRenderEnd\",\n    onBeforeRenderGroupStart: \"beforeRenderGroupStart\",\n    onBeforeRenderGroup: \"beforeRenderGroup\",\n    onBeforeRenderGroupEnd: \"beforeRenderGroupEnd\"\n  },\n  dragRelation: \"weak\",\n  setTransform: function (moveable, e) {\n    var _a = moveable.state,\n        is3d = _a.is3d,\n        target = _a.target,\n        targetMatrix = _a.targetMatrix;\n    var transform = target === null || target === void 0 ? void 0 : target.style.transform;\n    var cssMatrix = is3d ? \"matrix3d(\".concat(targetMatrix.join(\",\"), \")\") : \"matrix(\".concat(convertMatrixtoCSS(targetMatrix, true), \")\");\n    var startTransform = !transform || transform === \"none\" ? cssMatrix : transform;\n    e.datas.startTransforms = isIdentityMatrix(startTransform, is3d) ? [] : splitSpace(startTransform);\n  },\n  resetTransform: function (e) {\n    e.datas.nextTransforms = e.datas.startTransforms;\n    e.datas.nextTransformAppendedIndexes = [];\n  },\n  fillDragStartParams: function (moveable, e) {\n    return fillParams(moveable, e, {\n      setTransform: function (transform) {\n        e.datas.startTransforms = isArray(transform) ? transform : splitSpace(transform);\n      },\n      isPinch: !!e.isPinch\n    });\n  },\n  fillDragParams: function (moveable, e) {\n    return fillParams(moveable, e, {\n      isPinch: !!e.isPinch\n    });\n  },\n  dragStart: function (moveable, e) {\n    this.setTransform(moveable, e);\n    triggerEvent(moveable, \"onBeforeRenderStart\", this.fillDragStartParams(moveable, e));\n  },\n  drag: function (moveable, e) {\n    this.resetTransform(e);\n    triggerEvent(moveable, \"onBeforeRender\", fillParams(moveable, e, {\n      isPinch: !!e.isPinch\n    }));\n  },\n  dragEnd: function (moveable, e) {\n    triggerEvent(moveable, \"onBeforeRenderEnd\", fillParams(moveable, e, {\n      isPinch: !!e.isPinch,\n      isDrag: e.isDrag\n    }));\n  },\n  dragGroupStart: function (moveable, e) {\n    var _this = this;\n\n    this.dragStart(moveable, e);\n    var events = fillChildEvents(moveable, \"beforeRenderable\", e);\n    var moveables = moveable.moveables;\n    var params = events.map(function (childEvent, i) {\n      var childMoveable = moveables[i];\n\n      _this.setTransform(childMoveable, childEvent);\n\n      return _this.fillDragStartParams(childMoveable, childEvent);\n    });\n    triggerEvent(moveable, \"onBeforeRenderGroupStart\", fillParams(moveable, e, {\n      isPinch: !!e.isPinch,\n      targets: moveable.props.targets,\n      setTransform: function () {},\n      events: params\n    }));\n  },\n  dragGroup: function (moveable, e) {\n    var _this = this;\n\n    this.drag(moveable, e);\n    var events = fillChildEvents(moveable, \"beforeRenderable\", e);\n    var moveables = moveable.moveables;\n    var params = events.map(function (childEvent, i) {\n      var childMoveable = moveables[i];\n\n      _this.resetTransform(childEvent);\n\n      return _this.fillDragParams(childMoveable, childEvent);\n    });\n    triggerEvent(moveable, \"onBeforeRenderGroup\", fillParams(moveable, e, {\n      isPinch: !!e.isPinch,\n      targets: moveable.props.targets,\n      events: params\n    }));\n  },\n  dragGroupEnd: function (moveable, e) {\n    this.dragEnd(moveable, e);\n    triggerEvent(moveable, \"onBeforeRenderGroupEnd\", fillParams(moveable, e, {\n      isPinch: !!e.isPinch,\n      isDrag: e.isDrag,\n      targets: moveable.props.targets\n    }));\n  },\n  dragControlStart: function (moveable, e) {\n    return this.dragStart(moveable, e);\n  },\n  dragControl: function (moveable, e) {\n    return this.drag(moveable, e);\n  },\n  dragControlEnd: function (moveable, e) {\n    return this.dragEnd(moveable, e);\n  },\n  dragGroupControlStart: function (moveable, e) {\n    return this.dragGroupStart(moveable, e);\n  },\n  dragGroupControl: function (moveable, e) {\n    return this.dragGroup(moveable, e);\n  },\n  dragGroupControlEnd: function (moveable, e) {\n    return this.dragGroupEnd(moveable, e);\n  }\n};\nvar Renderable = {\n  name: \"renderable\",\n  props: {},\n  events: {\n    onRenderStart: \"renderStart\",\n    onRender: \"render\",\n    onRenderEnd: \"renderEnd\",\n    onRenderGroupStart: \"renderGroupStart\",\n    onRenderGroup: \"renderGroup\",\n    onRenderGroupEnd: \"renderGroupEnd\"\n  },\n  dragRelation: \"weak\",\n  dragStart: function (moveable, e) {\n    triggerEvent(moveable, \"onRenderStart\", fillParams(moveable, e, {\n      isPinch: !!e.isPinch\n    }));\n  },\n  drag: function (moveable, e) {\n    triggerEvent(moveable, \"onRender\", this.fillDragParams(moveable, e));\n  },\n  dragAfter: function (moveable, e) {\n    if (e.resultCount) {\n      return this.drag(moveable, e);\n    }\n  },\n  dragEnd: function (moveable, e) {\n    triggerEvent(moveable, \"onRenderEnd\", this.fillDragEndParams(moveable, e));\n  },\n  dragGroupStart: function (moveable, e) {\n    triggerEvent(moveable, \"onRenderGroupStart\", fillParams(moveable, e, {\n      isPinch: !!e.isPinch,\n      targets: moveable.props.targets\n    }));\n  },\n  dragGroup: function (moveable, e) {\n    var _this = this;\n\n    var events = fillChildEvents(moveable, \"beforeRenderable\", e);\n    var moveables = moveable.moveables;\n    var params = events.map(function (childEvent, i) {\n      var childMoveable = moveables[i];\n      return _this.fillDragParams(childMoveable, childEvent);\n    });\n    triggerEvent(moveable, \"onRenderGroup\", fillParams(moveable, e, {\n      isPinch: !!e.isPinch,\n      targets: moveable.props.targets,\n      transform: getNextTransformText(e),\n      events: params\n    }));\n  },\n  dragGroupEnd: function (moveable, e) {\n    var _this = this;\n\n    var events = fillChildEvents(moveable, \"beforeRenderable\", e);\n    var moveables = moveable.moveables;\n    var params = events.map(function (childEvent, i) {\n      var childMoveable = moveables[i];\n      return _this.fillDragEndParams(childMoveable, childEvent);\n    });\n    triggerEvent(moveable, \"onRenderGroupEnd\", fillParams(moveable, e, {\n      isPinch: !!e.isPinch,\n      isDrag: e.isDrag,\n      targets: moveable.props.targets,\n      events: params\n    }));\n  },\n  dragControlStart: function (moveable, e) {\n    return this.dragStart(moveable, e);\n  },\n  dragControl: function (moveable, e) {\n    return this.drag(moveable, e);\n  },\n  dragControlAfter: function (moveable, e) {\n    return this.dragAfter(moveable, e);\n  },\n  dragControlEnd: function (moveable, e) {\n    return this.dragEnd(moveable, e);\n  },\n  dragGroupControlStart: function (moveable, e) {\n    return this.dragGroupStart(moveable, e);\n  },\n  dragGroupControl: function (moveable, e) {\n    return this.dragGroup(moveable, e);\n  },\n  dragGroupControlEnd: function (moveable, e) {\n    return this.dragGroupEnd(moveable, e);\n  },\n  fillDragParams: function (moveable, e) {\n    return fillParams(moveable, e, {\n      isPinch: !!e.isPinch,\n      transform: getNextTransformText(e)\n    });\n  },\n  fillDragEndParams: function (moveable, e) {\n    return fillParams(moveable, e, {\n      isPinch: !!e.isPinch,\n      isDrag: e.isDrag\n    });\n  }\n};\n\nfunction triggerAble(moveable, ableType, eventOperation, eventAffix, eventType, e, requestInstant) {\n  var isStart = eventType === \"Start\";\n  var target = moveable.state.target;\n  var isRequest = e.isRequest;\n\n  if (!target || isStart && eventAffix.indexOf(\"Control\") > -1 && !isRequest && moveable.areaElement === e.inputEvent.target) {\n    return false;\n  } // \"drag\" \"Control\" \"After\"\n\n\n  var eventName = \"\".concat(eventOperation).concat(eventAffix).concat(eventType);\n  var conditionName = \"\".concat(eventOperation).concat(eventAffix, \"Condition\");\n  var isEnd = eventType === \"End\";\n  var isAfter = eventType === \"After\";\n  var isFirstStart = isStart && (!moveable.targetGesto || !moveable.controlGesto || !moveable.targetGesto.isFlag() || !moveable.controlGesto.isFlag());\n\n  if (isFirstStart) {\n    moveable.updateRect(eventType, true, false);\n  }\n\n  if (eventType === \"\" && !isRequest) {\n    convertDragDist(moveable.state, e);\n  } // const isGroup = eventAffix.indexOf(\"Group\") > -1;\n\n\n  var ables = __spreadArray([], moveable[ableType], true);\n\n  if (isRequest) {\n    var requestAble_1 = e.requestAble;\n\n    if (!ables.some(function (able) {\n      return able.name === requestAble_1;\n    })) {\n      ables.push.apply(ables, moveable.props.ables.filter(function (able) {\n        return able.name === requestAble_1;\n      }));\n    }\n  }\n\n  if (!ables.length) {\n    return false;\n  }\n\n  var eventAbles = __spreadArray(__spreadArray([BeforeRenderable], ables, true), [Renderable], false).filter(function (able) {\n    return able[eventName];\n  });\n\n  var datas = e.datas;\n\n  if (isFirstStart) {\n    eventAbles.forEach(function (able) {\n      able.unset && able.unset(moveable);\n    });\n  }\n\n  var inputEvent = e.inputEvent;\n  var inputTarget;\n\n  if (isEnd && inputEvent) {\n    inputTarget = document.elementFromPoint(e.clientX, e.clientY) || inputEvent.target;\n  }\n\n  var resultCount = 0;\n  var results = eventAbles.filter(function (able) {\n    var ableName = able.name;\n    var nextDatas = datas[ableName] || (datas[ableName] = {});\n\n    if (isStart) {\n      nextDatas.isEventStart = !able[conditionName] || able[conditionName](moveable, e);\n    }\n\n    if (nextDatas.isEventStart) {\n      var result = able[eventName](moveable, __assign$1(__assign$1({}, e), {\n        resultCount: resultCount,\n        datas: nextDatas,\n        originalDatas: datas,\n        inputTarget: inputTarget\n      }));\n\n      moveable._emitter.off();\n\n      if (isStart && result === false) {\n        nextDatas.isEventStart = false;\n      }\n\n      resultCount += result ? 1 : 0;\n      return result;\n    }\n\n    return false;\n  });\n  var isUpdate = results.length;\n  var isForceEnd = false; // end ables\n\n  if (isStart && eventAbles.length && !isUpdate) {\n    isForceEnd = eventAbles.filter(function (able) {\n      var ableName = able.name;\n      var nextDatas = datas[ableName];\n\n      if (nextDatas.isEventStart) {\n        if (able.dragRelation === \"strong\") {\n          // cancel drag\n          nextDatas.isEventStart = false;\n          return false;\n        } // start drag\n\n\n        return true;\n      } // cancel event\n\n\n      return false;\n    }).length === 0;\n  }\n\n  if (isEnd || isForceEnd) {\n    moveable.state.gesto = null;\n\n    if (moveable.moveables) {\n      moveable.moveables.forEach(function (childMoveable) {\n        childMoveable.state.gesto = null;\n      });\n    }\n  }\n\n  if (isFirstStart && isForceEnd) {\n    eventAbles.forEach(function (able) {\n      able.unset && able.unset(moveable);\n    });\n  }\n\n  if (isStart && !isRequest && isUpdate) {\n    e === null || e === void 0 ? void 0 : e.preventDefault();\n  }\n\n  if (moveable.isUnmounted || isForceEnd) {\n    return false;\n  }\n\n  if (!isStart && isUpdate && !requestInstant || isEnd) {\n    moveable.updateRect(isEnd ? eventType : \"\", true, false);\n    moveable.forceUpdate();\n  }\n\n  if (!isStart && !isEnd && !isAfter && isUpdate && !requestInstant) {\n    triggerAble(moveable, ableType, eventOperation, eventAffix, eventType + \"After\", e);\n  }\n\n  return true;\n}\n\nfunction getTargetAbleGesto(moveable, moveableTarget, eventAffix) {\n  var controlBox = moveable.controlBox.getElement();\n  var targets = [];\n  targets.push(controlBox);\n\n  if (!moveable.props.dragArea || moveable.props.dragTarget) {\n    targets.push(moveableTarget);\n  }\n\n  var startFunc = function (e) {\n    var eventTarget = e.inputEvent.target;\n    var areaElement = moveable.areaElement;\n    return eventTarget === areaElement || !moveable.isMoveableElement(eventTarget) && !moveable.controlBox.getElement().contains(eventTarget) || hasClass(eventTarget, \"moveable-area\") || hasClass(eventTarget, \"moveable-padding\");\n  };\n\n  return getAbleGesto(moveable, targets, \"targetAbles\", eventAffix, {\n    dragStart: startFunc,\n    pinchStart: startFunc\n  });\n}\n\nfunction getAbleGesto(moveable, target, ableType, eventAffix, conditionFunctions) {\n  if (conditionFunctions === void 0) {\n    conditionFunctions = {};\n  }\n\n  var _a = moveable.props,\n      pinchOutside = _a.pinchOutside,\n      pinchThreshold = _a.pinchThreshold;\n  var options = {\n    preventDefault: false,\n    container: window,\n    pinchThreshold: pinchThreshold,\n    pinchOutside: pinchOutside\n  };\n  var gesto = new Gesto(target, options);\n  [\"drag\", \"pinch\"].forEach(function (eventOperation) {\n    [\"Start\", \"\", \"End\"].forEach(function (eventType) {\n      gesto.on(\"\".concat(eventOperation).concat(eventType), function (e) {\n        var eventName = e.eventType;\n\n        if (conditionFunctions[eventName] && !conditionFunctions[eventName](e)) {\n          e.stop();\n          return;\n        }\n\n        var result = triggerAble(moveable, ableType, eventOperation, eventAffix, eventType, e);\n\n        if (!result) {\n          e.stop();\n        }\n      });\n    });\n  });\n  return gesto;\n}\n\nvar EventManager =\n/*#__PURE__*/\nfunction () {\n  function EventManager(target, moveable, eventName) {\n    var _this = this;\n\n    this.target = target;\n    this.moveable = moveable;\n    this.eventName = eventName;\n    this.ables = [];\n\n    this._onEvent = function (e) {\n      var eventName = _this.eventName;\n      var moveable = _this.moveable;\n\n      if (moveable.state.disableNativeEvent) {\n        return;\n      }\n\n      _this.ables.forEach(function (able) {\n        able[eventName](moveable, {\n          inputEvent: e\n        });\n      });\n    };\n\n    target.addEventListener(eventName.toLowerCase(), this._onEvent);\n  }\n\n  var __proto = EventManager.prototype;\n\n  __proto.setAbles = function (ables) {\n    this.ables = ables;\n  };\n\n  __proto.destroy = function () {\n    this.target.removeEventListener(this.eventName.toLowerCase(), this._onEvent);\n    this.target = null;\n    this.moveable = null;\n  };\n\n  return EventManager;\n}();\n\nvar MoveableManager =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(MoveableManager, _super);\n\n  function MoveableManager() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = __assign$1({\n      container: null,\n      gesto: null,\n      renderPoses: [[0, 0], [0, 0], [0, 0], [0, 0]],\n      disableNativeEvent: false\n    }, getTargetInfo(null));\n    _this.enabledAbles = [];\n    _this.targetAbles = [];\n    _this.controlAbles = [];\n    _this.rotation = 0;\n    _this.scale = [1, 1];\n    _this.isUnmounted = false;\n    _this.events = {\n      \"mouseEnter\": null,\n      \"mouseLeave\": null\n    };\n    _this._emitter = new EventEmitter();\n    _this._prevTarget = null;\n    _this._prevDragArea = false;\n    _this._observer = null;\n    _this._observerId = 0;\n\n    _this.onPreventClick = function (e) {\n      e.stopPropagation();\n      removeEvent(window, \"click\", _this.onPreventClick, true);\n    };\n\n    _this.checkUpdateRect = function () {\n      if (_this.isDragging()) {\n        return;\n      }\n\n      var parentMoveable = _this.props.parentMoveable;\n\n      if (parentMoveable) {\n        parentMoveable.checkUpdateRect();\n        return;\n      }\n\n      cancelAnimationFrame(_this._observerId);\n      _this._observerId = requestAnimationFrame(function () {\n        if (_this.isDragging()) {\n          return;\n        }\n\n        _this.updateRect();\n      });\n    };\n\n    return _this;\n  }\n\n  var __proto = MoveableManager.prototype;\n\n  __proto.render = function () {\n    var props = this.props;\n    var state = this.state;\n    var parentPosition = props.parentPosition,\n        className = props.className,\n        propsTarget = props.target,\n        zoom = props.zoom,\n        cspNonce = props.cspNonce,\n        translateZ = props.translateZ,\n        ControlBoxElement = props.cssStyled,\n        portalContainer = props.portalContainer;\n    this.checkUpdate();\n    this.updateRenderPoses();\n\n    var _a = parentPosition || {\n      left: 0,\n      top: 0\n    },\n        parentLeft = _a.left,\n        parentTop = _a.top;\n\n    var left = state.left,\n        top = state.top,\n        stateTarget = state.target,\n        direction = state.direction;\n    var groupTargets = props.targets;\n    var isDisplay = (groupTargets && groupTargets.length || propsTarget) && stateTarget;\n    var isDragging = this.isDragging();\n    var ableAttributes = {};\n    this.getEnabledAbles().forEach(function (able) {\n      ableAttributes[\"data-able-\".concat(able.name.toLowerCase())] = true;\n    });\n    return createElement(ControlBoxElement, __assign$1({\n      cspNonce: cspNonce,\n      ref: ref(this, \"controlBox\"),\n      className: \"\".concat(prefix(\"control-box\", direction === -1 ? \"reverse\" : \"\", isDragging ? \"dragging\" : \"\"), \" \").concat(className)\n    }, ableAttributes, {\n      onClick: this.onPreventClick,\n      portalContainer: portalContainer,\n      style: {\n        \"position\": \"absolute\",\n        \"display\": isDisplay ? \"block\" : \"none\",\n        \"transform\": \"translate3d(\".concat(left - parentLeft, \"px, \").concat(top - parentTop, \"px, \").concat(translateZ, \")\"),\n        \"--zoom\": zoom,\n        \"--zoompx\": \"\".concat(zoom, \"px\")\n      }\n    }), this.renderAbles(), this._renderLines());\n  };\n\n  __proto.componentDidMount = function () {\n    this.isUnmounted = false;\n    this.controlBox.getElement();\n    var props = this.props;\n    var parentMoveable = props.parentMoveable,\n        container = props.container,\n        wrapperMoveable = props.wrapperMoveable;\n\n    this._updateTargets();\n\n    this._updateNativeEvents();\n\n    this._updateEvents();\n\n    if (!container && !parentMoveable && !wrapperMoveable) {\n      this.updateRect(\"\", false, true);\n    }\n\n    this.updateCheckInput();\n\n    this._updateObserver(this.props);\n  };\n\n  __proto.componentDidUpdate = function (prevProps) {\n    this._updateNativeEvents();\n\n    this._updateEvents();\n\n    this._updateTargets();\n\n    this.updateCheckInput();\n\n    this._updateObserver(prevProps);\n  };\n\n  __proto.componentWillUnmount = function () {\n    this.isUnmounted = true;\n\n    this._emitter.off();\n\n    unset(this, \"targetGesto\");\n    unset(this, \"controlGesto\");\n    var events = this.events;\n\n    for (var name in events) {\n      var manager = events[name];\n      manager && manager.destroy();\n    }\n  };\n\n  __proto.getContainer = function () {\n    var _a = this.props,\n        parentMoveable = _a.parentMoveable,\n        wrapperMoveable = _a.wrapperMoveable,\n        container = _a.container;\n    return container || wrapperMoveable && wrapperMoveable.getContainer() || parentMoveable && parentMoveable.getContainer() || this.controlBox.getElement().parentElement;\n  };\n  /**\n   * Check if the target is an element included in the moveable.\n   * @method Moveable#isMoveableElement\n   * @param - the target\n   * @example\n   * import Moveable from \"moveable\";\n   *\n   * const moveable = new Moveable(document.body);\n   *\n   * window.addEventListener(\"click\", e => {\n   *     if (!moveable.isMoveableElement(e.target)) {\n   *         moveable.target = e.target;\n   *     }\n   * });\n   */\n\n\n  __proto.isMoveableElement = function (target) {\n    return target && (target.getAttribute(\"class\") || \"\").indexOf(PREFIX) > -1;\n  };\n  /**\n   * You can drag start the Moveable through the external `MouseEvent`or `TouchEvent`. (Angular: ngDragStart)\n   * @method Moveable#dragStart\n   * @param - external `MouseEvent`or `TouchEvent`\n   * @example\n   * import Moveable from \"moveable\";\n   *\n   * const moveable = new Moveable(document.body);\n   *\n   * document.body.addEventListener(\"mousedown\", e => {\n   *     if (!moveable.isMoveableElement(e.target)) {\n   *          moveable.dragStart(e);\n   *     }\n   * });\n   */\n\n\n  __proto.dragStart = function (e) {\n    var targetGesto = this.targetGesto;\n\n    if (targetGesto && !targetGesto.isFlag()) {\n      targetGesto.triggerDragStart(e);\n    }\n\n    return this;\n  };\n  /**\n   * Hit test an element or rect on a moveable target.\n   * @method Moveable#hitTest\n   * @param - element or rect to test\n   * @return - Get hit test rate (rate > 0 is hitted)\n   * @example\n   * import Moveable from \"moveable\";\n   *\n   * const moveable = new Moveable(document.body);\n   *\n   * document.body.addEventListener(\"mousedown\", e => {\n   *     if (moveable.hitTest(e.target) > 0) {\n   *          console.log(\"hiited\");\n   *     }\n   * });\n   */\n\n\n  __proto.hitTest = function (el) {\n    var _a = this.state,\n        target = _a.target,\n        pos1 = _a.pos1,\n        pos2 = _a.pos2,\n        pos3 = _a.pos3,\n        pos4 = _a.pos4,\n        targetClientRect = _a.targetClientRect;\n\n    if (!target) {\n      return 0;\n    }\n\n    var rect;\n\n    if (el instanceof Element) {\n      var clientRect = el.getBoundingClientRect();\n      rect = {\n        left: clientRect.left,\n        top: clientRect.top,\n        width: clientRect.width,\n        height: clientRect.height\n      };\n    } else {\n      rect = __assign$1({\n        width: 0,\n        height: 0\n      }, el);\n    }\n\n    var rectLeft = rect.left,\n        rectTop = rect.top,\n        rectWidth = rect.width,\n        rectHeight = rect.height;\n    var points = fitPoints([pos1, pos2, pos4, pos3], targetClientRect);\n    var size = getOverlapSize(points, [[rectLeft, rectTop], [rectLeft + rectWidth, rectTop], [rectLeft + rectWidth, rectTop + rectHeight], [rectLeft, rectTop + rectHeight]]);\n    var totalSize = getAreaSize(points);\n\n    if (!size || !totalSize) {\n      return 0;\n    }\n\n    return Math.min(100, size / totalSize * 100);\n  };\n  /**\n   * Whether the coordinates are inside Moveable\n   * @method Moveable#isInside\n   * @param - x coordinate\n   * @param - y coordinate\n   * @return - True if the coordinate is in moveable or false\n   * @example\n   * import Moveable from \"moveable\";\n   *\n   * const moveable = new Moveable(document.body);\n   *\n   * document.body.addEventListener(\"mousedown\", e => {\n   *     if (moveable.isInside(e.clientX, e.clientY)) {\n   *          console.log(\"inside\");\n   *     }\n   * });\n   */\n\n\n  __proto.isInside = function (clientX, clientY) {\n    var _a = this.state,\n        target = _a.target,\n        pos1 = _a.pos1,\n        pos2 = _a.pos2,\n        pos3 = _a.pos3,\n        pos4 = _a.pos4,\n        targetClientRect = _a.targetClientRect;\n\n    if (!target) {\n      return false;\n    }\n\n    return isInside([clientX, clientY], fitPoints([pos1, pos2, pos4, pos3], targetClientRect));\n  };\n  /**\n   * If the width, height, left, and top of all elements change, update the shape of the moveable.\n   * @method Moveable#updateRect\n   * @example\n   * import Moveable from \"moveable\";\n   *\n   * const moveable = new Moveable(document.body);\n   *\n   * window.addEventListener(\"resize\", e => {\n   *     moveable.updateRect();\n   * });\n   */\n\n\n  __proto.updateRect = function (type, isTarget, isSetState) {\n    if (isSetState === void 0) {\n      isSetState = true;\n    }\n\n    var props = this.props;\n    var parentMoveable = props.parentMoveable;\n    var state = this.state;\n    var target = state.target || this.props.target;\n    var container = this.getContainer();\n    var rootContainer = parentMoveable ? parentMoveable.props.rootContainer : props.rootContainer;\n    this.updateState(getTargetInfo(this.controlBox && this.controlBox.getElement(), target, container, container, rootContainer || container), parentMoveable ? false : isSetState);\n  };\n  /**\n   * Check if the moveable state is being dragged.\n   * @method Moveable#isDragging\n   * @example\n   * import Moveable from \"moveable\";\n   *\n   * const moveable = new Moveable(document.body);\n   *\n   * // false\n   * console.log(moveable.isDragging());\n   *\n   * moveable.on(\"drag\", () => {\n   *   // true\n   *   console.log(moveable.isDragging());\n   * });\n   */\n\n\n  __proto.isDragging = function () {\n    return (this.targetGesto ? this.targetGesto.isFlag() : false) || (this.controlGesto ? this.controlGesto.isFlag() : false);\n  };\n  /**\n   * If the width, height, left, and top of the only target change, update the shape of the moveable.\n   * @method Moveable#updateTarget\n   * @example\n   * import Moveable from \"moveable\";\n   *\n   * const moveable = new Moveable(document.body);\n   *\n   * moveable.updateTarget();\n   */\n\n\n  __proto.updateTarget = function (type) {\n    this.updateRect(type, true);\n  };\n  /**\n   * You can get the vertex information, position and offset size information of the target based on the container.\n   * @method Moveable#getRect\n   * @return - The Rect Info\n   * @example\n   * import Moveable from \"moveable\";\n   *\n   * const moveable = new Moveable(document.body);\n   *\n   * const rectInfo = moveable.getRect();\n   */\n\n\n  __proto.getRect = function () {\n    var state = this.state;\n    var poses = getAbsolutePosesByState(this.state);\n    var pos1 = poses[0],\n        pos2 = poses[1],\n        pos3 = poses[2],\n        pos4 = poses[3];\n    var rect = getRect(poses);\n    var offsetWidth = state.width,\n        offsetHeight = state.height;\n    var width = rect.width,\n        height = rect.height,\n        left = rect.left,\n        top = rect.top;\n    var statePos = [state.left, state.top];\n    var origin = plus(statePos, state.origin);\n    var beforeOrigin = plus(statePos, state.beforeOrigin);\n    var transformOrigin = state.transformOrigin;\n    return {\n      width: width,\n      height: height,\n      left: left,\n      top: top,\n      pos1: pos1,\n      pos2: pos2,\n      pos3: pos3,\n      pos4: pos4,\n      offsetWidth: offsetWidth,\n      offsetHeight: offsetHeight,\n      beforeOrigin: beforeOrigin,\n      origin: origin,\n      transformOrigin: transformOrigin,\n      rotation: this.getRotation()\n    };\n  };\n  /**\n   * Get a manager that manages the moveable's state and props.\n   * @method Moveable#getManager\n   * @return - The Rect Info\n   * @example\n   * import Moveable from \"moveable\";\n   *\n   * const moveable = new Moveable(document.body);\n   *\n   * const manager = moveable.getManager(); // real moveable class instance\n   */\n\n\n  __proto.getManager = function () {\n    return this;\n  };\n\n  __proto.getRotation = function () {\n    var _a = this.state,\n        pos1 = _a.pos1,\n        pos2 = _a.pos2,\n        direction = _a.direction;\n    return getAbsoluteRotation(pos1, pos2, direction);\n  };\n  /**\n   * Request able through a method rather than an event.\n   * At the moment of execution, requestStart is executed,\n   * and then request and requestEnd can be executed through Requester.\n   * @method Moveable#request\n   * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Draggable.html#request|Draggable Requester}\n   * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Resizable.html#request|Resizable Requester}\n   * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Scalable.html#request|Scalable Requester}\n   * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Rotatable.html#request|Rotatable Requester}\n   * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.OriginDraggable.html#request|OriginDraggable Requester}\n   * @param - ableName\n   * @param - request to be able params.\n   * @param - If isInstant is true, request and requestEnd are executed immediately.\n   * @return - Able Requester. If there is no request in able, nothing will work.\n   * @example\n   * import Moveable from \"moveable\";\n   *\n   * const moveable = new Moveable(document.body);\n   *\n   * // Instantly Request (requestStart - request - requestEnd)\n   * moveable.request(\"draggable\", { deltaX: 10, deltaY: 10 }, true);\n   *\n   * // Start move\n   * const requester = moveable.request(\"draggable\");\n   * requester.request({ deltaX: 10, deltaY: 10 });\n   * requester.request({ deltaX: 10, deltaY: 10 });\n   * requester.request({ deltaX: 10, deltaY: 10 });\n   * requester.requestEnd();\n   */\n\n\n  __proto.request = function (ableName, param, isInstant) {\n    if (param === void 0) {\n      param = {};\n    }\n\n    var _a = this.props,\n        ables = _a.ables,\n        groupable = _a.groupable;\n    var requsetAble = ables.filter(function (able) {\n      return able.name === ableName;\n    })[0];\n\n    if (this.isDragging() || !requsetAble || !requsetAble.request) {\n      return {\n        request: function () {\n          return this;\n        },\n        requestEnd: function () {\n          return this;\n        }\n      };\n    }\n\n    var self = this;\n    var ableRequester = requsetAble.request(this);\n    var requestInstant = isInstant || param.isInstant;\n    var ableType = ableRequester.isControl ? \"controlAbles\" : \"targetAbles\";\n    var eventAffix = \"\".concat(groupable ? \"Group\" : \"\").concat(ableRequester.isControl ? \"Control\" : \"\");\n    var requester = {\n      request: function (ableParam) {\n        triggerAble(self, ableType, \"drag\", eventAffix, \"\", __assign$1(__assign$1({}, ableRequester.request(ableParam)), {\n          requestAble: ableName,\n          isRequest: true\n        }), requestInstant);\n        return this;\n      },\n      requestEnd: function () {\n        triggerAble(self, ableType, \"drag\", eventAffix, \"End\", __assign$1(__assign$1({}, ableRequester.requestEnd()), {\n          requestAble: ableName,\n          isRequest: true\n        }), requestInstant);\n        return this;\n      }\n    };\n    triggerAble(self, ableType, \"drag\", eventAffix, \"Start\", __assign$1(__assign$1({}, ableRequester.requestStart(param)), {\n      requestAble: ableName,\n      isRequest: true\n    }), requestInstant);\n    return requestInstant ? requester.request(param).requestEnd() : requester;\n  };\n  /**\n   * Remove the Moveable object and the events.\n   * @method Moveable#destroy\n   * @example\n   * import Moveable from \"moveable\";\n   *\n   * const moveable = new Moveable(document.body);\n   *\n   * moveable.destroy();\n   */\n\n\n  __proto.destroy = function () {\n    this.componentWillUnmount();\n  };\n\n  __proto.updateRenderPoses = function () {\n    var state = this.state;\n    var props = this.props;\n    var originalBeforeOrigin = state.originalBeforeOrigin,\n        transformOrigin = state.transformOrigin,\n        allMatrix = state.allMatrix,\n        is3d = state.is3d,\n        pos1 = state.pos1,\n        pos2 = state.pos2,\n        pos3 = state.pos3,\n        pos4 = state.pos4,\n        stateLeft = state.left,\n        stateTop = state.top;\n\n    var _a = props.padding || {},\n        _b = _a.left,\n        left = _b === void 0 ? 0 : _b,\n        _c = _a.top,\n        top = _c === void 0 ? 0 : _c,\n        _d = _a.bottom,\n        bottom = _d === void 0 ? 0 : _d,\n        _e = _a.right,\n        right = _e === void 0 ? 0 : _e;\n\n    var n = is3d ? 4 : 3;\n    var absoluteOrigin = props.groupable ? originalBeforeOrigin : plus(originalBeforeOrigin, [stateLeft, stateTop]);\n    state.renderPoses = [plus(pos1, calculatePadding(allMatrix, [-left, -top], transformOrigin, absoluteOrigin, n)), plus(pos2, calculatePadding(allMatrix, [right, -top], transformOrigin, absoluteOrigin, n)), plus(pos3, calculatePadding(allMatrix, [-left, bottom], transformOrigin, absoluteOrigin, n)), plus(pos4, calculatePadding(allMatrix, [right, bottom], transformOrigin, absoluteOrigin, n))];\n  };\n\n  __proto.checkUpdate = function () {\n    var _a = this.props,\n        target = _a.target,\n        container = _a.container,\n        parentMoveable = _a.parentMoveable;\n    var _b = this.state,\n        stateTarget = _b.target,\n        stateContainer = _b.container;\n\n    if (!stateTarget && !target) {\n      return;\n    }\n\n    this.updateAbles();\n    var isChanged = !equals(stateTarget, target) || !equals(stateContainer, container);\n\n    if (!isChanged) {\n      return;\n    }\n\n    var moveableContainer = container || this.controlBox;\n\n    if (moveableContainer) {\n      this.unsetAbles();\n    }\n\n    this.updateState({\n      target: target,\n      container: container\n    });\n\n    if (!parentMoveable && moveableContainer) {\n      this.updateRect(\"End\", false, false);\n    }\n  };\n\n  __proto.triggerEvent = function (name, e) {\n    this._emitter.trigger(name, e);\n\n    var callback = this.props[name];\n    return callback && callback(e);\n  };\n\n  __proto.useCSS = function (tag, css) {\n    var customStyleMap = this.props.customStyledMap;\n    var key = tag + css;\n\n    if (!customStyleMap[key]) {\n      customStyleMap[key] = styled(tag, css);\n    }\n\n    return customStyleMap[key];\n  };\n\n  __proto.unsetAbles = function () {\n    var _this = this;\n\n    this.targetAbles.forEach(function (able) {\n      if (able.unset) {\n        able.unset(_this);\n      }\n    });\n  };\n\n  __proto.updateAbles = function (ables, eventAffix) {\n    if (ables === void 0) {\n      ables = this.props.ables;\n    }\n\n    if (eventAffix === void 0) {\n      eventAffix = \"\";\n    }\n\n    var props = this.props;\n    var triggerAblesSimultaneously = props.triggerAblesSimultaneously;\n    var enabledAbles = ables.filter(function (able) {\n      return able && (able.always && props[able.name] !== false || props[able.name]);\n    });\n    var dragStart = \"drag\".concat(eventAffix, \"Start\");\n    var pinchStart = \"pinch\".concat(eventAffix, \"Start\");\n    var dragControlStart = \"drag\".concat(eventAffix, \"ControlStart\");\n    var targetAbles = filterAbles(enabledAbles, [dragStart, pinchStart], triggerAblesSimultaneously);\n    var controlAbles = filterAbles(enabledAbles, [dragControlStart], triggerAblesSimultaneously);\n    this.enabledAbles = enabledAbles;\n    this.targetAbles = targetAbles;\n    this.controlAbles = controlAbles;\n  };\n\n  __proto.updateState = function (nextState, isSetState) {\n    if (isSetState) {\n      if (this.isUnmounted) {\n        return;\n      }\n\n      this.setState(nextState);\n    } else {\n      var state = this.state;\n\n      for (var name in nextState) {\n        state[name] = nextState[name];\n      }\n    }\n  };\n\n  __proto.getEnabledAbles = function () {\n    var props = this.props;\n    var ables = props.ables;\n    return ables.filter(function (able) {\n      return able && props[able.name];\n    });\n  };\n\n  __proto.renderAbles = function () {\n    var _this = this;\n\n    var props = this.props;\n    var triggerAblesSimultaneously = props.triggerAblesSimultaneously;\n    var Renderer = {\n      createElement: createElement\n    };\n    return groupByMap(flat(filterAbles(this.getEnabledAbles(), [\"render\"], triggerAblesSimultaneously).map(function (_a) {\n      var render = _a.render;\n      return render(_this, Renderer) || [];\n    })).filter(function (el) {\n      return el;\n    }), function (_a) {\n      var key = _a.key;\n      return key;\n    }).map(function (group) {\n      return group[0];\n    });\n  };\n\n  __proto.updateCheckInput = function () {\n    this.targetGesto && (this.targetGesto.options.checkInput = this.props.checkInput);\n  };\n\n  __proto._updateObserver = function (prevProps) {\n    var _a;\n\n    var props = this.props;\n    var target = props.target;\n\n    if (!window.ResizeObserver || !target || !props.useResizeObserver) {\n      (_a = this._observer) === null || _a === void 0 ? void 0 : _a.disconnect();\n      return;\n    }\n\n    if (prevProps.target === target && this._observer) {\n      return;\n    }\n\n    var observer = new ResizeObserver(this.checkUpdateRect);\n    observer.observe(target, {\n      box: \"border-box\"\n    });\n    this._observer = observer;\n    return;\n  };\n\n  __proto._updateEvents = function () {\n    var controlBoxElement = this.controlBox.getElement();\n    var hasTargetAble = this.targetAbles.length;\n    var hasControlAble = this.controlAbles.length;\n    var props = this.props;\n    var target = props.dragTarget || props.target;\n\n    var isUnset = !hasTargetAble && this.targetGesto || this._isTargetChanged(true);\n\n    if (isUnset) {\n      unset(this, \"targetGesto\");\n      this.updateState({\n        gesto: null\n      });\n    }\n\n    if (!hasControlAble) {\n      unset(this, \"controlGesto\");\n    }\n\n    if (target && hasTargetAble && !this.targetGesto) {\n      this.targetGesto = getTargetAbleGesto(this, target, \"\");\n    }\n\n    if (!this.controlGesto && hasControlAble) {\n      this.controlGesto = getAbleGesto(this, controlBoxElement, \"controlAbles\", \"Control\");\n    }\n  };\n\n  __proto._updateTargets = function () {\n    var props = this.props;\n    this._prevTarget = props.dragTarget || props.target;\n    this._prevDragArea = props.dragArea;\n  };\n\n  __proto._renderLines = function () {\n    var props = this.props;\n    var edge = props.edge,\n        zoom = props.zoom,\n        hideDefaultLines = props.hideDefaultLines;\n\n    if (hideDefaultLines) {\n      return [];\n    }\n\n    var renderPoses = this.state.renderPoses;\n    var Renderer = {\n      createElement: createElement\n    };\n    return [renderLine(Renderer, edge ? \"n\" : \"\", renderPoses[0], renderPoses[1], zoom, 0), renderLine(Renderer, edge ? \"e\" : \"\", renderPoses[1], renderPoses[3], zoom, 1), renderLine(Renderer, edge ? \"w\" : \"\", renderPoses[0], renderPoses[2], zoom, 2), renderLine(Renderer, edge ? \"s\" : \"\", renderPoses[2], renderPoses[3], zoom, 3)];\n  };\n\n  __proto._isTargetChanged = function (useDragArea) {\n    var props = this.props;\n    var target = props.dragTarget || props.target;\n    var prevTarget = this._prevTarget;\n    var prevDragArea = this._prevDragArea;\n    var dragArea = props.dragArea; // check target without dragArea\n\n    var isTargetChanged = !dragArea && prevTarget !== target;\n    var isDragAreaChanged = (useDragArea || dragArea) && prevDragArea !== dragArea;\n    return isTargetChanged || isDragAreaChanged;\n  };\n\n  __proto._updateNativeEvents = function () {\n    var _this = this;\n\n    var props = this.props;\n    var target = props.dragArea ? this.areaElement : this.state.target;\n    var events = this.events;\n    var eventKeys = getKeys(events);\n\n    if (this._isTargetChanged()) {\n      for (var eventName in events) {\n        var manager = events[eventName];\n        manager && manager.destroy();\n        events[eventName] = null;\n      }\n    }\n\n    if (!target) {\n      return;\n    }\n\n    var enabledAbles = this.enabledAbles;\n    eventKeys.forEach(function (eventName) {\n      var ables = filterAbles(enabledAbles, [eventName]);\n      var hasAbles = ables.length > 0;\n      var manager = events[eventName];\n\n      if (!hasAbles) {\n        if (manager) {\n          manager.destroy();\n          events[eventName] = null;\n        }\n\n        return;\n      }\n\n      if (!manager) {\n        manager = new EventManager(target, _this, eventName);\n        events[eventName] = manager;\n      }\n\n      manager.setAbles(ables);\n    });\n  };\n\n  MoveableManager.defaultProps = {\n    target: null,\n    dragTarget: null,\n    container: null,\n    rootContainer: null,\n    origin: true,\n    edge: false,\n    parentMoveable: null,\n    wrapperMoveable: null,\n    parentPosition: null,\n    portalContainer: null,\n    useResizeObserver: false,\n    ables: [],\n    pinchThreshold: 20,\n    dragArea: false,\n    passDragArea: false,\n    transformOrigin: \"\",\n    className: \"\",\n    zoom: 1,\n    triggerAblesSimultaneously: false,\n    padding: {},\n    pinchOutside: true,\n    checkInput: false,\n    groupable: false,\n    hideDefaultLines: false,\n    cspNonce: \"\",\n    translateZ: 0,\n    cssStyled: null,\n    customStyledMap: {},\n    props: {}\n  };\n  return MoveableManager;\n}(PureComponent);\n/**\n * The target to indicate Moveable Control Box.\n * @name Moveable#target\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n * moveable.target = document.querySelector(\".target\");\n */\n\n/**\n * Zooms in the elements of a moveable.\n * @name Moveable#zoom\n * @default 1\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n * moveable.zoom = 2;\n */\n\n/**\n * Whether the target size is detected and updated whenever it changes.\n * @name Moveable#zoom\n * @default false\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n * moveable.useResizeObserver = true;\n */\n\n/**\n * Resize, Scale Events at edges\n * @name Moveable#edge\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n * moveable.edge = true;\n */\n\n/**\n * You can specify the className of the moveable controlbox.\n * @name Moveable#className\n * @default \"\"\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *   className: \"\",\n * });\n *\n * moveable.className = \"moveable1\";\n */\n\n/**\n * The target(s) to drag Moveable target(s)\n * @name Moveable#dragTarget\n * @default target\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n * moveable.target = document.querySelector(\".target\");\n * moveable.dragTarget = document.querySelector(\".dragTarget\");\n */\n\n/**\n * `renderStart` event occurs at the first start of all events.\n * @memberof Moveable\n * @event renderStart\n * @param {Moveable.OnRenderStart} - Parameters for the `renderStart` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: document.querySelector(\".target\"),\n * });\n * moveable.on(\"renderStart\", ({ target }) => {\n *     console.log(\"onRenderStart\", target);\n * });\n */\n\n/**\n * `render` event occurs before the target is drawn on the screen.\n * @memberof Moveable\n * @event render\n * @param {Moveable.OnRender} - Parameters for the `render` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: document.querySelector(\".target\"),\n * });\n * moveable.on(\"render\", ({ target }) => {\n *     console.log(\"onRender\", target);\n * });\n */\n\n/**\n * `renderEnd` event occurs at the end of all events.\n * @memberof Moveable\n * @event renderEnd\n * @param {Moveable.OnRenderEnd} - Parameters for the `renderEnd` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: document.querySelector(\".target\"),\n * });\n * moveable.on(\"renderEnd\", ({ target }) => {\n *     console.log(\"onRenderEnd\", target);\n * });\n */\n\n/**\n * `renderGroupStart` event occurs at the first start of all events in group.\n * @memberof Moveable\n * @event renderGroupStart\n * @param {Moveable.OnRenderGroupStart} - Parameters for the `renderGroupStart` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n * });\n * moveable.on(\"renderGroupStart\", ({ targets }) => {\n *     console.log(\"onRenderGroupStart\", targets);\n * });\n */\n\n/**\n * `renderGroup` event occurs before the target is drawn on the screen in group.\n * @memberof Moveable\n * @event renderGroup\n * @param {Moveable.OnRenderGroup} - Parameters for the `renderGroup` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n * });\n * moveable.on(\"renderGroup\", ({ targets }) => {\n *     console.log(\"onRenderGroup\", targets);\n * });\n */\n\n/**\n * `renderGroupEnd` event occurs at the end of all events in group.\n * @memberof Moveable\n * @event renderGroupEnd\n * @param {Moveable.OnRenderGroupEnd} - Parameters for the `renderGroupEnd` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n * });\n * moveable.on(\"renderGroupEnd\", ({ targets }) => {\n *     console.log(\"onRenderGroupEnd\", targets);\n * });\n */\n\n\nvar Groupable = {\n  name: \"groupable\",\n  props: {\n    defaultGroupRotate: Number,\n    defaultGroupOrigin: String,\n    groupable: Boolean\n  },\n  events: {},\n  render: function (moveable, React) {\n    var targets = moveable.props.targets || [];\n    moveable.moveables = [];\n    var _a = moveable.state,\n        left = _a.left,\n        top = _a.top;\n    var position = {\n      left: left,\n      top: top\n    };\n    var props = moveable.props;\n    return targets.map(function (target, i) {\n      return React.createElement(MoveableManager, {\n        key: \"moveable\" + i,\n        ref: refs(moveable, \"moveables\", i),\n        target: target,\n        origin: false,\n        cssStyled: props.cssStyled,\n        customStyledMap: props.customStyledMap,\n        useResizeObserver: props.useResizeObserver,\n        parentMoveable: moveable,\n        parentPosition: position\n      });\n    });\n  }\n};\nvar Clickable = makeAble(\"clickable\", {\n  props: {\n    clickable: Boolean\n  },\n  events: {\n    onClick: \"click\",\n    onClickGroup: \"clickGroup\"\n  },\n  always: true,\n  dragRelation: \"weak\",\n  dragStart: function (moveable, e) {\n    if (!e.isRequest) {\n      addEvent(window, \"click\", moveable.onPreventClick, true);\n    }\n  },\n  dragControlStart: function (moveable, e) {\n    this.dragStart(moveable, e);\n  },\n  dragGroupStart: function (moveable, e) {\n    this.dragStart(moveable, e);\n    e.datas.inputTarget = e.inputEvent && e.inputEvent.target;\n  },\n  dragEnd: function (moveable, e) {\n    this.endEvent(moveable);\n    var target = moveable.state.target;\n    var inputEvent = e.inputEvent;\n    var inputTarget = e.inputTarget;\n    var isMoveableElement = moveable.isMoveableElement(inputTarget);\n    var containsElement = !isMoveableElement && moveable.controlBox.getElement().contains(inputTarget);\n\n    if (!e.isDrag || containsElement) {\n      this.unset(moveable);\n    }\n\n    if (!inputEvent || !inputTarget || e.isDrag || moveable.isMoveableElement(inputTarget) || containsElement // External event duplicate target or dragAreaElement\n    ) {\n        return;\n      }\n\n    var containsTarget = target.contains(inputTarget);\n    triggerEvent(moveable, \"onClick\", fillParams(moveable, e, {\n      isDouble: e.isDouble,\n      inputTarget: inputTarget,\n      isTarget: target === inputTarget,\n      containsTarget: containsTarget\n    }));\n  },\n  dragGroupEnd: function (moveable, e) {\n    this.endEvent(moveable);\n    var inputEvent = e.inputEvent;\n    var inputTarget = e.inputTarget;\n\n    if (!inputEvent || !inputTarget || e.isDrag || moveable.isMoveableElement(inputTarget) // External event duplicate target or dragAreaElement\n    || e.datas.inputTarget === inputTarget) {\n      return;\n    }\n\n    var targets = moveable.props.targets;\n    var targetIndex = targets.indexOf(inputTarget);\n    var isTarget = targetIndex > -1;\n    var containsTarget = false;\n\n    if (targetIndex === -1) {\n      targetIndex = findIndex(targets, function (parentTarget) {\n        return parentTarget.contains(inputTarget);\n      });\n      containsTarget = targetIndex > -1;\n    }\n\n    triggerEvent(moveable, \"onClickGroup\", fillParams(moveable, e, {\n      isDouble: e.isDouble,\n      targets: targets,\n      inputTarget: inputTarget,\n      targetIndex: targetIndex,\n      isTarget: isTarget,\n      containsTarget: containsTarget\n    }));\n  },\n  dragControlEnd: function (moveable, e) {\n    this.dragEnd(moveable, e);\n  },\n  dragGroupControlEnd: function (moveable, e) {\n    this.dragEnd(moveable, e);\n  },\n  endEvent: function (moveable) {\n    var _this = this;\n\n    requestAnimationFrame(function () {\n      _this.unset(moveable);\n    });\n  },\n  unset: function (moveable) {\n    removeEvent(window, \"click\", moveable.onPreventClick, true);\n  }\n});\n/**\n * When you click on the element, the `click` event is called.\n * @memberof Moveable\n * @event click\n * @param {Moveable.OnClick} - Parameters for the `click` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: document.querySelector(\".target\"),\n * });\n * moveable.on(\"click\", ({ hasTarget, containsTarget, targetIndex }) => {\n *     // If you click on an element other than the target and not included in the target, index is -1.\n *     console.log(\"onClickGroup\", target, hasTarget, containsTarget, targetIndex);\n * });\n */\n\n/**\n * When you click on the element inside the group, the `clickGroup` event is called.\n * @memberof Moveable\n * @event clickGroup\n * @param {Moveable.OnClickGroup} - Parameters for the `clickGroup` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n * });\n * moveable.on(\"clickGroup\", ({ inputTarget, isTarget, containsTarget, targetIndex }) => {\n *     // If you click on an element other than the target and not included in the target, index is -1.\n *     console.log(\"onClickGroup\", inputTarget, isTarget, containsTarget, targetIndex);\n * });\n */\n\nfunction getDraggableEvent(e) {\n  var datas = e.originalDatas.draggable;\n\n  if (!datas) {\n    e.originalDatas.draggable = {};\n    datas = e.originalDatas.draggable;\n  }\n\n  return __assign$1(__assign$1({}, e), {\n    datas: datas\n  });\n}\n\nvar edgeDraggable = makeAble(\"edgeDraggable\", {\n  dragControlCondition: function (moveable, e) {\n    if (!moveable.props.edgeDraggable || !e.inputEvent) {\n      return false;\n    }\n\n    var target = e.inputEvent.target;\n    return hasClass(target, prefix(\"direction\")) && hasClass(target, prefix(\"line\"));\n  },\n  dragControlStart: function (moveable, e) {\n    return Draggable.dragStart(moveable, getDraggableEvent(e));\n  },\n  dragControl: function (moveable, e) {\n    return Draggable.drag(moveable, getDraggableEvent(e));\n  },\n  dragControlEnd: function (moveable, e) {\n    return Draggable.dragEnd(moveable, getDraggableEvent(e));\n  },\n  dragGroupControlCondition: function (moveable, e) {\n    if (!moveable.props.edgeDraggable || !e.inputEvent) {\n      return false;\n    }\n\n    var target = e.inputEvent.target;\n    return hasClass(target, prefix(\"direction\")) && hasClass(target, prefix(\"line\"));\n  },\n  dragGroupControlStart: function (moveable, e) {\n    return Draggable.dragGroupStart(moveable, getDraggableEvent(e));\n  },\n  dragGroupControl: function (moveable, e) {\n    return Draggable.dragGroup(moveable, getDraggableEvent(e));\n  },\n  dragGroupControlEnd: function (moveable, e) {\n    return Draggable.dragGroupEnd(moveable, getDraggableEvent(e));\n  },\n  unset: function (moveable) {\n    return Draggable.unset(moveable);\n  }\n});\n/**\n * Whether to move by dragging the edge line (default: false)\n * @name Moveable.Draggable#edgeDraggable\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *  draggable: true,\n *  edgeDraggable: false,\n * });\n *\n * moveable.edgeDraggable = true;\n */\n\nvar IndividualGroupable = {\n  name: \"individualGroupable\",\n  props: {\n    individualGroupable: Boolean\n  },\n  events: {}\n};\nvar MOVEABLE_ABLES =\n/*#__PURE__*/\n[BeforeRenderable, Default, Snappable, Pinchable, Draggable, edgeDraggable, Rotatable, Resizable, Scalable, Warpable, Scrollable, Padding, Origin, OriginDraggable, Clippable, Roundable, Groupable, IndividualGroupable, Clickable, DragArea, Renderable];\nvar MOVEABLE_EVENTS_PROPS_MAP =\n/*#__PURE__*/\nMOVEABLE_ABLES.reduce(function (current, able) {\n  return __assign$1(__assign$1({}, current), \"events\" in able ? able.events : {});\n}, {});\nvar MOVEABLE_PROPS_MAP =\n/*#__PURE__*/\nMOVEABLE_ABLES.reduce(function (current, able) {\n  return __assign$1(__assign$1({}, current), able.props);\n}, {});\nvar MOVEABLE_EVENTS_MAP =\n/*#__PURE__*/\ninvertObject(MOVEABLE_EVENTS_PROPS_MAP);\nvar MOVEABLE_EVENTS = Object.keys(MOVEABLE_EVENTS_MAP);\nvar MOVEABLE_PROPS = Object.keys(MOVEABLE_PROPS_MAP);\n\nfunction getMaxPos(poses, index) {\n  return Math.max.apply(Math, poses.map(function (_a) {\n    var pos1 = _a[0],\n        pos2 = _a[1],\n        pos3 = _a[2],\n        pos4 = _a[3];\n    return Math.max(pos1[index], pos2[index], pos3[index], pos4[index]);\n  }));\n}\n\nfunction getMinPos(poses, index) {\n  return Math.min.apply(Math, poses.map(function (_a) {\n    var pos1 = _a[0],\n        pos2 = _a[1],\n        pos3 = _a[2],\n        pos4 = _a[3];\n    return Math.min(pos1[index], pos2[index], pos3[index], pos4[index]);\n  }));\n}\n\nfunction getGroupRect(moveables, rotation) {\n  if (!moveables.length) {\n    return [0, 0, 0, 0];\n  }\n\n  var moveablePoses = moveables.map(function (_a) {\n    var state = _a.state;\n    return getAbsolutePosesByState(state);\n  });\n  var minX = MAX_NUM;\n  var minY = MAX_NUM;\n  var groupWidth = 0;\n  var groupHeight = 0;\n  var fixedRotation = throttle(rotation, TINY_NUM);\n\n  if (fixedRotation % 90) {\n    var rad_1 = fixedRotation / 180 * Math.PI;\n    var a1_1 = Math.tan(rad_1);\n    var a2_1 = -1 / a1_1;\n    var b1MinMax_1 = [MIN_NUM, MAX_NUM];\n    var b2MinMax_1 = [MIN_NUM, MAX_NUM];\n    moveablePoses.forEach(function (poses) {\n      poses.forEach(function (pos) {\n        // ax + b = y\n        // b = y - ax\n        var b1 = pos[1] - a1_1 * pos[0];\n        var b2 = pos[1] - a2_1 * pos[0];\n        b1MinMax_1[0] = Math.max(b1MinMax_1[0], b1);\n        b1MinMax_1[1] = Math.min(b1MinMax_1[1], b1);\n        b2MinMax_1[0] = Math.max(b2MinMax_1[0], b2);\n        b2MinMax_1[1] = Math.min(b2MinMax_1[1], b2);\n      });\n    });\n    b1MinMax_1.forEach(function (b1) {\n      // a1x + b1 = a2x + b2\n      b2MinMax_1.forEach(function (b2) {\n        // (a1 - a2)x = b2 - b1\n        var x = (b2 - b1) / (a1_1 - a2_1);\n        var y = a1_1 * x + b1;\n        minX = Math.min(minX, x);\n        minY = Math.min(minY, y);\n      });\n    });\n    var rotatePoses = moveablePoses.map(function (_a) {\n      var pos1 = _a[0],\n          pos2 = _a[1],\n          pos3 = _a[2],\n          pos4 = _a[3];\n      return [rotate(pos1, -rad_1), rotate(pos2, -rad_1), rotate(pos3, -rad_1), rotate(pos4, -rad_1)];\n    });\n    groupWidth = getMaxPos(rotatePoses, 0) - getMinPos(rotatePoses, 0);\n    groupHeight = getMaxPos(rotatePoses, 1) - getMinPos(rotatePoses, 1);\n  } else {\n    minX = getMinPos(moveablePoses, 0);\n    minY = getMinPos(moveablePoses, 1);\n    groupWidth = getMaxPos(moveablePoses, 0) - minX;\n    groupHeight = getMaxPos(moveablePoses, 1) - minY;\n\n    if (fixedRotation % 180) {\n      var changedWidth = groupWidth;\n      groupWidth = groupHeight;\n      groupHeight = changedWidth;\n    }\n  }\n\n  return [minX, minY, groupWidth, groupHeight];\n}\n/**\n * @namespace Moveable.Group\n * @description You can make targets moveable.\n */\n\n\nvar MoveableGroup =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(MoveableGroup, _super);\n\n  function MoveableGroup() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.differ = new ChildrenDiffer();\n    _this.moveables = [];\n    _this.transformOrigin = \"50% 50%\";\n    return _this;\n  }\n\n  var __proto = MoveableGroup.prototype;\n\n  __proto.checkUpdate = function () {\n    this.updateAbles();\n  };\n\n  __proto.updateRect = function (type, isTarget, isSetState) {\n    if (isSetState === void 0) {\n      isSetState = true;\n    }\n\n    if (!this.controlBox) {\n      return;\n    }\n\n    this.moveables.forEach(function (moveable) {\n      moveable.updateRect(type, false, false);\n    });\n    var state = this.state;\n    var props = this.props;\n    var target = state.target || props.target;\n\n    if (!isTarget || type !== \"\" && props.updateGroup) {\n      // reset rotataion\n      this.rotation = props.defaultGroupRotate;\n      this.transformOrigin = props.defaultGroupOrigin || \"50% 50%\";\n      this.scale = [1, 1];\n    }\n\n    var rotation = this.rotation;\n    var scale = this.scale;\n\n    var _a = getGroupRect(this.moveables, rotation),\n        left = _a[0],\n        top = _a[1],\n        width = _a[2],\n        height = _a[3]; // tslint:disable-next-line: max-line-length\n\n\n    var transform = \"rotate(\".concat(rotation, \"deg) scale(\").concat(scale[0] >= 0 ? 1 : -1, \", \").concat(scale[1] >= 0 ? 1 : -1, \")\");\n    target.style.cssText += \"left:0px;top:0px; transform-origin: \".concat(this.transformOrigin, \"; width:\").concat(width, \"px; height:\").concat(height, \"px;\") + \"transform:\".concat(transform);\n    state.width = width;\n    state.height = height;\n    var container = this.getContainer();\n    var info = getTargetInfo(this.controlBox.getElement(), target, this.controlBox.getElement(), this.getContainer(), this.props.rootContainer || container);\n    var pos = [info.left, info.top];\n\n    var _b = getAbsolutePosesByState(info),\n        pos1 = _b[0],\n        pos2 = _b[1],\n        pos3 = _b[2],\n        pos4 = _b[3]; // info.left + info.pos(1 ~ 4)\n\n\n    var minPos = getMinMaxs([pos1, pos2, pos3, pos4]);\n    var delta = [minPos.minX, minPos.minY];\n    info.pos1 = minus(pos1, delta);\n    info.pos2 = minus(pos2, delta);\n    info.pos3 = minus(pos3, delta);\n    info.pos4 = minus(pos4, delta);\n    info.left = left - info.left + delta[0];\n    info.top = top - info.top + delta[1];\n    info.origin = minus(plus(pos, info.origin), delta);\n    info.beforeOrigin = minus(plus(pos, info.beforeOrigin), delta);\n    info.originalBeforeOrigin = plus(pos, info.originalBeforeOrigin); // info.transformOrigin = minus(plus(pos, info.transformOrigin!), delta);\n\n    var clientRect = info.targetClientRect;\n    var direction = scale[0] * scale[1] > 0 ? 1 : -1;\n    clientRect.top += info.top - state.top;\n    clientRect.left += info.left - state.left;\n    target.style.transform = \"translate(\".concat(-delta[0], \"px, \").concat(-delta[1], \"px) \").concat(transform);\n    this.updateState(__assign$1(__assign$1({}, info), {\n      direction: direction,\n      beforeDirection: direction\n    }), isSetState);\n  };\n\n  __proto.getRect = function () {\n    return __assign$1(__assign$1({}, _super.prototype.getRect.call(this)), {\n      children: this.moveables.map(function (child) {\n        return child.getRect();\n      })\n    });\n  };\n\n  __proto.triggerEvent = function (name, e, isManager) {\n    if (isManager || name.indexOf(\"Group\") > -1) {\n      return _super.prototype.triggerEvent.call(this, name, e);\n    } else {\n      this._emitter.trigger(name, e);\n    }\n  };\n\n  __proto.updateAbles = function () {\n    _super.prototype.updateAbles.call(this, __spreadArray(__spreadArray([], this.props.ables, true), [Groupable], false), \"Group\");\n  };\n\n  __proto._updateTargets = function () {\n    _super.prototype._updateTargets.call(this);\n\n    this._prevTarget = this.props.dragTarget || this.areaElement;\n  };\n\n  __proto._updateEvents = function () {\n    var state = this.state;\n    var props = this.props;\n    var prevTarget = this._prevTarget;\n    var nextTarget = props.dragTarget || this.areaElement;\n\n    if (prevTarget !== nextTarget) {\n      unset(this, \"targetGesto\");\n      unset(this, \"controlGesto\");\n      state.target = null;\n    }\n\n    if (!state.target) {\n      state.target = this.areaElement;\n      this.controlBox.getElement().style.display = \"block\";\n      this.targetGesto = getTargetAbleGesto(this, nextTarget, \"Group\");\n      this.controlGesto = getAbleGesto(this, this.controlBox.getElement(), \"controlAbles\", \"GroupControl\");\n    }\n\n    var isContainerChanged = !equals(state.container, props.container);\n\n    if (isContainerChanged) {\n      state.container = props.container;\n    }\n\n    var _a = this.differ.update(props.targets),\n        added = _a.added,\n        changed = _a.changed,\n        removed = _a.removed;\n\n    if (isContainerChanged || added.length || changed.length || removed.length) {\n      this.updateRect();\n    }\n  };\n\n  __proto._updateObserver = function () {};\n\n  MoveableGroup.defaultProps = __assign$1(__assign$1({}, MoveableManager.defaultProps), {\n    transformOrigin: [\"50%\", \"50%\"],\n    groupable: true,\n    dragArea: true,\n    keepRatio: true,\n    targets: [],\n    defaultGroupRotate: 0,\n    defaultGroupOrigin: \"50% 50%\"\n  });\n  return MoveableGroup;\n}(MoveableManager);\n/**\n * @namespace Moveable.IndividualGroup\n * @description Create targets individually, not as a group.Create targets individually, not as a group.\n */\n\n\nvar MoveableIndividualGroup =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(MoveableIndividualGroup, _super);\n\n  function MoveableIndividualGroup() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.moveables = [];\n    return _this;\n  }\n\n  var __proto = MoveableIndividualGroup.prototype;\n\n  __proto.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        cspNonce = _a.cspNonce,\n        ControlBoxElement = _a.cssStyled,\n        targets = _a.targets;\n    return createElement(ControlBoxElement, {\n      cspNonce: cspNonce,\n      ref: ref(this, \"controlBox\"),\n      className: prefix(\"control-box\")\n    }, targets.map(function (target, i) {\n      return createElement(MoveableManager, __assign$1({\n        key: \"moveable\" + i,\n        ref: refs(_this, \"moveables\", i)\n      }, _this.props, {\n        target: target,\n        wrapperMoveable: _this\n      }));\n    }));\n  };\n\n  __proto.componentDidUpdate = function () {};\n\n  __proto.updateRect = function (type, isTarget, isSetState) {\n    if (isSetState === void 0) {\n      isSetState = true;\n    }\n\n    this.moveables.forEach(function (moveable) {\n      moveable.updateRect(type, isTarget, isSetState);\n    });\n  };\n\n  __proto.getRect = function () {\n    return __assign$1(__assign$1({}, _super.prototype.getRect.call(this)), {\n      children: this.moveables.map(function (child) {\n        return child.getRect();\n      })\n    });\n  };\n\n  __proto.request = function () {\n    return {\n      request: function () {\n        return this;\n      },\n      requestEnd: function () {\n        return this;\n      }\n    };\n  };\n\n  __proto.dragStart = function () {\n    return this;\n  };\n\n  __proto.hitTest = function () {\n    return 0;\n  };\n\n  __proto.isInside = function () {\n    return false;\n  };\n\n  __proto.isDragging = function () {\n    return false;\n  };\n\n  __proto.updateRenderPoses = function () {};\n\n  __proto.checkUpdate = function () {};\n\n  __proto.triggerEvent = function () {};\n\n  __proto.updateAbles = function () {};\n\n  __proto._updateEvents = function () {};\n\n  __proto._updateObserver = function () {};\n\n  return MoveableIndividualGroup;\n}(MoveableManager);\n\nvar InitialMoveable =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(InitialMoveable, _super);\n\n  function InitialMoveable() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.refTargets = [];\n    _this.selectorMap = {};\n    return _this;\n  }\n\n  var __proto = InitialMoveable.prototype;\n\n  InitialMoveable.makeStyled = function () {\n    var cssMap = {};\n    var ables = this.getTotalAbles();\n    ables.forEach(function (_a) {\n      var css = _a.css;\n\n      if (!css) {\n        return;\n      }\n\n      css.forEach(function (text) {\n        cssMap[text] = true;\n      });\n    });\n    var style = getKeys(cssMap).join(\"\\n\");\n    this.defaultStyled = styled(\"div\", prefixCSS(PREFIX, MOVEABLE_CSS + style));\n  };\n\n  InitialMoveable.getTotalAbles = function () {\n    return __spreadArray([Default, Groupable, IndividualGroupable, DragArea], this.defaultAbles, true);\n  };\n\n  __proto.render = function () {\n    var moveableContructor = this.constructor;\n\n    if (!moveableContructor.defaultStyled) {\n      moveableContructor.makeStyled();\n    }\n\n    var _a = this.props,\n        userAbles = _a.ables,\n        userProps = _a.props,\n        props = __rest(_a, [\"ables\", \"props\"]);\n\n    var refTargets = this._updateRefs(true);\n\n    var elementTargets = getElementTargets(refTargets, this.selectorMap);\n    var isGroup = elementTargets.length > 1;\n    var totalAbles = moveableContructor.getTotalAbles();\n\n    var ables = __spreadArray(__spreadArray([], totalAbles, true), userAbles || [], true);\n\n    var nextProps = __assign$1(__assign$1(__assign$1({}, props), userProps || {}), {\n      ables: ables,\n      cssStyled: moveableContructor.defaultStyled,\n      customStyledMap: moveableContructor.customStyledMap\n    });\n\n    if (isGroup) {\n      if (props.individualGroupable) {\n        return createElement(MoveableIndividualGroup, __assign$1({\n          key: \"individual-group\",\n          ref: ref(this, \"moveable\")\n        }, nextProps, {\n          target: null,\n          targets: elementTargets\n        }));\n      }\n\n      return createElement(MoveableGroup, __assign$1({\n        key: \"group\",\n        ref: ref(this, \"moveable\")\n      }, nextProps, {\n        target: null,\n        targets: elementTargets\n      }));\n    } else {\n      return createElement(MoveableManager, __assign$1({\n        key: \"single\",\n        ref: ref(this, \"moveable\")\n      }, nextProps, {\n        target: elementTargets[0]\n      }));\n    }\n  };\n\n  __proto.componentDidMount = function () {\n    this._updateRefs();\n  };\n\n  __proto.componentDidUpdate = function () {\n    this._updateRefs();\n  };\n\n  __proto.componentWillUnmount = function () {\n    this.selectorMap = {};\n    this.refTargets = [];\n  };\n\n  __proto.getManager = function () {\n    return this.moveable;\n  };\n\n  __proto._updateRefs = function (isRender) {\n    var prevRefTargets = this.refTargets;\n    var nextRefTargets = getRefTargets(this.props.target || this.props.targets);\n    var isBrowser = typeof document !== \"undefined\";\n    var isUpdate = prevRefTargets.length !== nextRefTargets.length || prevRefTargets.some(function (target, i) {\n      var nextTarget = nextRefTargets[i];\n\n      if (!target && !nextTarget) {\n        return false;\n      } else if (target !== nextTarget) {\n        return true;\n      }\n\n      return false;\n    });\n    var selectorMap = this.selectorMap;\n    var nextSelectorMap = {};\n    this.refTargets.forEach(function (target) {\n      if (isString(target)) {\n        var selectorTarget = selectorMap[target];\n\n        if (selectorTarget) {\n          nextSelectorMap[target] = selectorMap[target];\n        } else if (isBrowser) {\n          isUpdate = true;\n          nextSelectorMap[target] = [].slice.call(document.querySelectorAll(target));\n        }\n      }\n    });\n    this.refTargets = nextRefTargets;\n    this.selectorMap = nextSelectorMap;\n\n    if (!isRender && isUpdate) {\n      this.forceUpdate();\n    }\n\n    return nextRefTargets;\n  };\n\n  InitialMoveable.defaultAbles = [];\n  InitialMoveable.customStyledMap = {};\n  InitialMoveable.defaultStyled = null;\n\n  __decorate([withMethods(MOVEABLE_METHODS)], InitialMoveable.prototype, \"moveable\", void 0);\n\n  return InitialMoveable;\n}(PureComponent);\n\nvar Moveable =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(Moveable, _super);\n\n  function Moveable() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Moveable.defaultAbles = MOVEABLE_ABLES;\n  return Moveable;\n}(InitialMoveable);\n\nfunction makeMoveable(ables) {\n  var _a;\n\n  return _a =\n  /*#__PURE__*/\n  function (_super) {\n    __extends(Moveable, _super);\n\n    function Moveable() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    return Moveable;\n  }(InitialMoveable), _a.defaultAbles = ables, _a;\n}\n\nexport default Moveable;\nexport { Clippable, Draggable, edgeDraggable as EdgeDraggable, InitialMoveable, MOVEABLE_ABLES, MOVEABLE_EVENTS, MOVEABLE_EVENTS_MAP, MOVEABLE_EVENTS_PROPS_MAP, MOVEABLE_METHODS, MOVEABLE_PROPS, MOVEABLE_PROPS_MAP, Pinchable, Resizable, Rotatable, Roundable, Scalable, Snappable, Warpable, getElementInfo, makeAble, makeMoveable };\n","import { MOVEABLE_PROPS_MAP } from \"react-compat-moveable\";\nimport { MOVEABLE_PROPS, MOVEABLE_METHODS, MOVEABLE_EVENTS } from \"react-moveable\";\n\nexport const PROPERTIES: string[] = MOVEABLE_PROPS;\nexport const METHODS: string[] = MOVEABLE_METHODS;\nexport const EVENTS: string[] = MOVEABLE_EVENTS;\nexport const PROPS_MAP: Record<string, any> = MOVEABLE_PROPS_MAP;\n","import { ref, Properties } from \"framework-utils\";\nimport * as React from \"react\";\nimport { render } from \"react-dom\";\nimport InnerMoveable from \"./InnerMoveable\";\nimport {\n    MoveableInterface,\n    MoveableOptions, MoveableProperties,\n} from \"react-moveable/types\";\nimport { camelize, isArray } from \"@daybrush/utils\";\nimport { MoveableEventsParameters } from \"./types\";\nimport { PROPERTIES, EVENTS, METHODS } from \"./consts\";\nimport EventEmitter from \"@scena/event-emitter\";\n/**\n * Moveable is Draggable! Resizable! Scalable! Rotatable!\n * @sort 1\n * @alias Moveable\n * @extends EventEmitter\n */\n@Properties(METHODS, (prototype, property) => {\n    if (prototype[property]) {\n        return;\n    }\n    prototype[property] = function(...args: any[]) {\n        const self = this.getMoveable();\n\n        if (!self || !self[property]) {\n            return;\n        }\n        return self[property](...args);\n    };\n})\n@Properties(PROPERTIES, (prototype, property) => {\n    Object.defineProperty(prototype, property, {\n        get() {\n            return this.getMoveable().props[property];\n        },\n        set(value) {\n            this.setState({\n                [property]: value,\n            });\n        },\n        enumerable: true,\n        configurable: true,\n    });\n})\nclass MoveableManager extends EventEmitter<MoveableEventsParameters> {\n    private innerMoveable!: InnerMoveable | null;\n    private tempElement: HTMLElement | null = document.createElement(\"div\");\n\n    /**\n     *\n     */\n    constructor(parentElement: HTMLElement | SVGElement, options: MoveableOptions = {}) {\n        super();\n        const nextOptions = { ...options };\n\n        const events: any = {};\n\n        EVENTS.forEach(name => {\n            events[camelize(`on ${name}`)] = (e: any) => this.trigger<any>(name, e);\n        });\n\n        render(\n            <InnerMoveable\n                ref={ref(this, \"innerMoveable\")}\n                parentElement={parentElement}\n                {...nextOptions}\n                {...events}\n            />,\n            this.tempElement,\n        );\n        const target = nextOptions.target!;\n        if (isArray(target) && target.length > 1) {\n            this.updateRect();\n        }\n    }\n    public setState(state: Partial<MoveableOptions>, callback?: () => any) {\n        this.innerMoveable!.setState(state, callback);\n    }\n    public forceUpdate(callback?: () => any) {\n        this.innerMoveable!.forceUpdate(callback);\n    }\n    public dragStart(e: MouseEvent | TouchEvent) {\n        const innerMoveable = this.innerMoveable;\n        if ((innerMoveable as any).$_timer) {\n            this.forceUpdate();\n        }\n        this.getMoveable().dragStart(e);\n    }\n    public destroy() {\n        render(null as any, this.tempElement!);\n        this.off();\n        this.tempElement = null;\n        this.innerMoveable = null;\n    }\n    private getMoveable() {\n        return this.innerMoveable!.moveable;\n    }\n}\n\ninterface MoveableManager extends MoveableInterface, MoveableProperties {\n}\n\nexport default MoveableManager;\n","import MoveableManager from \"./MoveableManager\";\n\nexport default class Moveable extends MoveableManager {}\n","import { Able, DefaultProps } from \"react-moveable/types\";\nimport { getElementInfo as getElementInfoFunction, makeAble as makeAbleFunction } from \"react-moveable\";\n\nexport function getElementInfo(\n    target: SVGElement | HTMLElement,\n    container?: SVGElement | HTMLElement | null,\n    rootContainer?: SVGElement | HTMLElement | null | undefined,\n) {\n    return getElementInfoFunction(target, container, rootContainer);\n};\nexport function makeAble<\n    Name extends string,\n    AbleObject extends Partial<Able<any, any>>,\n    Props extends DefaultProps<Name, AbleObject>,\n>(name: Name, able: AbleObject) {\n    return makeAbleFunction<Name, AbleObject, Props>(name, able);\n}\n","import Moveable, * as modules from \"./index\";\n\nfor (const name in modules) {\n    (Moveable as any)[name] = (modules as any)[name];\n}\n\nexport default Moveable;\n"],"names":["__extends","props","_super","_this","state","createPortal","React","Moveable","ref","parentElement","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__spreadArrays","il","r","Array","k","a","j","jl","EventEmitter","_events","__proto","on","eventName","listener","isObject","name","_addEvent","off","events","index","findIndex","e","splice","once","Promise","resolve","emit","param","isStop","eventType","stop","currentTarget","forEach","info","trigger","options","listeners","push","extendStatics","d","b","setPrototypeOf","__proto__","TypeError","String","__","constructor","create","__assign$1","__spreadArray","to","from","pack","l","ar","slice","concat","makeAble","able","_a","Boolean","agent","getAgent","IS_WEBKIT","browser","webkit","IS_WEBKIT605","navi","window","userAgent","navigator","res","exec","toLowerCase","parseFloat","PREFIX","NEARBY_POS","FLOAT_POINT_NUM","TINY_NUM","MIN_SCALE","DIRECTIONS","DIRECTION_INDEXES","w","nw","ne","sw","se","DIRECTION_ROTATIONS","setCustomDrag","delta","isPinch","isConvert","result","gesto","move","inputEvent","datas","originalDatas","draggableDatas","draggable","convertDragDist","isDrag","parentEvent","CustomGesto","prevX","prevY","startX","startY","isFlag","dragStart","client","type","drag","clientX","clientY","distX","distY","deltaX","deltaY","parentGesto","fillChildEvents","moveable","groupable","groupableDatas","childDatas","moveables","map","_","triggerChildGesto","isStart","match","isEnd","childs","ev","childMoveable","childEvent","childGestos","parentFlag","child","triggerChildAbles","eachEvent","callback","renderDirectionControls","defaultDirections","additionalClassName","renderPoses","rotationRad","rotation","direction","_b","_c","renderDirections","directions","zoom","directionMap","sign","degRotation","Math","PI","dir","indexes","directionRotation","throttle","createElement","className","prefix","key","style","getControlTransform","renderLine","pos1","pos2","classNames","_i","rad","getRad","getLineStyle","renderAllDirections","renderDiagonalDirections","setRotateStartInfo","origin","rect","is3d","nextOrigin","calculatePosition","rootMatrix","startAbsoluteOrigin","plus","left","top","prevDeg","defaultDeg","prevSnapDeg","loop","getAbsoluteDist","deg","normalizedPrevDeg","floor","dist","getAbsoluteDistByClient","getRotateInfo","moveableRect","startValue","isSnap","throttleRotate","nextDist","checkSnapRotate","snapRotation","snapDeg","getRotationPositions","rotationPosition","pos3","pos4","split","dir1","dir2","radPoses","pos","getRotationRad","isReverse","dragControlCondition","isRequest","requestAble","target","hasClass","rotationTarget","getRefTargets","some","element","contains","Rotatable","canPinch","rotatable","Number","onRotateStart","onBeforeRotate","onRotate","onRotateEnd","onRotateGroupStart","onBeforeRotateGroup","onRotateGroup","onRotateGroupEnd","css","render","positions","jsxs","transform","dragControlStart","parentRotate","beforeOrigin","beforeDirection","targetTransform","moveableClientRect","getRect","fixedPosition","getDirectionOffset","getOriginDirection","externalRotate","beforeInfo","afterInfo","absoluteInfo","setDefaultTransformIndex","params","fillParams","set","rotatation","fillTransformStartEvent","Draggable","triggerEvent","isRotate","snapRenderInfo","request","dragControl","groupDelta","resolveTransformEvent","targetDirection","getTransformDirection","parentMoveable","beforeDelta","beforeDist","beforeRotation","absoluteDelta","absoluteDist","absoluteRotation","startRotation","absoluteStartRotation","parentDist","setRotation","nextRotation","nextTransform","convertTransformFormat","inverseDist","getRotateDist","inverseDelta","minus","prevInverseDist","requestValue","rotate","beforeRotate","absoluteRotate","fillTransformEvent","dragControlAfter","dragControlEnd","fillEndParams","dragGroupControlCondition","dragGroupControlStart","parentLeft","parentTop","parentBeforeOrigin","childClient","groupClient","nextParams","targets","dragGroupControl","catchEvent","setGroupRotation","dragGroupControlEnd","distRotate","getRotation","isControl","requestStart","deltaRotate","requestEnd","VERTICAL_NAMES","HORIZONTAL_NAMES","VERTICAL_NAMES_MAP","start","end","center","HORIZONTAL_NAMES_MAP","hasGuidelines","ableName","snappable","bounds","innerBounds","verticalGuidelines","horizontalGuidelines","snapGridWidth","snapGridHeight","guidelines","enableSnap","indexOf","getSnapDirections","snapDirections","right","bottom","mapSnapDirectionPoses","snapPoses","nextSnapDirections","nextSnapPoses","splitSnapDirectionPoses","horizontalNames","filter","verticalNames","horizontal","vertical","getGapGuidelines","targetRect","snapThreshold","elementRects","gapGuidelines","mainNames","sideNames","targetStart","targetEnd","targetCenter","targetStart2","targetEnd2","getDist","elementRect","nextElementRects","sort","groups","snapRect1","snapRect2","rect1","rect2","rect1Start","rect1End","rect2Start","rect2End","gap","isCenter","abs","size","hide","gapRects","getDefaultGuidelines","width","height","clientLeft","clientTop","snapOffset","snapOffsetLeft","snapOffsetTop","snapOffsetBottom","snapOffsetRight","snapWidth","snapHeight","calculateContainerPos","containerRect","clientPos","getSnapElementRects","values","containerClientRect","targetClientRect","containerLeft","containerTop","poses","getAbsolutePosesByState","getMinMaxs","targetLeft","minX","targetTop","minY","_d","calculateInversePosition","roundSign","distLeft","distTop","value","getBoundingClientRect","elementLeft","elementTop","elementRight","elementBottom","middle","getElementGuidelines","elementGuidelines","prevValues","snapRect","refresh","nextElementGuidelines","el","getRefTarget","diff","v","maintained","added","nextValues","prevIndex","nextIndex","elementSnapDirections","nextGuidelines","topValue","leftValue","rightValue","bottomValue","_e","centerValue","_f","middleValue","_g","rectTop","rectLeft","sizes","getTotalGuidelines","overflow","containerHeight","scrollHeight","containerWidth","scrollWidth","containerClientHeight","clientHeight","containerClientWidth","clientWidth","snapGap","totalGuidelines","_h","getGridGuidelines","checkMoveableSnapPoses","posesX","posesY","customSnapThreshold","selectValue","checkSnapPoses","checkSnap","checkSnapKeepRatio","startPos","endPos","endX","endY","dx","dy","isBottom","isRight","getTinyDist","verticalInfo","offset","horizontalInfo","verticalSnapInfo","horizontalSnapInfo","posInfos","getNearestSnapGuidelineInfo","isVerticalSnap","verticalGuideline","guideline","isHorizontalSnap","horizontalGuideline","horizontalPos","verticalPos","y","x","checkSnaps","snapInfo","posInfo","guidelineInfo","guidelineInfos","targetType","targetPoses","isVertical","posType","snapPosInfos","targetPos","snapPosInfo","getSnapInfosByDirection","snapDirection","nextPoses","getPosByDirection","alignPoses","keepRatio","getPosesByDirection","checkSnapBoundPriority","aDist","bDist","isBound","getNearOffsetInfo","offsets","aSign","bSign","aOffset","bOffset","getCheckSnapDirections","fixedDirection","signs","isStartLine","dot","line","cx","average","cy","hitTestLine","test1","test2","isSameStartLine","dots","error","centerSign","every","checkInnerBoundDot","threshold","checkInnerBound","isAllBound","isVerticalBound","isHorizontalBound","leftLine","topLine","rightLine","bottomLine","isHorizontalStart","isVerticalStart","topBoundInfo","checkLineBoundCollision","bottomBoundInfo","leftBoundInfo","rightBoundInfo","isAllVerticalBound","isAllHorizontalBound","verticalOffset","maxOffset","horizontalOffset","boundLine","isRender","dot1","dot2","boundDot1","boundDot2","dy1","dx1","dy2","dx2","getInnerBoundInfo","lines","multiple","sizeOffset","getDragDist","getInnerBoundDragInfo","getCheckInnerBoundLines","innerBoundInfo","widthOffsetInfo","heightOffsetInfo","getInverseDragDist","getCheckSnapLineDirections","lineDirections","isBoundRotate","relativePoses","boundDots","getDistPointLine","sqrt","pow","solveReverseLine","checkRotateInnerBounds","prevPoses","relativeLeft","relativeRight","relativeTop","relativeBottom","dotInfos","getDistSize","lineRad","lineDist","dotDist","dotRad","distRad","acos","nextRad1","nextRad2","reduce","prev","cur","nextRad","checkInnerBoundPoses","horizontalPoses","verticalPoses","boundMap","checkBoundPoses","position","Infinity","nextBounds","checkBounds","getBounds","externalBounds","isCSS","checkBoundKeepRatio","startBoundPos","endBoundPos","minPos","min","maxPos","max","boundInfos","isBoundRotate$1","boundRect","boundRotate","vec","boundPos","nextPos","checkRotateBounds","relativeRad1","relativeRad2","renderGuideline","isHorizontal","scaleType","join","renderInnerGuideline","sizeValue","posValue","renderSnapPoses","renderPos","renderGuidelines","isDisplayInnerSnapDigit","renderDigitLine","lineType","snapDigit","isDisplaySnapDigit","snapDistFormat","sizeName","absGap","snapSize","toFixed","groupByElementGuidelines","otherIndex","names","groupBy","inner","elementRect1","elementRect2","nextPos1","nextPos2","total","renderDashedGuidelines","rendered","sidePos","prevRect","nextRect","size1","size2","renderPos1","renderPos2","renderGapGuidelines","targetSideStart","targetSideEnd","sideStartPos","sideEndPos","sideCenterPos","solveEquation","TINY_NUM$1","solveNextOffset","isOutside","getDist$1","dist1","dist2","widthOffset","heightOffset","getSnapBound","boundInfo","checkThrottleDragRotate","throttleDragRotate","offsetX","offsetY","adjustPoses","adjustPos","prevDistY","scale","checkSnapBoundsDrag","getAbsolutePoses","absolutePoses","boundPoses","checkMoveableSnapBounds","verticalSnapBoundInfo","horizontalSnapBoundInfo","verticalInnerBoundInfo","horizontalInnerBoundInfo","horizontalBoundInfos","verticalBoundInfos","horizontalDist","verticalDist","snapIndex","snap","checkSnapBounds","guideines","checkSnapRightLine","snapBoundInfo","rad180","isHorizontalLine","isVerticalLine","getSnapBoundInfo","startDirection","endDirection","otherStartPos","otherEndPos","checkSnapBoundsKeepRatio","otherHorizontalOffset","isOtherHorizontalBound","isOtherHorizontalSnap","otherVerticalOffset","isOtherVerticalBound","isOtherVerticalSnap","snapLine","getSnapBoundOffset","horizontalBoundInfo","verticalBoundInfo","checkMaxBounds","maxWidth","maxHeight","left_1","top_1","right_1","bottom_1","otherDirection","isCheckVertical","isCheckHorizontal","otherPos","nextOtherPos","isHeightOutside","isNaN","isWidthOutside","snapStart","container","snapContainer","snapContainerTarget","snapContainerRect","getClientRect","offset1","getDragDistByState","offset2","getNextFixedPoses","matrix","fixedPos","calculatePoses","nextFixedPos","getSizeOffsetInfo","recheckSizeByTwoDirection","snapPos","nextWidthOffset","nextHeightOffset","nextWidth","nextHeight","checkSizeDist","getNextPoses","isWidthBound","isHeightBound","widthDist","heightDist","isGetWidthOffset","checkSnapResize","allMatrix","checkSnapScale","startOffsetWidth","startOffsetHeight","sizeDist","scaleMatrix","startCheckSnapDrag","getSnapGuidelines","addBoundGuidelines","verticalSnapPoses","horizontalSnapPoses","verticalInnerBoundPoses","horizontalInnerBoundPoses","innerPos","Snappable","dragRelation","Function","onSnap","minLeft","minTop","externalPoses","snapInfos","hasExternalPoses","externalRect","verticalPosInfos","horizontalPosInfos","allGuidelines","elements","gaps","pinchStart","unset","dragEnd","directionCondition","dragGroupStart","dragGroup","dragGroupEnd","throttleDrag","startDragRotate","edgeDraggable","onDragStart","onDrag","onDragEnd","onDragGroupStart","onDragGroup","onDragGroupEnd","dragInfo","targetGesto","getComputedStyle","setDragStart","prevDist","prevBeforeDist","deltaOffset","distOffset","translate","startRect","dragRotateRad","ry","cos","rx","sin","beforeTranslate","getBeforeDragDist","getTransformDist","throttleArray","passDelta","passDist","fillOriginalTransform","num","dragAfter","calculatePointerDist","posX","posY","beforeMatrix","offsetMatrix","targetMatrix","transformOrigin","inverseMatrix","invert","inverseBeforeMatrix","absoluteOrigin","convertPositionMatrix","startDragBeforeDist","calculate","startDragDist","calculateMoveablePosition","beforeTransform","event","functionName","beforeRenderable","transformIndex","nextTransforms","nextTransformAppendedIndexes","convertTransformInfo","targetFunction","matFunctionName","beforeFunctionTexts","afterFunctionTexts","beforeFunctionMatrix","beforeTransform2","beforeFunctionMatrix2","targetTansform","targetFunctionMatrix","afterTransform","afterFunctionMatrix","afterTransform2","afterFunctionMatrix2","targetAllTransform","allFunctionMatrix","isAppendTransform","bx","by","getTransfromMatrix","fromTranslation","isAfter","nextTargetMatrix","multiply","res1","afterTargetMatrix","isBefore","calculateTransformOrigin","prevWidth","prevHeight","prevOrigin","splitUnit","unit","prevSize","measureRatio","getPosIndexesByDirection","getNextMatrix","getAbsoluteMatrix","getNextTransformMatrix","parseMat","convertDimension","createScaleMatrix","setTransform","startTransforms","isArray","splitSpace","setTransformIndex","property","func","parse","functionValue","getNextTransformText","getTranslateDist","nextMatrix","groupLeft","groupTop","nextFixedPosition","getScaleDist","scaleDist","nextFixedOffset","rotateDist","getResizeDist","getAbsolutePosition","multiply2","prefixNames","getTransformMatrix","multiplies","createOriginMatrix","measureSVGSize","viewBox","getSVGViewBox","ownerSVGElement","getBeforeTransformOrigin","relativeOrigin","getTransformOrigin","o","getElementTransform","computedStyle","computedTransform","list","baseVal","matrixs","_loop_1","chr","getOffsetInfo","lastParent","isParent","body","document","tagName","isStatic","offsetParent","getOffsetPosInfo","isFixed","offsetLeft","offsetTop","documentElement","isSVG","isUndefined","hasOffset","targetOrigin","getSVGGraphicsOffset","getBodyOffset","bodyStyle","bodyPosition","marginLeft","parseInt","marginTop","convert3DMatrixes","matrixes","getMatrixStackInfo","checkContainer","targetTransformOrigin","offsetContainer","convertCSStoMatrix","offsetPos","getSVGMatrix","createIdentityMatrix","isOffsetEnd","parentClientLeft","parentClientTop","margin","scrollLeft","scrollTop","calculateElementInfo","rootContainer","isAbsolute3d","allResult","getSize","offsetWidth","offsetHeight","calculateMatrixStack","prevTargetMatrix","rootMatrixes","isRoot3d","isNext3d","isSVGGraphicElement","reverse","originalRootContainer","endContainer","rootMatrixBeforeOffset","nextInfo","getSVGOffset","isMatrix3d","makeMatrixCSS","ignoreDimension","convertMatrixtoCSS","viewBoxWidth","viewBoxHeight","scaleX","scaleY","preserveAspectRatio","align","meetOrSlice","svgOrigin","xAlign","yAlign","scaleDimension","getBBox","bbox","rectWidth","rectHeight","calculateRect","offsetInfo","targetInfo","mat","prevLeft","prevTop","posOrigin","rectOrigin","count","mat2","nextLeft","nextTop","round","x1","y1","x2","y2","x3","y3","x4","y4","originX","originY","getShapeDirection","getDiagonalSize","getCSSSize","svg","cssWidth","cssHeight","boxSizing","borderLeft","borderLeftWidth","borderRight","borderRightWidth","borderTop","borderTopWidth","borderBottom","borderBottomWidth","paddingLeft","paddingRight","paddingTop","paddingBottom","horizontalPadding","verticalPadding","horizontalBorder","verticalBorder","getTargetInfo","moveableElement","parentContainer","resetClientRect","beforePosition","getOrigin","originalBeforeOrigin","isExtends","innerWidth","innerHeight","clientRect","getDirection","direciton","getAttribute","self","isStartEvent","lastEvent","isDouble","_emitter","isManager","pseudoElt","filterAbles","ables","methods","triggerAblesSimultaneously","enabledAbles","ableGroups","method","ableGroup","equals","a1","a2","arr","groupKeys","groupKey","keyIndex","group","groupByMap","flat","args","calculatePadding","convertCSSSize","isRelative","moveControlPos","controlPoses","isRect","sub","dists","verticalDirection_1","horizontalDirection_1","controlPose","controlDir","dirDir","dirHorizontal","dirVertical","parentDirection","transforms","undefined","beforeFunctionTexts2","targetFunctionText","afterFunctionTexts2","beforeFunctions","beforeFunctions2","targetFunctions","afterFunctions","afterFunctions2","toMat","isArrayFormat","Element","isSelector","isString","querySelector","isFunction","current","userTargets","querySelectorAll","getAbsoluteRotation","calculateMatrixDist","getOffsetSizeDist","sizeDirection","ratio","distWidth","distHeight","parentDistance","parentScale","startFixedDirection","dist_1","directionRatio","standardRad","signSize","startWidthSize","startHeightSize","distSize","ratioRad","Pinchable","onPinchStart","onPinch","onPinchEnd","onPinchGroupStart","onPinchGroup","onPinchGroupEnd","angle","pinchable","controlEventName","pinchAbles","controlAbles","ableEvent","pinch","pinchScale","distance","pinchEnd","pinchGroupStart","pinchGroup","pinchGroupEnd","Resizable","resizable","throttleResize","resizeFormat","onResizeStart","onBeforeResize","onResize","onResizeEnd","onResizeGroupStart","onBeforeResizeGroup","onResizeGroup","onResizeGroupEnd","edge","startWidth","startHeight","padding","minSize","maxSize","minWidth","minHeight","isParentElement","containerStyle","convertUnitSize","isWidth","setRatio","isFinite","startPositions","setFixedDirection","setMin","setMax","setOrigin","isResize","parentKeepRatio","dragClient","getNextBoundingSize","nextSize","boundingWidth","boundingHeight","nextFixedDirection","setSize","snapDist","computeSize","isNoSnap","calculateBoundSize","errorWidth","errorHeight","isErrorWidth","isErrorHeight","originalEvents","setDist","createRotateMatrix","originalX","originalY","deltaWidth","deltaHeight","Scalable","scalable","throttleScale","onScaleStart","onBeforeScale","onScale","onScaleEnd","onScaleGroupStart","onBeforeScaleGroup","onScaleGroup","onScaleGroupEnd","scaleWidth","scaleHeight","scaleXRatio","scaleYRatio","isScale","getNextScale","stateDirection","setScale","nextScale","moveableScale","getMiddleLinePos","getTriangleRad","rad1","rad2","isValidPos","poses1","poses2","pi","Warpable","warpable","onWarpStart","onWarp","onWarpEnd","linePosFrom1","linePosFrom2","linePosFrom3","linePosFrom4","linePosTo1","linePosTo2","linePosTo3","linePosTo4","inputTarget","warpTargetMatrix","targetInverseMatrix","prevMatrix","posIndexes","isWarp","selectedPoses","nearByPoses","h","createWarpMatrix","afterMatrix","totalMatrix","AREA_PIECES","AREA_PIECE","AVOID","restoreStyle","areaElement","removeClass","cssText","renderPieces","DragArea","dragArea","passDragArea","onClick","onClickGroup","isDragArea","rects","children","nextElementSibling","addClass","disableNativeEvent","enableNativeEvent","requestAnimationFrame","Origin","getDefaultScrollPosition","scrollContainer","Scrollable","scrollable","scrollThreshold","getScrollPosition","onScroll","onScrollGroup","getContainer","dragScroll","DragScroll","scrollContainerElement","gestoName","scrollBy","checkScroll","dragGroupContro","dragGroupControEnd","Default","dragTarget","portalContainer","useResizeObserver","pinchThreshold","pinchOutside","checkInput","cspNonce","translateZ","hideDefaultLines","Padding","paddingDirections","paddingPos1","paddingPos2","paddingPos3","paddingPos4","RADIUS_DIRECTIONS","calculateRatio","sumSize","sumRatio","HORIZONTAL_RADIUS_ORDER","VERTICAL_RADIUS_ORDER","HORIZONTAL_RADIUS_DIRECTIONS","VERTICAL_RADIUS_DIRECTIONS","getRadiusStyles","clipStyles","raws","rawPos","styles","getRadiusRange","horizontalRange","verticalRange","clipPose","getRadiusValues","minCounts","splitIndex","splitLength","horizontalValues","verticalValues","nwValue","neValue","seValue","swValue","_j","wnValue","_k","enValue","_l","esValue","_m","wsValue","horizontalRawPoses","verticalRawPoses","nextHorizontalPoses","nextVerticalPoses","raw","removeRadiusPos","startIndex","radiuslIndex","deleteCount","addRadiusPos","horizontalIndex","verticalIndex","radiusX","radiusY","startVerticalIndex","splitRadiusPoses","horizontals","verticals","CLIP_DIRECTIONS","CLIP_RECT_DIRECTIONS","getClipStyles","clipPath","clipRelative","clipType","clipPoses","isCircle","subWidth","subHeight","getRectPoses","xs","ys","dirx","diry","getClipPath","defaultClip","customClip","clipText","clip","splitBracket","clipPrefix","splitter","splitComma","xPos","yPos","radiusX_1","radiusY_1","radius","xRadius","yRadius","centerPos_1","roundIndex","rectLength","radiusValues","_o","_p","_q","_r","nextRight","nextBottom","radiusPoses","_s","addClipPath","clipEventType","clipStyle","removeClipPath","Clippable","clippable","defaultClipPath","customClipPath","clipArea","dragWithClip","clipTargetBounds","clipVerticalGuidelines","clipHorizontalGuidelines","clipSnapThreshold","onClipStart","onClip","onClipEnd","clipPathState","snapBoundInfos","calculatedPos","controls","isInset","isPolygon","linePoses_1","clipLeft","clipTop","ellipseClipPath","piece","areaPoses","allWidth","allHeight","allLeft_1","allTop_1","directionType","snapPos1","snapPos2","isClipStart","isLine","isArea","isDragWithTarget","isAll","guidePoses","isEllipse","guideRect","guideXPoses","guideYPoses","rectPoses","rectDists_1","boundDelta","snapOffsetY","snapOffsetX","distSnapX","distSnapY","state_1","nextClipStyles","OriginDraggable","originDraggable","originRelative","onDragOriginStart","onDragOrigin","onDragOriginEnd","startOrigin","startTargetOrigin","isDragOrigin","distOrigin","dragDelta","deltaOrigin","addBorderRadius","lineIndex","horizontalsLength","verticalsLength","getBorderRadius","borderRadius","triggerRoundEvent","roundRelative","borderRadiusState","Roundable","roundable","minRoundControls","maxRoundControls","roundClickable","onRoundStart","onRound","onRoundEnd","verticalCount","horizontalCount","isDisplay","display","controlIndex","isRound","selectedControlPose","selectedVertical","selectedHorizontal","pose","poseDist","isIdentityMatrix","BeforeRenderable","onBeforeRenderStart","onBeforeRender","onBeforeRenderEnd","onBeforeRenderGroupStart","onBeforeRenderGroup","onBeforeRenderGroupEnd","cssMatrix","startTransform","resetTransform","fillDragStartParams","fillDragParams","Renderable","onRenderStart","onRender","onRenderEnd","onRenderGroupStart","onRenderGroup","onRenderGroupEnd","resultCount","fillDragEndParams","triggerAble","ableType","eventOperation","eventAffix","requestInstant","conditionName","isFirstStart","controlGesto","updateRect","requestAble_1","eventAbles","elementFromPoint","results","nextDatas","isEventStart","isUpdate","isForceEnd","preventDefault","isUnmounted","forceUpdate","getTargetAbleGesto","moveableTarget","controlBox","getElement","startFunc","eventTarget","isMoveableElement","getAbleGesto","conditionFunctions","Gesto","EventManager","_onEvent","addEventListener","setAbles","destroy","removeEventListener","MoveableManager","targetAbles","_prevTarget","_prevDragArea","_observer","_observerId","onPreventClick","stopPropagation","removeEvent","checkUpdateRect","isDragging","cancelAnimationFrame","parentPosition","propsTarget","ControlBoxElement","cssStyled","checkUpdate","updateRenderPoses","stateTarget","groupTargets","ableAttributes","getEnabledAbles","renderAbles","_renderLines","componentDidMount","wrapperMoveable","_updateTargets","_updateNativeEvents","_updateEvents","updateCheckInput","_updateObserver","componentDidUpdate","prevProps","componentWillUnmount","manager","triggerDragStart","hitTest","points","fitPoints","getOverlapSize","totalSize","getAreaSize","isInside","isTarget","isSetState","updateState","updateTarget","statePos","getManager","isInstant","requsetAble","ableRequester","requester","ableParam","stateLeft","stateTop","stateContainer","updateAbles","isChanged","moveableContainer","unsetAbles","useCSS","tag","customStyleMap","customStyledMap","styled","always","nextState","setState","Renderer","ResizeObserver","disconnect","observer","observe","box","controlBoxElement","hasTargetAble","hasControlAble","isUnset","_isTargetChanged","useDragArea","prevTarget","prevDragArea","isTargetChanged","isDragAreaChanged","eventKeys","getKeys","hasAbles","defaultProps","PureComponent","Groupable","defaultGroupRotate","defaultGroupOrigin","refs","Clickable","clickable","addEvent","endEvent","containsElement","containsTarget","targetIndex","parentTarget","getDraggableEvent","IndividualGroupable","individualGroupable","MOVEABLE_ABLES","MOVEABLE_PROPS_MAP","PROPERTIES","MOVEABLE_PROPS","METHODS","MOVEABLE_METHODS","EVENTS","MOVEABLE_EVENTS","PROPS_MAP","nextOptions","camelize","InnerMoveable","tempElement","innerMoveable","$_timer","getMoveable","Properties","defineProperty","get","enumerable","configurable","getElementInfo","getElementInfoFunction","makeAbleFunction","modules"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAKA;;;IAA2CA,EAAAA,gCAAA;;IAGvC,wBAAA,CAAYC,KAAZ;IAAA,gBACIC,WAAA,KAAA,EAAMD,KAAN,SADJ;;IAFOE,IAAAA,WAAA,GAAa,EAAb;IAIHA,IAAAA,KAAI,CAACC,KAAL,GAAaD,KAAI,CAACF,KAAlB;;IACH;;;;IACM,gBAAA,GAAP;IACI,WAAOI,YAAY,CAACC,aAAA,CAACC,QAAD;IAAUC,MAAAA,GAAG,EAAEA,GAAG,CAAC,IAAD,EAAO,UAAP;WAAwB,KAAKJ,MAA/C,CAAD,EAA2D,KAAKA,KAAL,CAAWK,aAAtE,CAAnB;IACH,GAFM;;IAGX,sBAAA;IAAC,EAV0CH,UAA3C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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"}